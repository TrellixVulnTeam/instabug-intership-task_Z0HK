{"version":3,"sources":["hooks/user-auth-listener.js","helpers/protected-routes.js","helpers/is-user-logged-in.js","App.js","reportWebVitals.js","redux/user/user-reducer.js","redux/root-reducer.js","redux/store.js","index.js","constants/routes.js"],"names":["useAuthListener","useSelector","state","auth","user","isAuthenticated","error","loading","useState","activeUser","setActiveUser","useEffect","ProtectedRoute","children","rest","render","location","React","cloneElement","to","pathname","ROUTES","from","IsUserLoggedIn","loggedInPath","Login","lazy","NotFound","Welcome","App","fallback","path","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","UserReducer","action","type","payload","rootReducer","combineReducers","composeEnchancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middlewares","thunk","store","createStore","applyMiddleware","ReactDOM","StrictMode","document","getElementById","LOGIN","WELCOME"],"mappings":"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","file":"static/js/main.4953ddc1.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nexport default function useAuthListener() {\r\n\r\n    const { user, isAuthenticated, error, loading } = useSelector(state => state.auth)\r\n    const [activeUser, setActiveUser] = useState(null)\r\n    useEffect(() => {\r\n        if (isAuthenticated) {\r\n            setActiveUser(user)\r\n        } else {\r\n            setActiveUser(null)\r\n        }\r\n    }, [user])\r\n    return { activeUser }\r\n\r\n}\r\n","import { Redirect, Route } from 'react-router'\r\nimport * as ROUTES from '../constants/routes'\r\nimport React from 'react'\r\n\r\n\r\n\r\nexport default function ProtectedRoute({ user, children, ...rest }) {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={({ location }) => {\r\n                if (user) {\r\n                    return React.cloneElement(children, { user });\r\n                }\r\n\r\n                if (!user) {\r\n                    return (\r\n                        <Redirect\r\n                            to={{\r\n                                pathname: ROUTES.LOGIN,\r\n                                state: { from: location }\r\n                            }}\r\n                        />\r\n                    );\r\n                }\r\n\r\n                return null;\r\n            }}\r\n        />\r\n    );\r\n}\r\n","import { Redirect, Route } from 'react-router'\r\nimport React from 'react'\r\n\r\n\r\n\r\nexport default function IsUserLoggedIn({ user, loggedInPath, children, ...rest }) {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={({ location }) => {\r\n                if (!user) {\r\n                    return React.cloneElement(children, { user });\r\n                }\r\n\r\n                if (user) {\r\n                    return (\r\n                        <Redirect\r\n                            to={{\r\n                                pathname: loggedInPath,\r\n                                state: { from: location }\r\n                            }}\r\n                        />\r\n                    );\r\n                }\r\n\r\n                return null;\r\n            }}\r\n        />\r\n    );\r\n}\r\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport * as ROUTES from './constants/routes'\nimport './App.scss';\nimport { lazy, Suspense } from \"react\";\nimport ProtectedRoute from \"./helpers/protected-routes\";\nimport IsUserLoggedIn from \"./helpers/is-user-logged-in\";\nimport useAuthListener from \"./hooks/user-auth-listener\";\n\n\n\nconst Login = lazy(() => import('./pages/login'))\nconst NotFound = lazy(() => import('./pages/not-found'))\nconst Welcome = lazy(() => import('./pages/welcome'))\n\n\nfunction App() {\n\n  const { activeUser } = useAuthListener()\n  return (\n    <Router>\n      <Suspense fallback={<p>Loading ...</p>}>\n        <Switch>\n          <IsUserLoggedIn user={activeUser} loggedInPath={ROUTES.WELCOME} path={ROUTES.LOGIN}>\n            <Login />\n          </IsUserLoggedIn>\n          <ProtectedRoute user={activeUser} path={ROUTES.WELCOME} exact>\n            <Welcome />\n          </ProtectedRoute  >\n          <Route component={NotFound} />\n        </Switch>\n      </Suspense>\n    </Router>\n  );\n}\n\nexport default App;\n\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\r\n\r\nconst INITIAL_STATE = {\r\n    user: {}\r\n}\r\n\r\nconst UserReducer = (state = INITIAL_STATE, action) => {\r\n\r\n    switch (action.type) {\r\n        case 'LOGIN_REQUEST':\r\n        case 'LOGOUT_REQUEST':\r\n            return {\r\n                loading: true,\r\n                isAuthenticated: false\r\n            };\r\n        case 'LOGIN_SUCCESS':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isAuthenticated: true,\r\n                user: action.payload\r\n            };\r\n        case 'LOGIN_FAIL':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isAuthenticated: false,\r\n                user: null,\r\n                error: action.payload\r\n            };\r\n        case 'LOGOUT_SUCCESS':\r\n            return {\r\n                loading: false,\r\n                isAuthenticated: false,\r\n                user: null\r\n            };\r\n        case 'LOGOUT_FAIL':\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            };\r\n        case 'CLEAR_ERRORS':\r\n            return {\r\n                ...state,\r\n                error: null\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default UserReducer\r\n","import { combineReducers } from \"redux\";\r\nimport UserReducer from \"./user/user-reducer\";\r\n\r\n\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: UserReducer\r\n})\r\n\r\n\r\n\r\nexport default rootReducer","import { applyMiddleware, createStore, compose } from \"redux\";\r\nimport rootReducer from \"./root-reducer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\n\r\nconst composeEnchancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n\r\n\r\n\r\n\r\nconst middlewares = [thunk]\r\n\r\nconst store = createStore(rootReducer, composeEnchancer(applyMiddleware(...middlewares)))\r\n\r\n\r\n\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nimport { Provider } from 'react-redux';\nimport store from '../src/redux/store';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode >,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export const LOGIN = '/login'\r\nexport const NOT_FOUND = '/not-found'\r\nexport const WELCOME = '/'\r\n"],"sourceRoot":""}
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{0:function(t,e,n){(function(n){var i;window.angular,window.c3;
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var a=[],o=Object.getPrototypeOf,s=a.slice,c=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},l=a.push,u=a.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,g=p.call(Object),m={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},b=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function _(t,e,n){var i,r,a=(n=n||b).createElement("script");if(a.text=t,e)for(i in w)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&a.setAttribute(i,r);n.head.appendChild(a).parentNode.removeChild(a)}function x(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[d.call(t)]||"object":typeof t}var k=function(t,e){return new k.fn.init(t,e)};function S(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}k.fn=k.prototype={jquery:"3.5.1",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:a.sort,splice:a.splice},k.extend=k.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||v(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&o!==i&&(l&&i&&(k.isPlainObject(i)||(r=Array.isArray(i)))?(n=o[e],a=r&&!Array.isArray(n)?[]:r||k.isPlainObject(n)?n:{},r=!1,o[e]=k.extend(l,a,i)):void 0!==i&&(o[e]=i));return o},k.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=o(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&p.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){_(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(S(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?k.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;r<a;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,o=[];if(S(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&o.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&o.push(r);return c(o)},guid:1,support:m}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=a[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){h["[object "+e+"]"]=e.toLowerCase()}));var C=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(t){var e,n,i,r,a,o,s,c,l,u,h,d,f,p,g,m,v,y,b,w="sizzle"+1*new Date,_=t.document,x=0,k=0,S=ct(),C=ct(),T=ct(),P=ct(),A=function(t,e){return t===e&&(h=!0),0},D={}.hasOwnProperty,E=[],L=E.pop,M=E.push,I=E.push,O=E.slice,$=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",N="\\["+R+"*("+F+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+R+"*\\]",V=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",H=new RegExp(R+"+","g"),z=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),G=new RegExp("^"+R+"*,"+R+"*"),B=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),Y=new RegExp(R+"|>"),U=new RegExp(V),q=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},W=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},at=function(){d()},ot=wt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{I.apply(E=O.call(_.childNodes),_.childNodes),E[_.childNodes.length].nodeType}catch(t){I={apply:E.length?function(t,e){M.apply(t,O.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function st(t,e,i,r){var a,s,l,u,h,p,v,y=e&&e.ownerDocument,_=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return i;if(!r&&(d(e),e=e||f,g)){if(11!==_&&(h=Q.exec(t)))if(a=h[1]){if(9===_){if(!(l=e.getElementById(a)))return i;if(l.id===a)return i.push(l),i}else if(y&&(l=y.getElementById(a))&&b(e,l)&&l.id===a)return i.push(l),i}else{if(h[2])return I.apply(i,e.getElementsByTagName(t)),i;if((a=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return I.apply(i,e.getElementsByClassName(a)),i}if(n.qsa&&!P[t+" "]&&(!m||!m.test(t))&&(1!==_||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===_&&(Y.test(t)||B.test(t))){for((y=tt.test(t)&&vt(e.parentNode)||e)===e&&n.scope||((u=e.getAttribute("id"))?u=u.replace(it,rt):e.setAttribute("id",u=w)),s=(p=o(t)).length;s--;)p[s]=(u?"#"+u:":scope")+" "+bt(p[s]);v=p.join(",")}try{return I.apply(i,y.querySelectorAll(v)),i}catch(e){P(t,!0)}finally{u===w&&e.removeAttribute("id")}}}return c(t.replace(z,"$1"),e,i,r)}function ct(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function lt(t){return t[w]=!0,t}function ut(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function dt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return lt((function(e){return e=+e,lt((function(n,i){for(var r,a=t([],n.length,e),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},a=st.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!W.test(e||n&&n.nodeName||"HTML")},d=st.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:_;return o!=f&&9===o.nodeType&&o.documentElement?(p=(f=o).documentElement,g=!a(f),_!=f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",at,!1):r.attachEvent&&r.attachEvent("onunload",at)),n.scope=ut((function(t){return p.appendChild(t).appendChild(f.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ut((function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=K.test(f.getElementsByClassName),n.getById=ut((function(t){return p.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,a=e.getElementById(t);if(a){if((n=a.getAttributeNode("id"))&&n.value===t)return[a];for(r=e.getElementsByName(t),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===t)return[a]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=K.test(f.querySelectorAll))&&(ut((function(t){var e;p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+R+"*(?:value|"+j+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),(e=f.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+R+"*name"+R+"*="+R+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ut((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+R+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=K.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",V)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(p.compareDocumentPosition),b=e||K.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==f||t.ownerDocument==_&&b(_,t)?-1:e==f||e.ownerDocument==_&&b(_,e)?1:u?$(u,t)-$(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t==f?-1:e==f?1:r?-1:a?1:u?$(u,t)-$(u,e):0;if(r===a)return dt(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?dt(o[i],s[i]):o[i]==_?-1:s[i]==_?1:0},f):f},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(d(t),n.matchesSelector&&g&&!P[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){P(e,!0)}return st(e,f,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=f&&d(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=f&&d(t);var r=i.attrHandle[e.toLowerCase()],a=r&&D.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==a?a:n.attributes||!g?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},st.escape=function(t){return(t+"").replace(it,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],r=0,a=0;if(h=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(A),h){for(;e=t[a++];)e===t[a]&&(r=i.push(a));for(;r--;)t.splice(i[r],1)}return u=null,t},r=st.getText=function(t){var e,n="",i=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=st.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&U.test(n)&&(e=o(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=st.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,h,d,f,p,g=a!==o?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(m){if(a){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(b=(f=(l=(u=(h=(d=m)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&l[1])&&l[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){u[t]=[x,f,b];break}}else if(y&&(b=f=(l=(u=(h=(d=e)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&l[1]),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((u=(h=d[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[x,b]),d!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[w]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,a=r(t,e),o=a.length;o--;)t[i=$(t,a[o])]=!(n[i]=a[o])})):function(t){return r(t,0,n)}):r}},pseudos:{not:lt((function(t){var e=[],n=[],i=s(t.replace(z,"$1"));return i[w]?lt((function(t,e,n,r){for(var a,o=i(t,null,r,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))})):function(t,r,a){return e[0]=t,i(e,null,a,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return st(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:lt((function(t){return q.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt((function(){return[0]})),last:mt((function(t,e){return[e-1]})),eq:mt((function(t,e,n){return[n<0?n+e:n]})),even:mt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:mt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:mt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:mt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=pt(e);function yt(){}function bt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function wt(t,e,n){var i=e.dir,r=e.next,a=r||i,o=n&&"parentNode"===a,s=k++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r);return!1}:function(e,n,c){var l,u,h,d=[x,s];if(c){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(u=(h=e[w]||(e[w]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=u[a])&&l[0]===x&&l[1]===s)return d[2]=l[2];if(u[a]=d,d[2]=t(e,n,c))return!0}return!1}}function _t(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function xt(t,e,n,i,r){for(var a,o=[],s=0,c=t.length,l=null!=e;s<c;s++)(a=t[s])&&(n&&!n(a,i,r)||(o.push(a),l&&e.push(s)));return o}function kt(t,e,n,i,r,a){return i&&!i[w]&&(i=kt(i)),r&&!r[w]&&(r=kt(r,a)),lt((function(a,o,s,c){var l,u,h,d=[],f=[],p=o.length,g=a||function(t,e,n){for(var i=0,r=e.length;i<r;i++)st(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!a&&e?g:xt(g,d,t,s,c),v=n?r||(a?t:p||i)?[]:o:m;if(n&&n(m,v,s,c),i)for(l=xt(v,f),i(l,[],s,c),u=l.length;u--;)(h=l[u])&&(v[f[u]]=!(m[f[u]]=h));if(a){if(r||t){if(r){for(l=[],u=v.length;u--;)(h=v[u])&&l.push(m[u]=h);r(null,v=[],l,c)}for(u=v.length;u--;)(h=v[u])&&(l=r?$(a,h):d[u])>-1&&(a[l]=!(o[l]=h))}}else v=xt(v===o?v.splice(p,v.length):v),r?r(null,o,v,c):I.apply(o,v)}))}function St(t){for(var e,n,r,a=t.length,o=i.relative[t[0].type],s=o||i.relative[" "],c=o?1:0,u=wt((function(t){return t===e}),s,!0),h=wt((function(t){return $(e,t)>-1}),s,!0),d=[function(t,n,i){var r=!o&&(i||n!==l)||((e=n).nodeType?u(t,n,i):h(t,n,i));return e=null,r}];c<a;c++)if(n=i.relative[t[c].type])d=[wt(_t(d),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[w]){for(r=++c;r<a&&!i.relative[t[r].type];r++);return kt(c>1&&_t(d),c>1&&bt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(z,"$1"),n,c<r&&St(t.slice(c,r)),r<a&&St(t=t.slice(r)),r<a&&bt(t))}d.push(n)}return _t(d)}return yt.prototype=i.filters=i.pseudos,i.setFilters=new yt,o=st.tokenize=function(t,e){var n,r,a,o,s,c,l,u=C[t+" "];if(u)return e?0:u.slice(0);for(s=t,c=[],l=i.preFilter;s;){for(o in n&&!(r=G.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(a=[])),n=!1,(r=B.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length)),i.filter)!(r=X[o].exec(s))||l[o]&&!(r=l[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):C(t,c).slice(0)},s=st.compile=function(t,e){var n,r=[],a=[],s=T[t+" "];if(!s){for(e||(e=o(t)),n=e.length;n--;)(s=St(e[n]))[w]?r.push(s):a.push(s);(s=T(t,function(t,e){var n=e.length>0,r=t.length>0,a=function(a,o,s,c,u){var h,p,m,v=0,y="0",b=a&&[],w=[],_=l,k=a||r&&i.find.TAG("*",u),S=x+=null==_?1:Math.random()||.1,C=k.length;for(u&&(l=o==f||o||u);y!==C&&null!=(h=k[y]);y++){if(r&&h){for(p=0,o||h.ownerDocument==f||(d(h),s=!g);m=t[p++];)if(m(h,o||f,s)){c.push(h);break}u&&(x=S)}n&&((h=!m&&h)&&v--,a&&b.push(h))}if(v+=y,n&&y!==v){for(p=0;m=e[p++];)m(b,w,o,s);if(a){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=L.call(c));w=xt(w)}I.apply(c,w),u&&!a&&w.length>0&&v+e.length>1&&st.uniqueSort(c)}return u&&(x=S,l=_),b};return n?lt(a):a}(a,r))).selector=t}return s},c=st.select=function(t,e,n,r){var a,c,l,u,h,d="function"==typeof t&&t,f=!r&&o(t=d.selector||t);if(n=n||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===e.nodeType&&g&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(a=X.needsContext.test(t)?0:c.length;a--&&(l=c[a],!i.relative[u=l.type]);)if((h=i.find[u])&&(r=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&vt(e.parentNode)||e))){if(c.splice(a,1),!(t=r.length&&bt(c)))return I.apply(n,r),n;break}}return(d||s(t,f))(r,e,!g,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=w.split("").sort(A).join("")===w,n.detectDuplicates=!!h,d(),n.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||ht(j,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),st}(n);k.find=C,k.expr=C.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=C.uniqueSort,k.text=C.getText,k.isXMLDoc=C.isXML,k.contains=C.contains,k.escapeSelector=C.escape;var T=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&k(t).is(n))break;i.push(t)}return i},P=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=k.expr.match.needsContext;function D(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(t,e,n){return v(e)?k.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?k.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?k.grep(t,(function(t){return u.call(e,t)>-1!==n})):k.filter(e,t,n)}k.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?k.find.matchesSelector(i,t)?[i]:[]:k.find.matches(t,k.grep(e,(function(t){return 1===t.nodeType})))},k.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(k(t).filter((function(){for(e=0;e<i;e++)if(k.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)k.find(t,r[e],n);return i>1?k.uniqueSort(n):n},filter:function(t){return this.pushStack(L(this,t||[],!1))},not:function(t){return this.pushStack(L(this,t||[],!0))},is:function(t){return!!L(this,"string"==typeof t&&A.test(t)?k(t):t||[],!1).length}});var M,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||M,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:I.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),E.test(i[1])&&k.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=b.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,M=k(b);var O=/^(?:parents|prev(?:Until|All))/,$={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(k.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,a=[],o="string"!=typeof t&&k(t);if(!A.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?k.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?u.call(k(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return T(t,"parentNode")},parentsUntil:function(t,e,n){return T(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return T(t,"nextSibling")},prevAll:function(t){return T(t,"previousSibling")},nextUntil:function(t,e,n){return T(t,"nextSibling",n)},prevUntil:function(t,e,n){return T(t,"previousSibling",n)},siblings:function(t){return P((t.parentNode||{}).firstChild,t)},children:function(t){return P(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(D(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},(function(t,e){k.fn[t]=function(n,i){var r=k.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=k.filter(i,r)),this.length>1&&($[t]||k.uniqueSort(r),O.test(t)&&r.reverse()),this.pushStack(r)}}));var R=/[^\x20\t\r\n\f]+/g;function F(t){return t}function N(t){throw t}function V(t,e,n,i){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}k.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return k.each(t.match(R)||[],(function(t,n){e[n]=!0})),e}(t):k.extend({},t);var e,n,i,r,a=[],o=[],s=-1,c=function(){for(r=r||t.once,i=e=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},l={add:function(){return a&&(n&&!e&&(s=a.length-1,o.push(n)),function e(n){k.each(n,(function(n,i){v(i)?t.unique&&l.has(i)||a.push(i):i&&i.length&&"string"!==x(i)&&e(i)}))}(arguments),n&&!e&&c()),this},remove:function(){return k.each(arguments,(function(t,e){for(var n;(n=k.inArray(e,a,n))>-1;)a.splice(n,1),n<=s&&s--})),this},has:function(t){return t?k.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=o=[],n||e||(a=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],o.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return k.Deferred((function(n){k.each(e,(function(e,i){var r=v(t[i[4]])&&t[i[4]];a[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var a=0;function o(t,e,i,r){return function(){var s=this,c=arguments,l=function(){var n,l;if(!(t<a)){if((n=i.apply(s,c))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(l)?r?l.call(n,o(a,e,F,r),o(a,e,N,r)):(a++,l.call(n,o(a,e,F,r),o(a,e,N,r),o(a,e,F,e.notifyWith))):(i!==F&&(s=void 0,c=[n]),(r||e.resolveWith)(s,c))}},u=r?l:function(){try{l()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,u.stackTrace),t+1>=a&&(i!==N&&(s=void 0,c=[n]),e.rejectWith(s,c))}};t?u():(k.Deferred.getStackHook&&(u.stackTrace=k.Deferred.getStackHook()),n.setTimeout(u))}}return k.Deferred((function(n){e[0][3].add(o(0,n,v(r)?r:F,n.notifyWith)),e[1][3].add(o(0,n,v(t)?t:F)),e[2][3].add(o(0,n,v(i)?i:N))})).promise()},promise:function(t){return null!=t?k.extend(t,r):r}},a={};return k.each(e,(function(t,n){var o=n[2],s=n[5];r[n[1]]=o.add,s&&o.add((function(){i=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(n[3].fire),a[n[0]]=function(){return a[n[0]+"With"](this===a?void 0:this,arguments),this},a[n[0]+"With"]=o.fireWith})),r.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,n=e,i=Array(n),r=s.call(arguments),a=k.Deferred(),o=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?s.call(arguments):n,--e||a.resolveWith(i,r)}};if(e<=1&&(V(t,a.done(o(n)).resolve,a.reject,!e),"pending"===a.state()||v(r[n]&&r[n].then)))return a.then();for(;n--;)V(r[n],o(n),a.reject);return a.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&H.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){n.setTimeout((function(){throw t}))};var z=k.Deferred();function G(){b.removeEventListener("DOMContentLoaded",G),n.removeEventListener("load",G),k.ready()}k.fn.ready=function(t){return z.then(t).catch((function(t){k.readyException(t)})),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||z.resolveWith(b,[k]))}}),k.ready.then=z.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",G),n.addEventListener("load",G));var B=function(t,e,n,i,r,a,o){var s=0,c=t.length,l=null==n;if("object"===x(n))for(s in r=!0,n)B(t,e,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,v(i)||(o=!0),l&&(o?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(k(t),n)})),e))for(;s<c;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):c?e(t[0],n):a},Y=/^-ms-/,U=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function X(t){return t.replace(Y,"ms-").replace(U,q)}var W=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=k.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},W(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[X(e)]=n;else for(i in e)r[X(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][X(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(X):(e=X(e))in i?[e]:e.match(R)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||k.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var Z=new J,K=new J,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Q.test(t)?JSON.parse(t):t)}(n)}catch(t){}K.set(t,e,n)}else n=void 0;return n}k.extend({hasData:function(t){return K.hasData(t)||Z.hasData(t)},data:function(t,e,n){return K.access(t,e,n)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),k.fn.extend({data:function(t,e){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=K.get(a),1===a.nodeType&&!Z.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=X(i.slice(5)),et(a,i,r[i]));Z.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){K.set(this,t)})):B(this,(function(e){var n;if(a&&void 0===e)return void 0!==(n=K.get(a,t))||void 0!==(n=et(a,t))?n:void 0;this.each((function(){K.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){K.remove(this,t)}))}}),k.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Z.get(t,e),n&&(!i||Array.isArray(n)?i=Z.access(t,e,k.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=k.queue(t,e),i=n.length,r=n.shift(),a=k._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,(function(){k.dequeue(t,e)}),a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:k.Callbacks("once memory").add((function(){Z.remove(t,[e+"queue",n])}))})}}),k.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?k.queue(this[0],t):void 0===e?this:this.each((function(){var n=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&k.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){k.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=k.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=Z.get(a[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],at=b.documentElement,ot=function(t){return k.contains(t.ownerDocument,t)},st={composed:!0};at.getRootNode&&(ot=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===k.css(t,"display")};function lt(t,e,n,i){var r,a,o=20,s=i?function(){return i.cur()}:function(){return k.css(t,e,"")},c=s(),l=n&&n[3]||(k.cssNumber[e]?"":"px"),u=t.nodeType&&(k.cssNumber[e]||"px"!==l&&+c)&&it.exec(k.css(t,e));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;o--;)k.style(t,e,u+l),(1-a)*(1-(a=s()/c||.5))<=0&&(o=0),u/=a;u*=2,k.style(t,e,u+l),n=n||[]}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}var ut={};function ht(t){var e,n=t.ownerDocument,i=t.nodeName,r=ut[i];return r||(e=n.body.appendChild(n.createElement(i)),r=k.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[i]=r,r)}function dt(t,e){for(var n,i,r=[],a=0,o=t.length;a<o;a++)(i=t[a]).style&&(n=i.style.display,e?("none"===n&&(r[a]=Z.get(i,"display")||null,r[a]||(i.style.display="")),""===i.style.display&&ct(i)&&(r[a]=ht(i))):"none"!==n&&(r[a]="none",Z.set(i,"display",n)));for(a=0;a<o;a++)null!=r[a]&&(t[a].style.display=r[a]);return t}k.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ct(this)?k(this).show():k(this).hide()}))}});var ft,pt,gt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;ft=b.createDocumentFragment().appendChild(b.createElement("div")),(pt=b.createElement("input")).setAttribute("type","radio"),pt.setAttribute("checked","checked"),pt.setAttribute("name","t"),ft.appendChild(pt),m.checkClone=ft.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!ft.cloneNode(!0).lastChild.defaultValue,ft.innerHTML="<option></option>",m.option=!!ft.lastChild;var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&D(t,e)?k.merge([t],n):n}function wt(t,e){for(var n=0,i=t.length;n<i;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,m.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);var _t=/<|&#?\w+;/;function xt(t,e,n,i,r){for(var a,o,s,c,l,u,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((a=t[f])||0===a)if("object"===x(a))k.merge(d,a.nodeType?[a]:a);else if(_t.test(a)){for(o=o||h.appendChild(e.createElement("div")),s=(mt.exec(a)||["",""])[1].toLowerCase(),c=yt[s]||yt._default,o.innerHTML=c[1]+k.htmlPrefilter(a)+c[2],u=c[0];u--;)o=o.lastChild;k.merge(d,o.childNodes),(o=h.firstChild).textContent=""}else d.push(e.createTextNode(a));for(h.textContent="",f=0;a=d[f++];)if(i&&k.inArray(a,i)>-1)r&&r.push(a);else if(l=ot(a),o=bt(h.appendChild(a),"script"),l&&wt(o),n)for(u=0;a=o[u++];)vt.test(a.type||"")&&n.push(a);return h}var kt=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ct=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Pt(){return!1}function At(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function Dt(t,e,n,i,r,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)Dt(t,s,n,i,e[s],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Pt;else if(!r)return t;return 1===a&&(o=r,(r=function(t){return k().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=k.guid++)),t.each((function(){k.event.add(this,e,r,i,n)}))}function Et(t,e,n){n?(Z.set(t,e,!1),k.event.add(t,e,{namespace:!1,handler:function(t){var i,r,a=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(a.length)(k.event.special[e]||{}).delegateType&&t.stopPropagation();else if(a=s.call(arguments),Z.set(this,e,a),i=n(this,e),this[e](),a!==(r=Z.get(this,e))||i?Z.set(this,e,!1):r={},a!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else a.length&&(Z.set(this,e,{value:k.event.trigger(k.extend(a[0],k.Event.prototype),a.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&k.event.add(t,e,Tt)}k.event={global:{},add:function(t,e,n,i,r){var a,o,s,c,l,u,h,d,f,p,g,m=Z.get(t);if(W(t))for(n.handler&&(n=(a=n).handler,r=a.selector),r&&k.find.matchesSelector(at,r),n.guid||(n.guid=k.guid++),(c=m.events)||(c=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;l--;)f=g=(s=Ct.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),f&&(h=k.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=k.event.special[f]||{},u=k.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:p.join(".")},a),(d=c[f])||((d=c[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,o)||t.addEventListener&&t.addEventListener(f,o)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),k.event.global[f]=!0)},remove:function(t,e,n,i,r){var a,o,s,c,l,u,h,d,f,p,g,m=Z.hasData(t)&&Z.get(t);if(m&&(c=m.events)){for(l=(e=(e||"").match(R)||[""]).length;l--;)if(f=g=(s=Ct.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),f){for(h=k.event.special[f]||{},d=c[f=(i?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)u=d[a],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(a,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||k.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)k.event.remove(t,f+e[l],n,i,!0);k.isEmptyObject(c)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,a,o,s=new Array(arguments.length),c=k.event.fix(t),l=(Z.get(this,"events")||Object.create(null))[c.type]||[],u=k.event.special[c.type]||{};for(s[0]=c,e=1;e<arguments.length;e++)s[e]=arguments[e];if(c.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,c)){for(o=k.event.handlers.call(this,c,l),e=0;(r=o[e++])&&!c.isPropagationStopped();)for(c.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==a.namespace&&!c.rnamespace.test(a.namespace)||(c.handleObj=a,c.data=a.data,void 0!==(i=((k.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,i,r,a,o,s=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(a=[],o={},n=0;n<c;n++)void 0===o[r=(i=e[n]).selector+" "]&&(o[r]=i.needsContext?k(r,this).index(l)>-1:k.find(r,this,null,[l]).length),o[r]&&a.push(i);a.length&&s.push({elem:l,handlers:a})}return l=this,c<e.length&&s.push({elem:l,handlers:e.slice(c)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&D(e,"input")&&Et(e,"click",Tt),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&D(e,"input")&&Et(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&D(e,"input")&&Z.get(e,"click")||D(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Pt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Pt,isPropagationStopped:Pt,isImmediatePropagationStopped:Pt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(t,e){k.event.special[t]={setup:function(){return Et(this,t,At),!1},trigger:function(){return Et(this,t),!0},delegateType:e}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,a=t.handleObj;return r&&(r===i||k.contains(i,r))||(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}})),k.fn.extend({on:function(t,e,n,i){return Dt(this,t,e,n,i)},one:function(t,e,n,i){return Dt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,k(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Pt),this.each((function(){k.event.remove(this,t,n,e)}))}});var Lt=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ot(t,e){return D(t,"table")&&D(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function $t(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var n,i,r,a,o,s;if(1===e.nodeType){if(Z.hasData(t)&&(s=Z.get(t).events))for(r in Z.remove(e,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)k.event.add(e,r,s[r][n]);K.hasData(t)&&(a=K.access(t),o=k.extend({},a),K.set(e,o))}}function Ft(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Nt(t,e,n,i){e=c(e);var r,a,o,s,l,u,h=0,d=t.length,f=d-1,p=e[0],g=v(p);if(g||d>1&&"string"==typeof p&&!m.checkClone&&Mt.test(p))return t.each((function(r){var a=t.eq(r);g&&(e[0]=p.call(this,r,a.html())),Nt(a,e,n,i)}));if(d&&(a=(r=xt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(s=(o=k.map(bt(r,"script"),$t)).length;h<d;h++)l=r,h!==f&&(l=k.clone(l,!0,!0),s&&k.merge(o,bt(l,"script"))),n.call(t[h],l,h);if(s)for(u=o[o.length-1].ownerDocument,k.map(o,jt),h=0;h<s;h++)l=o[h],vt.test(l.type||"")&&!Z.access(l,"globalEval")&&k.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):_(l.textContent.replace(It,""),l,u))}return t}function Vt(t,e,n){for(var i,r=e?k.filter(e,t):t,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||k.cleanData(bt(i)),i.parentNode&&(n&&ot(i)&&wt(bt(i,"script")),i.parentNode.removeChild(i));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,a,o,s=t.cloneNode(!0),c=ot(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(o=bt(s),i=0,r=(a=bt(t)).length;i<r;i++)Ft(a[i],o[i]);if(e)if(n)for(a=a||bt(t),o=o||bt(s),i=0,r=a.length;i<r;i++)Rt(a[i],o[i]);else Rt(t,s);return(o=bt(s,"script")).length>0&&wt(o,!c&&bt(t,"script")),s},cleanData:function(t){for(var e,n,i,r=k.event.special,a=0;void 0!==(n=t[a]);a++)if(W(n)){if(e=n[Z.expando]){if(e.events)for(i in e.events)r[i]?k.event.remove(n,i):k.removeEvent(n,i,e.handle);n[Z.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),k.fn.extend({detach:function(t){return Vt(this,t,!0)},remove:function(t){return Vt(this,t)},text:function(t){return B(this,(function(t){return void 0===t?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Nt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ot(this,t).appendChild(t)}))},prepend:function(){return Nt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ot(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Nt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Nt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return k.clone(this,t,e)}))},html:function(t){return B(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!yt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(k.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,(function(e){var n=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(bt(this)),n&&n.replaceChild(e,this))}),t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){k.fn[t]=function(t){for(var n,i=[],r=k(t),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),k(r[o])[e](n),l.apply(i,n.get());return this.pushStack(i)}}));var Ht=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),zt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Gt=function(t,e,n){var i,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=a[r];return i},Bt=new RegExp(rt.join("|"),"i");function Yt(t,e,n){var i,r,a,o,s=t.style;return(n=n||zt(t))&&(""!==(o=n.getPropertyValue(e)||n[e])||ot(t)||(o=k.style(t,e)),!m.pixelBoxStyles()&&Ht.test(o)&&Bt.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function Ut(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(l).appendChild(u);var t=n.getComputedStyle(u);i="1%"!==t.top,c=12===e(t.marginLeft),u.style.right="60%",o=36===e(t.right),r=36===e(t.width),u.style.position="absolute",a=12===e(u.offsetWidth/3),at.removeChild(l),u=null}}function e(t){return Math.round(parseFloat(t))}var i,r,a,o,s,c,l=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,e,i,r;return null==s&&(t=b.createElement("table"),e=b.createElement("tr"),i=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",i.style.height="9px",at.appendChild(t).appendChild(e).appendChild(i),r=n.getComputedStyle(e),s=parseInt(r.height)>3,at.removeChild(t)),s}}))}();var qt=["Webkit","Moz","ms"],Xt=b.createElement("div").style,Wt={};function Jt(t){var e=k.cssProps[t]||Wt[t];return e||(t in Xt?t:Wt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=qt.length;n--;)if((t=qt[n]+e)in Xt)return t}(t)||t)}var Zt=/^(none|table(?!-c[ea]).+)/,Kt=/^--/,Qt={position:"absolute",visibility:"hidden",display:"block"},te={letterSpacing:"0",fontWeight:"400"};function ee(t,e,n){var i=it.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ne(t,e,n,i,r,a){var o="width"===e?1:0,s=0,c=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=k.css(t,n+rt[o],!0,r)),i?("content"===n&&(c-=k.css(t,"padding"+rt[o],!0,r)),"margin"!==n&&(c-=k.css(t,"border"+rt[o]+"Width",!0,r))):(c+=k.css(t,"padding"+rt[o],!0,r),"padding"!==n?c+=k.css(t,"border"+rt[o]+"Width",!0,r):s+=k.css(t,"border"+rt[o]+"Width",!0,r));return!i&&a>=0&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-c-s-.5))||0),c}function ie(t,e,n){var i=zt(t),r=(!m.boxSizingReliable()||n)&&"border-box"===k.css(t,"boxSizing",!1,i),a=r,o=Yt(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(Ht.test(o)){if(!n)return o;o="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&D(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===k.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===k.css(t,"boxSizing",!1,i),(a=s in t)&&(o=t[s])),(o=parseFloat(o)||0)+ne(t,e,n||(r?"border":"content"),a,i,o)+"px"}function re(t,e,n,i,r){return new re.prototype.init(t,e,n,i,r)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Yt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=X(e),c=Kt.test(e),l=t.style;if(c||(e=Jt(s)),o=k.cssHooks[e]||k.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:l[e];"string"===(a=typeof n)&&(r=it.exec(n))&&r[1]&&(n=lt(t,e,r),a="number"),null!=n&&n==n&&("number"!==a||c||(n+=r&&r[3]||(k.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,a,o,s=X(e);return Kt.test(e)||(e=Jt(s)),(o=k.cssHooks[e]||k.cssHooks[s])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=Yt(t,e,i)),"normal"===r&&e in te&&(r=te[e]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),k.each(["height","width"],(function(t,e){k.cssHooks[e]={get:function(t,n,i){if(n)return!Zt.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ie(t,e,i):Gt(t,Qt,(function(){return ie(t,e,i)}))},set:function(t,n,i){var r,a=zt(t),o=!m.scrollboxSize()&&"absolute"===a.position,s=(o||i)&&"border-box"===k.css(t,"boxSizing",!1,a),c=i?ne(t,e,i,s,a):0;return s&&o&&(c-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-ne(t,e,"border",!1,a)-.5)),c&&(r=it.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=k.css(t,e)),ee(0,n,c)}}})),k.cssHooks.marginLeft=Ut(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Yt(t,"marginLeft"))||t.getBoundingClientRect().left-Gt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(t,e){k.cssHooks[t+e]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+rt[i]+e]=a[i]||a[i-2]||a[0];return r}},"margin"!==t&&(k.cssHooks[t+e].set=ee)})),k.fn.extend({css:function(t,e){return B(this,(function(t,e,n){var i,r,a={},o=0;if(Array.isArray(e)){for(i=zt(t),r=e.length;o<r;o++)a[e[o]]=k.css(t,e[o],!1,i);return a}return void 0!==n?k.style(t,e,n):k.css(t,e)}),t,e,arguments.length>1)}}),k.Tween=re,re.prototype={constructor:re,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(k.cssNumber[n]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,n=re.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[Jt(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=re.prototype.init,k.fx.step={};var ae,oe,se=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;function le(){oe&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(le):n.setTimeout(le,k.fx.interval),k.fx.tick())}function ue(){return n.setTimeout((function(){ae=void 0})),ae=Date.now()}function he(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=rt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function de(t,e,n){for(var i,r=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,e,t))return i}function fe(t,e,n){var i,r,a=0,o=fe.prefilters.length,s=k.Deferred().always((function(){delete c.elem})),c=function(){if(r)return!1;for(var e=ae||ue(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),a=0,o=l.tweens.length;a<o;a++)l.tweens[a].run(i);return s.notifyWith(t,[l,i,n]),i<1&&o?n:(o||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:e,originalOptions:n,startTime:ae||ue(),duration:n.duration,tweens:[],createTween:function(e,n){var i=k.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),u=l.props;for(!function(t,e){var n,i,r,a,o;for(n in t)if(r=e[i=X(n)],a=t[n],Array.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(o=k.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=r);else e[i]=r}(u,l.opts.specialEasing);a<o;a++)if(i=fe.prefilters[a].call(l,t,u,l.opts))return v(i.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return k.map(u,de,l),v(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(fe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(R);for(var n,i=0,r=t.length;i<r;i++)n=t[i],fe.tweeners[n]=fe.tweeners[n]||[],fe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,a,o,s,c,l,u,h="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&ct(t),m=Z.get(t,"fxshow");for(i in n.queue||(null==(o=k._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always((function(){d.always((function(){o.unqueued--,k.queue(t,"fx").length||o.empty.fire()}))}))),e)if(r=e[i],se.test(r)){if(delete e[i],a=a||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}f[i]=m&&m[i]||k.style(t,i)}if((c=!k.isEmptyObject(e))||!k.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=Z.get(t,"display")),"none"===(u=k.css(t,"display"))&&(l?u=l:(dt([t],!0),l=t.style.display||l,u=k.css(t,"display"),dt([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===k.css(t,"float")&&(c||(d.done((function(){p.display=l})),null==l&&(u=p.display,l="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),c=!1,f)c||(m?"hidden"in m&&(g=m.hidden):m=Z.access(t,"fxshow",{display:l}),a&&(m.hidden=!g),g&&dt([t],!0),d.done((function(){for(i in g||dt([t]),Z.remove(t,"fxshow"),f)k.style(t,i,f[i])}))),c=de(g?m[i]:0,i,d),i in m||(m[i]=c.start,g&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),k.speed=function(t,e,n){var i=t&&"object"==typeof t?k.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return k.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in k.fx.speeds?i.duration=k.fx.speeds[i.duration]:i.duration=k.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&k.dequeue(this,i.queue)},i},k.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=k.isEmptyObject(t),a=k.speed(e,n,i),o=function(){var e=fe(this,k.extend({},t),a);(r||Z.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",a=k.timers,o=Z.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&ce.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(n),e=!1,a.splice(r,1));!e&&n||k.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Z.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],a=k.timers,o=i?i.length:0;for(n.finish=!0,k.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(t,e){var n=k.fn[e];k.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(he(e,!0),t,i,r)}})),k.each({slideDown:he("show"),slideUp:he("hide"),slideToggle:he("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){k.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),k.timers=[],k.fx.tick=function(){var t,e=0,n=k.timers;for(ae=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||k.fx.stop(),ae=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){oe||(oe=!0,le())},k.fx.stop=function(){oe=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var pe,ge=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return B(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){k.removeAttr(this,t)}))}}),k.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?k.prop(t,e,n):(1===a&&k.isXMLDoc(t)||(r=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?pe:void 0)),void 0!==n?null===n?void k.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=k.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&D(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(R);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),pe={set:function(t,e,n){return!1===e?k.removeAttr(t,n):t.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ge[e]||k.find.attr;ge[e]=function(t,e,i){var r,a,o=e.toLowerCase();return i||(a=ge[o],ge[o]=r,r=null!=n(t,e,i)?o:null,ge[o]=a),r}}));var me=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function ye(t){return(t.match(R)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}k.fn.extend({prop:function(t,e){return B(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[k.propFix[t]||t]}))}}),k.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&k.isXMLDoc(t)||(e=k.propFix[e]||e,r=k.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,c=0;if(v(t))return this.each((function(e){k(this).addClass(t.call(this,e,be(this)))}));if((e=we(t)).length)for(;n=this[c++];)if(r=be(n),i=1===n.nodeType&&" "+ye(r)+" "){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=ye(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,a,o,s,c=0;if(v(t))return this.each((function(e){k(this).removeClass(t.call(this,e,be(this)))}));if(!arguments.length)return this.attr("class","");if((e=we(t)).length)for(;n=this[c++];)if(r=be(n),i=1===n.nodeType&&" "+ye(r)+" "){for(o=0;a=e[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");r!==(s=ye(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(n){k(this).toggleClass(t.call(this,n,be(this),e),e)})):this.each((function(){var e,r,a,o;if(i)for(r=0,a=k(this),o=we(t);e=o[r++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else void 0!==t&&"boolean"!==n||((e=be(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ye(be(n))+" ").indexOf(e)>-1)return!0;return!1}});var _e=/\r/g;k.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=v(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,k(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=k.map(r,(function(t){return null==t?"":t+""}))),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(_e,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:ye(k.text(t))}},select:{get:function(t){var e,n,i,r=t.options,a=t.selectedIndex,o="select-one"===t.type,s=o?null:[],c=o?a+1:r.length;for(i=a<0?c:o?a:0;i<c;i++)if(((n=r[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(e=k(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,a=k.makeArray(e),o=r.length;o--;)((i=r[o]).selected=k.inArray(k.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},m.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in n;var xe=/^(?:focusinfocus|focusoutblur)$/,ke=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,i,r){var a,o,s,c,l,u,h,d,p=[i||b],g=f.call(t,"type")?t.type:t,m=f.call(t,"namespace")?t.namespace.split("."):[];if(o=d=s=i=i||b,3!==i.nodeType&&8!==i.nodeType&&!xe.test(g+k.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),l=g.indexOf(":")<0&&"on"+g,(t=t[k.expando]?t:new k.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:k.makeArray(e,[t]),h=k.event.special[g]||{},r||!h.trigger||!1!==h.trigger.apply(i,e))){if(!r&&!h.noBubble&&!y(i)){for(c=h.delegateType||g,xe.test(c+g)||(o=o.parentNode);o;o=o.parentNode)p.push(o),s=o;s===(i.ownerDocument||b)&&p.push(s.defaultView||s.parentWindow||n)}for(a=0;(o=p[a++])&&!t.isPropagationStopped();)d=o,t.type=a>1?c:h.bindType||g,(u=(Z.get(o,"events")||Object.create(null))[t.type]&&Z.get(o,"handle"))&&u.apply(o,e),(u=l&&o[l])&&u.apply&&W(o)&&(t.result=u.apply(o,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),e)||!W(i)||l&&v(i[g])&&!y(i)&&((s=i[l])&&(i[l]=null),k.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,ke),i[g](),t.isPropagationStopped()&&d.removeEventListener(g,ke),k.event.triggered=void 0,s&&(i[l]=s)),t.result}},simulate:function(t,e,n){var i=k.extend(new k.Event,n,{type:t,isSimulated:!0});k.event.trigger(i,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each((function(){k.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return k.event.trigger(t,e,n,!0)}}),m.focusin||k.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){k.event.simulate(e,t.target,k.event.fix(t))};k.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=Z.access(i,e);r||i.addEventListener(t,n,!0),Z.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=Z.access(i,e)-1;r?Z.access(i,e,r):(i.removeEventListener(t,n,!0),Z.remove(i,e))}}}));var Se=n.location,Ce={guid:Date.now()},Te=/\?/;k.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+t),e};var Pe=/\[\]$/,Ae=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Ee=/^(?:input|select|textarea|keygen)/i;function Le(t,e,n,i){var r;if(Array.isArray(e))k.each(e,(function(e,r){n||Pe.test(t)?i(t,r):Le(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==x(e))i(t,e);else for(r in e)Le(t+"["+r+"]",e[r],n,i)}k.param=function(t,e){var n,i=[],r=function(t,e){var n=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,(function(){r(this.name,this.value)}));else for(n in t)Le(n,t[n],e,r);return i.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Ee.test(this.nodeName)&&!De.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}})):{name:e.name,value:n.replace(Ae,"\r\n")}})).get()}});var Me=/%20/g,Ie=/#.*$/,Oe=/([?&])_=[^&]*/,$e=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Re=/^\/\//,Fe={},Ne={},Ve="*/".concat("*"),He=b.createElement("a");function ze(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(R)||[];if(v(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ge(t,e,n,i){var r={},a=t===Ne;function o(s){var c;return r[s]=!0,k.each(t[s]||[],(function(t,s){var l=s(e,n,i);return"string"!=typeof l||a||r[l]?a?!(c=l):void 0:(e.dataTypes.unshift(l),o(l),!1)})),c}return o(e.dataTypes[0])||!r["*"]&&o("*")}function Be(t,e){var n,i,r=k.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&k.extend(!0,t,i),t}He.href=Se.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Be(Be(t,k.ajaxSettings),e):Be(k.ajaxSettings,t)},ajaxPrefilter:ze(Fe),ajaxTransport:ze(Ne),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,a,o,s,c,l,u,h,d,f=k.ajaxSetup({},e),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?k(p):k.event,m=k.Deferred(),v=k.Callbacks("once memory"),y=f.statusCode||{},w={},_={},x="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(l){if(!o)for(o={};e=$e.exec(a);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(t,e){return null==l&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==l&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)S.always(t[S.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),C(0,e),this}};if(m.promise(S),f.url=((t||f.url||Se.href)+"").replace(Re,Se.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(R)||[""],null==f.crossDomain){c=b.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=He.protocol+"//"+He.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),Ge(Fe,f,e,S),l)return S;for(h in(u=k.event&&f.global)&&0==k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!je.test(f.type),r=f.url.replace(Ie,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Me,"+")):(d=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Te.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Oe,"$1"),d=(Te.test(r)?"&":"?")+"_="+Ce.guid+++d),f.url=r+d),f.ifModified&&(k.lastModified[r]&&S.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&S.setRequestHeader("If-None-Match",k.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ve+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,S,f)||l))return S.abort();if(x="abort",v.add(f.complete),S.done(f.success),S.fail(f.error),i=Ge(Ne,f,e,S)){if(S.readyState=1,u&&g.trigger("ajaxSend",[S,f]),l)return S;f.async&&f.timeout>0&&(s=n.setTimeout((function(){S.abort("timeout")}),f.timeout));try{l=!1,i.send(w,C)}catch(t){if(l)throw t;C(-1,t)}}else C(-1,"No Transport");function C(t,e,o,c){var h,d,b,w,_,x=e;l||(l=!0,s&&n.clearTimeout(s),i=void 0,a=c||"",S.readyState=t>0?4:0,h=t>=200&&t<300||304===t,o&&(w=function(t,e,n){for(var i,r,a,o,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)a=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==c[0]&&c.unshift(a),n[a]}(f,S,o)),!h&&k.inArray("script",f.dataTypes)>-1&&(f.converters["text script"]=function(){}),w=function(t,e,n,i){var r,a,o,s,c,l={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=a,a=u.shift())if("*"===a)a=c;else if("*"!==c&&c!==a){if(!(o=l[c+" "+a]||l["* "+a]))for(r in l)if((s=r.split(" "))[1]===a&&(o=l[c+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[r]:!0!==l[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+c+" to "+a}}}return{state:"success",data:e}}(f,w,S,h),h?(f.ifModified&&((_=S.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=_),(_=S.getResponseHeader("etag"))&&(k.etag[r]=_)),204===t||"HEAD"===f.type?x="nocontent":304===t?x="notmodified":(x=w.state,d=w.data,h=!(b=w.error))):(b=x,!t&&x||(x="error",t<0&&(t=0))),S.status=t,S.statusText=(e||x)+"",h?m.resolveWith(p,[d,x,S]):m.rejectWith(p,[S,x,b]),S.statusCode(y),y=void 0,u&&g.trigger(h?"ajaxSuccess":"ajaxError",[S,f,h?d:b]),v.fireWith(p,[S,x]),u&&(g.trigger("ajaxComplete",[S,f]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return k.get(t,e,n,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],(function(t,e){k[e]=function(t,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),k.ajax(k.extend({url:t,type:e,dataType:r,data:n,success:i},k.isPlainObject(t)&&t))}})),k.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),k._evalUrl=function(t,e,n){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,n)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){k(this).wrapInner(t.call(this,e))})):this.each((function(){var e=k(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(n){k(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ye={0:200,1223:204},Ue=k.ajaxSettings.xhr();m.cors=!!Ue&&"withCredentials"in Ue,m.ajax=Ue=!!Ue,k.ajaxTransport((function(t){var e,i;if(m.cors||Ue&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Ye[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),k.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),k.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=k("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}}));var qe,Xe=[],We=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||k.expando+"_"+Ce.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",(function(t,e,i){var r,a,o,s=!1!==t.jsonp&&(We.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(We,"$1"+r):!1!==t.jsonp&&(t.url+=(Te.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=n[r],n[r]=function(){o=arguments},i.always((function(){void 0===a?k(n).removeProp(r):n[r]=a,t[r]&&(t.jsonpCallback=e.jsonpCallback,Xe.push(r)),o&&v(a)&&a(o[0]),o=a=void 0})),"script"})),m.createHTMLDocument=((qe=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qe.childNodes.length),k.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(i)):e=b),a=!n&&[],(r=E.exec(t))?[e.createElement(r[1])]:(r=xt([t],e,a),a&&a.length&&k(a).remove(),k.merge([],r.childNodes)));var i,r,a},k.fn.load=function(t,e,n){var i,r,a,o=this,s=t.indexOf(" ");return s>-1&&(i=ye(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&k.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){a=arguments,o.html(i?k("<div>").append(k.parseHTML(t)).find(i):t)})).always(n&&function(t,e){o.each((function(){n.apply(this,a||[t.responseText,e,t])}))}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,(function(e){return t===e.elem})).length},k.offset={setOffset:function(t,e,n){var i,r,a,o,s,c,l=k.css(t,"position"),u=k(t),h={};"static"===l&&(t.style.position="relative"),s=u.offset(),a=k.css(t,"top"),c=k.css(t,"left"),("absolute"===l||"fixed"===l)&&(a+c).indexOf("auto")>-1?(o=(i=u.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(c)||0),v(e)&&(e=e.call(t,n,k.extend({},s))),null!=e.top&&(h.top=e.top-s.top+o),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),u.css(h))}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){k.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===k.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),r.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-k.css(i,"marginTop",!0),left:e.left-r.left-k.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||at}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;k.fn[t]=function(i){return B(this,(function(t,i,r){var a;if(y(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===r)return a?a[e]:t[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):t[i]=r}),t,i,arguments.length)}})),k.each(["top","left"],(function(t,e){k.cssHooks[e]=Ut(m.pixelPosition,(function(t,n){if(n)return n=Yt(t,e),Ht.test(n)?k(t).position()[e]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){k.fn[i]=function(r,a){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===a?"margin":"border");return B(this,(function(e,n,r){var a;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===r?k.css(e,n,s):k.style(e,n,r,s)}),e,o?r:void 0,o)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){k.fn[e]=function(t){return this.on(e,t)}})),k.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){k.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Je=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return i=s.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||k.guid++,r},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=D,k.isFunction=v,k.isWindow=y,k.camelCase=X,k.type=x,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(Je,"")},void 0===(i=function(){return k}.apply(e,[]))||(t.exports=i);var Ze=n.jQuery,Ke=n.$;return k.noConflict=function(t){return n.$===k&&(n.$=Ke),t&&n.jQuery===k&&(n.jQuery=Ze),k},void 0===r&&(n.jQuery=n.$=k),k}))}).call(this,n(0))},16:function(t,e,n){(function(i){var r,a,o;window.angular,window.c3;a=[n(0)],void 0===(o="function"==typeof(r=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})?r.apply(e,a):r)||(t.exports=o)}).call(this,n(0))},170:function(t,e,n){(function(t){window.angular,window.c3;
/**
 * @license AngularJS v1.7.0
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(t,e){"use strict";function n(t){return parseInt(t,10)}function i(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function r(t,n,i,r){var c=[],l=[],u=[],h=e.bind(u,u.push),d=e.copy,f=i.$$originalHttpBackend||i;function p(t,n,i,r){return e.isFunction(t)?t:function(){return e.isNumber(t)?[t,n,i,r,"complete"]:[200,t,n,i,"complete"]}}function g(t,i,a,o,p,g,m,v,y,b){var w=new s,_=l[0],x=!1;function k(t){return e.isString(t)||e.isFunction(t)||t instanceof RegExp?t:e.toJson(t)}function S(s){return!r&&g&&(g.then?g.then((function(){l(e.isDefined(g.$$timeoutId)?"timeout":"abort")})):n((function(){l("timeout")}),g)),c.description=t+" "+i,c;function c(){var e=s.response(t,i,a,p,s.params(i));w.$$respHeaders=e[2],o(d(e[0]),d(e[1]),w.getAllResponseHeaders(),d(e[3]||""),d(e[4]))}function l(t){for(var e=0,n=u.length;e<n;e++)if(u[e]===c){u.splice(e,1),o(-1,void 0,"",void 0,t);break}}}if(w.$$events=y,w.upload.$$events=b,_&&_.match(t,i)){if(!_.matchData(a))throw new Error("Expected "+_+" with different data\nEXPECTED: "+k(_.data)+"\nGOT:      "+a);if(!_.matchHeaders(p))throw new Error("Expected "+_+" with different headers\nEXPECTED: "+k(_.headers)+"\nGOT:      "+k(p));if(l.shift(),_.response)return void u.push(S(_));x=!0}for(var C,T=-1;C=c[++T];)if(C.match(t,i,a,p||{})){if(C.response)(r?r.defer:h)(S(C));else{if(!C.passThrough)throw new Error("No response defined !");f(t,i,a,o,p,g,m,v,y,b)}return}var P=x?new Error("No response defined !"):new Error("Unexpected request: "+t+" "+i+"\n"+(_?"Expected "+_:"No more request expected"));throw P.$$passToExceptionHandler=!0,P}function m(t){var n={regexp:t},i=n.keys=[];return t&&e.isString(t)?(t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([?*])?/g,(function(t,e,n,r){var a="?"===r?r:null,o="*"===r?r:null;return i.push({name:n,optional:!!a}),e=e||"",(a?"":e)+"(?:"+(a?e:"")+(o?"(.+?)":"([^/]+)")+(a||"")+")"+(a||"")})).replace(/([/$*])/g,"\\$1"),n.regexp=new RegExp("^"+t,"i"),n):n}return g.when=function(t,e,n,i,s){a(arguments,1,"url");var l=new o(t,e,n,i,s),u={respond:function(t,e,n,i){return l.passThrough=void 0,l.response=p(t,e,n,i),u}};return r&&(u.passThrough=function(){return l.response=void 0,l.passThrough=!0,u}),c.push(l),u},v("when"),g.whenRoute=function(t,e){var n=m(e);return g.when(t,n.regexp,void 0,void 0,n.keys)},g.expect=function(t,e,n,i,r){a(arguments,1,"url");var s=new o(t,e,n,i,r),c={respond:function(t,e,n,i){return s.response=p(t,e,n,i),c}};return l.push(s),c},v("expect"),g.expectRoute=function(t,e){var n=m(e);return g.expect(t,n.regexp,void 0,void 0,n.keys)},g.flush=function(n,i,r){if(!1!==r&&t.$digest(),(i=i||0)>=u.length)throw new Error("No pending request to flush !");if(e.isDefined(n)&&null!==n)for(;n--;){var a=u.splice(i,1);if(!a.length)throw new Error("No more pending request to flush !");a[0]()}else for(;u.length>i;)u.splice(i,1)[0]();g.verifyNoOutstandingExpectation(r)},g.verifyNoOutstandingExpectation=function(e){if(!1!==e&&t.$digest(),l.length)throw new Error("Unsatisfied requests: "+l.join(", "))},g.verifyNoOutstandingRequest=function(e){if(!1!==e&&t.$digest(),u.length){var n=u.map((function(t){return t.description}));throw new Error("Unflushed requests: "+u.length+"\n  "+n.join("\n  "))}},g.resetExpectations=function(){l.length=0,u.length=0},g.$$originalHttpBackend=f,g;function v(t){e.forEach(["GET","DELETE","JSONP","HEAD"],(function(n){g[t+n]=function(i,r,o){return a(arguments,0,"url"),e.isUndefined(i)&&(i=null),g[t](n,i,void 0,r,o)}})),e.forEach(["PUT","POST","PATCH"],(function(n){g[t+n]=function(i,r,o,s){return a(arguments,0,"url"),e.isUndefined(i)&&(i=null),g[t](n,i,r,o,s)}}))}}function a(t,n,i){if(t.length>n&&e.isUndefined(t[n]))throw new Error("Undefined argument `"+i+"`; the argument is provided but not defined")}function o(t,n,i,r,a){function o(t){return t.slice(t.indexOf("?")+1).split("&").sort()}this.data=i,this.headers=r,this.match=function(n,i,r,a){return t===n&&(!!this.matchUrl(i)&&(!(e.isDefined(r)&&!this.matchData(r))&&!(e.isDefined(a)&&!this.matchHeaders(a))))},this.matchUrl=function(t){return!n||(e.isFunction(n.test)?n.test(t):e.isFunction(n)?n(t):n===t||function(t){return n.slice(0,n.indexOf("?"))===t.slice(0,t.indexOf("?"))&&o(n).join()===o(t).join()}(t))},this.matchHeaders=function(t){return!!e.isUndefined(r)||(e.isFunction(r)?r(t):e.equals(r,t))},this.matchData=function(t){return!!e.isUndefined(i)||(i&&e.isFunction(i.test)?i.test(t):i&&e.isFunction(i)?i(t):i&&!e.isString(i)?e.equals(e.fromJson(e.toJson(i)),e.fromJson(t)):i==t)},this.toString=function(){return t+" "+n},this.params=function(t){return e.extend((o={},s=t.indexOf("?")>-1?t.substring(t.indexOf("?")+1):"",e.forEach(s.split("&"),(function(t){if(t&&(i=t.replace(/\+/g,"%20").split("="),r=c(i[0]),e.isDefined(r))){var n=!e.isDefined(i[1])||c(i[1]);hasOwnProperty.call(o,r)?e.isArray(o[r])?o[r].push(n):o[r]=[o[r],n]:o[r]=n}})),o),function(){var i={};if(!n||!e.isFunction(n.test)||!a||0===a.length)return i;var r=n.exec(t);if(!r)return i;for(var o=1,s=r.length;o<s;++o){var c=a[o-1],l=r[o];c&&l&&(i[c.name||c]=l)}return i}());var i,r,o,s;function c(t){try{return decodeURIComponent(t)}catch(t){}}}}function s(){s.$$lastInstance=this,this.open=function(t,e,n){this.$$method=t,this.$$url=e,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(t){this.$$data=t},this.setRequestHeader=function(t,e){this.$$reqHeaders[t]=e},this.getResponseHeader=function(t){var n=this.$$respHeaders[t];return n||(t=e.$$lowercase(t),(n=this.$$respHeaders[t])||(n=void 0,e.forEach(this.$$respHeaders,(function(i,r){n||e.$$lowercase(r)!==t||(n=i)}))),n)},this.getAllResponseHeaders=function(){var t=[];return e.forEach(this.$$respHeaders,(function(e,n){t.push(n+": "+e)})),t.join("\n")},this.abort=function(){isFunction(this.onabort)&&this.onabort()},this.$$events={},this.addEventListener=function(t,n){e.isUndefined(this.$$events[t])&&(this.$$events[t]=[]),this.$$events[t].push(n)},this.upload={$$events:{},addEventListener:this.addEventListener}}var c;e.mock={},e.mock.$BrowserProvider=function(){this.$get=function(){return new e.mock.$Browser}},e.mock.$Browser=function(){var t=this;this.isMock=!0,t.$$url="http://server/",t.$$lastUrl=t.$$url,t.pollFns=[];var n=0,i=[];t.$$incOutstandingRequestCount=function(){n++},t.$$completeOutstandingRequest=function(t){try{t()}finally{if(!--n)for(;i.length;)i.pop()()}},t.notifyWhenNoOutstandingRequests=function(t){n?i.push(t):t()},t.onUrlChange=function(e){return t.pollFns.push((function(){t.$$lastUrl===t.$$url&&t.$$state===t.$$lastState||(t.$$lastUrl=t.$$url,t.$$lastState=t.$$state,e(t.$$url,t.$$state))})),e},t.$$applicationDestroyed=e.noop,t.$$checkUrlChange=e.noop,t.deferredFns=[],t.deferredNextId=0,t.defer=function(e,n){return n=n||0,t.deferredFns.push({time:t.defer.now+n,fn:e,id:t.deferredNextId}),t.deferredFns.sort((function(t,e){return t.time-e.time})),t.deferredNextId++},t.defer.now=0,t.defer.cancel=function(n){var i;return e.forEach(t.deferredFns,(function(t,e){t.id===n&&(i=e)})),!!e.isDefined(i)&&(t.deferredFns.splice(i,1),!0)},t.defer.flush=function(n){var i;if(e.isDefined(n))i=t.defer.now+n;else{if(!t.deferredFns.length)throw new Error("No deferred tasks to be flushed");i=t.deferredFns[t.deferredFns.length-1].time}for(;t.deferredFns.length&&t.deferredFns[0].time<=i;)t.defer.now=t.deferredFns[0].time,t.deferredFns.shift().fn();t.defer.now=i},t.$$baseHref="/",t.baseHref=function(){return this.$$baseHref}},e.mock.$Browser.prototype={poll:function(){e.forEach(this.pollFns,(function(t){t()}))},url:function(t,n,i){return e.isUndefined(i)&&(i=null),t?(this.$$url=t,this.$$state=e.copy(i),this):this.$$url},state:function(){return this.$$state}},e.mock.$ExceptionHandlerProvider=function(){var t;this.mode=function(e){switch(e){case"log":case"rethrow":var n=[];(t=function(t){if(1===arguments.length?n.push(t):n.push([].slice.call(arguments,0)),"rethrow"===e)throw t}).errors=n;break;default:throw new Error("Unknown mode '"+e+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return t},this.mode("rethrow")},e.mock.$LogProvider=function(){var t=!0;function n(t,e,n){return t.concat(Array.prototype.slice.call(e,n))}this.debugEnabled=function(n){return e.isDefined(n)?(t=n,this):t},this.$get=function(){var i={log:function(){i.log.logs.push(n([],arguments,0))},warn:function(){i.warn.logs.push(n([],arguments,0))},info:function(){i.info.logs.push(n([],arguments,0))},error:function(){i.error.logs.push(n([],arguments,0))},debug:function(){t&&i.debug.logs.push(n([],arguments,0))},reset:function(){i.log.logs=[],i.info.logs=[],i.warn.logs=[],i.error.logs=[],i.debug.logs=[]},assertEmpty:function(){var t=[];if(e.forEach(["error","warn","info","log","debug"],(function(n){e.forEach(i[n].logs,(function(i){e.forEach(i,(function(e){t.push("MOCK $log ("+n+"): "+String(e)+"\n"+(e.stack||""))}))}))})),t.length)throw t.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),t.push(""),new Error(t.join("\n---------\n"))}};return i.reset(),i}},e.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(t,n,i,r){var a=[],o=0,s=0,c=function(c,l,u,h){var d=arguments.length>4,f=d?Array.prototype.slice.call(arguments,4):[],p=0,g=e.isDefined(h)&&!h,m=(g?r:i).defer(),v=m.promise;function y(){var i;(m.notify(p++),u>0&&p>=u)&&(m.resolve(p),e.forEach(a,(function(t,e){t.id===v.$$intervalId&&(i=e)})),e.isDefined(i)&&a.splice(i,1));g?t.defer.flush():n.$apply()}return u=e.isDefined(u)?u:0,v.then(null,(function(){}),d?function(){c.apply(null,f)}:c),v.$$intervalId=o,a.push({nextTime:s+(l||0),delay:l||1,fn:y,id:o,deferred:m}),a.sort((function(t,e){return t.nextTime-e.nextTime})),o++,v};return c.cancel=function(t){return!!t&&(e.forEach(a,(function(e,i){e.id===t.$$intervalId&&(n=i)})),!!e.isDefined(n)&&(a[n].deferred.promise.then(void 0,(function(){})),a[n].deferred.reject("canceled"),a.splice(n,1),!0));var n},c.flush=function(t){var e=s;for(s+=t;a.length&&a[0].nextTime<=s;){var n=a[0];n.fn(),n.nextTime===e&&n.nextTime++,n.nextTime+=n.delay,a.sort((function(t,e){return t.nextTime-e.nextTime}))}return t},c}]},e.mock.TzDate=function(t,r){var a=new Date(0);if(e.isString(r)){var o=r;if(a.origDate=function(t){var e;if(e=t.match(/^(-?\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/)){var i=new Date(0),r=0,a=0;return e[9]&&(r=n(e[9]+e[10]),a=n(e[9]+e[11])),i.setUTCFullYear(n(e[1]),n(e[2])-1,n(e[3])),i.setUTCHours(n(e[4]||0)-r,n(e[5]||0)-a,n(e[6]||0),n(e[7]||0)),i}return t}(r),r=a.origDate.getTime(),isNaN(r))throw{name:"Illegal Argument",message:"Arg '"+o+"' passed into TzDate constructor is not a valid date string"}}else a.origDate=new Date(r);var s=new Date(r).getTimezoneOffset();a.offsetDiff=60*s*1e3-1e3*t*60*60,a.date=new Date(r+a.offsetDiff),a.getTime=function(){return a.date.getTime()-a.offsetDiff},a.toLocaleDateString=function(){return a.date.toLocaleDateString()},a.getFullYear=function(){return a.date.getFullYear()},a.getMonth=function(){return a.date.getMonth()},a.getDate=function(){return a.date.getDate()},a.getHours=function(){return a.date.getHours()},a.getMinutes=function(){return a.date.getMinutes()},a.getSeconds=function(){return a.date.getSeconds()},a.getMilliseconds=function(){return a.date.getMilliseconds()},a.getTimezoneOffset=function(){return 60*t},a.getUTCFullYear=function(){return a.origDate.getUTCFullYear()},a.getUTCMonth=function(){return a.origDate.getUTCMonth()},a.getUTCDate=function(){return a.origDate.getUTCDate()},a.getUTCHours=function(){return a.origDate.getUTCHours()},a.getUTCMinutes=function(){return a.origDate.getUTCMinutes()},a.getUTCSeconds=function(){return a.origDate.getUTCSeconds()},a.getUTCMilliseconds=function(){return a.origDate.getUTCMilliseconds()},a.getDay=function(){return a.date.getDay()},a.toISOString&&(a.toISOString=function(){return i(a.origDate.getUTCFullYear(),4)+"-"+i(a.origDate.getUTCMonth()+1,2)+"-"+i(a.origDate.getUTCDate(),2)+"T"+i(a.origDate.getUTCHours(),2)+":"+i(a.origDate.getUTCMinutes(),2)+":"+i(a.origDate.getUTCSeconds(),2)+"."+i(a.origDate.getUTCMilliseconds(),3)+"Z"});return e.forEach(["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"],(function(t){a[t]=function(){throw new Error("Method '"+t+"' is not implemented in the TzDate mock")}})),a},e.mock.TzDate.prototype=Date.prototype,e.mock.animate=e.module("ngAnimateMock",["ng"]).info({angularVersion:"1.7.0"}).config(["$provide",function(t){t.factory("$$forceReflow",(function(){function t(){t.totalReflows++}return t.totalReflows=0,t})),t.factory("$$animateAsyncRun",(function(){var t=[],e=function(){return function(e){t.push(e)}};return e.flush=function(){if(0===t.length)return!1;for(var e=0;e<t.length;e++)t[e]();return t=[],!0},e})),t.decorator("$$animateJs",["$delegate",function(t){var e=[],n=function(){var n=t.apply(t,arguments);return n&&e.push(n),n};return n.$closeAndFlush=function(){e.forEach((function(t){t.end()})),e=[]},n}]),t.decorator("$animateCss",["$delegate",function(t){var e=[],n=function(n,i){var r=t(n,i);return e.push(r),r};return n.$closeAndFlush=function(){e.forEach((function(t){t.end()})),e=[]},n}]),t.decorator("$animate",["$delegate","$timeout","$browser","$$rAF","$animateCss","$$animateJs","$$forceReflow","$$animateAsyncRun","$rootScope",function(t,n,i,r,a,o,s,c,l){var u={queue:[],cancel:t.cancel,on:t.on,off:t.off,pin:t.pin,get reflows(){return s.totalReflows},enabled:t.enabled,closeAndFlush:function(){this.flush(!0),a.$closeAndFlush(),o.$closeAndFlush(),this.flush()},flush:function(t){l.$digest();var e,n=!1;do{e=!1,r.queue.length&&(r.flush(),e=n=!0),c.flush()&&(e=n=!0)}while(e);if(!n&&!t)throw new Error("No pending animations ready to be closed or flushed");l.$digest()}};return e.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],(function(e){u[e]=function(){return u.queue.push({event:e,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),t[e].apply(t,arguments)}})),u}])}]),e.mock.dump=function(t){return function t(n){var i;e.isElement(n)?(n=e.element(n),i=e.element("<div></div>"),e.forEach(n,(function(t){i.append(e.element(t).clone())})),i=i.html()):e.isArray(n)?(i=[],e.forEach(n,(function(e){i.push(t(e))})),i="[ "+i.join(", ")+" ]"):i=e.isObject(n)?e.isFunction(n.$eval)&&e.isFunction(n.$apply)?function t(n,i){var r=[(i=i||"  ")+"Scope("+n.$id+"): {"];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&!a.match(/^(\$|this)/)&&r.push("  "+a+": "+e.toJson(n[a]));var o=n.$$childHead;for(;o;)r.push(t(o,i+"  ")),o=o.$$nextSibling;return r.push("}"),r.join("\n"+i)}(n):n instanceof Error?n.stack||n.name+": "+n.message:e.toJson(n,!0):String(n);return i}(t)},e.mock.$httpBackendDecorator=["$rootScope","$timeout","$delegate",r],e.mock.$TimeoutDecorator=["$delegate","$browser",function(t,n){return t.flush=function(t){n.defer.flush(t)},t.verifyNoPendingTasks=function(){if(n.deferredFns.length)throw new Error("Deferred tasks to flush ("+n.deferredFns.length+"): "+(t=n.deferredFns,i=[],e.forEach(t,(function(t){i.push("{id: "+t.id+", time: "+t.time+"}")})),i.join(", ")));var t,i},t}],e.mock.$RAFDecorator=["$delegate",function(t){var e=function(t){var n=e.queue.length;return e.queue.push(t),function(){e.queue.splice(n,1)}};return e.queue=[],e.supported=t.supported,e.flush=function(){if(0===e.queue.length)throw new Error("No rAF callbacks present");for(var t=e.queue.length,n=0;n<t;n++)e.queue[n]();e.queue=e.queue.slice(n)},e}],e.mock.$RootElementProvider=function(){this.$get=["$injector",function(t){return c=e.element("<div ng-app></div>").data("$injector",t)}]},e.mock.$ComponentControllerProvider=["$compileProvider",function(t){this.$get=["$controller","$injector","$rootScope",function(t,e,n){return function(i,r,a,o){var s=e.get(i+"Directive").filter((function(t){return t.controller&&t.controllerAs&&"E"===t.restrict}));if(0===s.length)throw new Error("No component found");if(s.length>1)throw new Error("Too many components found");var c=s[0];return(r=r||{}).$scope=r.$scope||n.$new(!0),t(c.controller,r,a,o||c.controllerAs)}}]}],e.module("ngMock",["ng"]).provider({$browser:e.mock.$BrowserProvider,$exceptionHandler:e.mock.$ExceptionHandlerProvider,$log:e.mock.$LogProvider,$interval:e.mock.$IntervalProvider,$rootElement:e.mock.$RootElementProvider,$componentController:e.mock.$ComponentControllerProvider}).config(["$provide","$compileProvider",function(t,n){t.decorator("$timeout",e.mock.$TimeoutDecorator),t.decorator("$$rAF",e.mock.$RAFDecorator),t.decorator("$rootScope",e.mock.$RootScopeDecorator),t.decorator("$controller",(e.mock.$ControllerDecorator=["$delegate",function(t){return function(n,i,r,a){if(r&&"object"==typeof r){var o=t(n,i,!0,a)();return e.extend(o,r),o}return t(n,i,r,a)}}],e.mock.$ControllerDecorator)),t.decorator("$httpBackend",e.mock.$httpBackendDecorator)}]).info({angularVersion:"1.7.0"}),e.module("ngMockE2E",["ng"]).config(["$provide",function(t){t.decorator("$httpBackend",e.mock.e2e.$httpBackendDecorator)}]).info({angularVersion:"1.7.0"}),e.mock.e2e={},e.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",r],e.mock.$RootScopeDecorator=["$delegate",function(t){var e=Object.getPrototypeOf(t);return e.$countChildScopes=function(){var t,e=0,n=[this.$$childHead];for(;n.length;)for(t=n.shift();t;)e+=1,n.push(t.$$childHead),t=t.$$nextSibling;return e},e.$countWatchers=function(){var t,e=this.$$watchers?this.$$watchers.length:0,n=[this.$$childHead];for(;n.length;)for(t=n.shift();t;)e+=t.$$watchers?t.$$watchers.length:0,n.push(t.$$childHead),t=t.$$nextSibling;return e},t}],function(n){if(n){var i=null,r=new h,a=[],o=function(){return!!i};e.mock.$$annotate=e.injector.$$annotate,e.injector.$$annotate=function(t){return"function"!=typeof t||t.$inject||a.push(t),e.mock.$$annotate.apply(this,arguments)};var l=t.module=e.mock.module=function(){var t=Array.prototype.slice.call(arguments,0);return o()?n():n;function n(){if(i.$injector)throw new Error("Injector already created, can not register a module!");var n,r=i.$modules||(i.$modules=[]);e.forEach(t,(function(t){n=e.isObject(t)&&!e.isArray(t)?["$provide",function(n){e.forEach(t,(function(t,e){n.value(e,t)}))}]:t,i.$providerInjector?i.$providerInjector.invoke(n):r.push(n)}))}};l.$$beforeAllHook=t.before||t.beforeAll,l.$$afterAllHook=t.after||t.afterAll,l.$$currentSpec=function(t){if(0===arguments.length)return t;i=t},l.sharedInjector=function(){if(!l.$$beforeAllHook||!l.$$afterAllHook)throw Error("sharedInjector() cannot be used unless your test runner defines beforeAll/afterAll");var t=!1;l.$$beforeAllHook((function(){if(r.shared)throw r.sharedError=Error("sharedInjector() cannot be called inside a context that has already called sharedInjector()"),r.sharedError;t=!0,i=this,r.shared=!0})),l.$$afterAllHook((function(){t?(r=new h,l.$$cleanup()):r.sharedError=null}))},l.$$beforeEach=function(){if(r.shared&&i&&i!==this){var t=i;i=this,e.forEach(["$injector","$modules","$providerInjector","$injectorStrict"],(function(e){i[e]=t[e],t[e]=null}))}else i=this,c=null,a=[]},l.$$afterEach=function(){r.cleanupAfterEach()&&l.$$cleanup()},l.$$cleanup=function(){var t=i.$injector;if(a.forEach((function(t){delete t.$inject})),i.$injector=null,i.$modules=null,i.$providerInjector=null,i=null,t){var n=t.get("$rootElement"),r=n&&n[0],o=c?[c[0]]:[];!r||c&&r===c[0]||o.push(r),e.element.cleanData(o);var l=t.get("$rootScope");l&&l.$destroy&&l.$destroy()}e.forEach(e.element.fragments,(function(t,n){delete e.element.fragments[n]})),s.$$lastInstance=null,e.forEach(e.callbacks,(function(t,n){delete e.callbacks[n]})),e.callbacks.$$counter=0},(t.beforeEach||t.setup)(l.$$beforeEach),(t.afterEach||t.teardown)(l.$$afterEach);var u=function(t,e){this.message=t.message,this.name=t.name,t.line&&(this.line=t.line),t.sourceId&&(this.sourceId=t.sourceId),t.stack&&e&&(this.stack=t.stack+"\n"+e.stack),t.stackArray&&(this.stackArray=t.stackArray)};u.prototype=Error.prototype,t.inject=e.mock.inject=function(){var t=Array.prototype.slice.call(arguments,0),n=new Error("Declaration Location");if(!n.stack)try{throw n}catch(t){}return o()?r.call(i):r;function r(){var r=i.$modules||[],a=!!i.$injectorStrict;r.unshift(["$injector",function(t){i.$providerInjector=t}]),r.unshift("ngMock"),r.unshift("ng");var o=i.$injector;o||(a&&e.forEach(r,(function(t){"function"==typeof t&&e.injector.$$annotate(t)})),o=i.$injector=e.injector(r,a),i.$injectorStrict=a);for(var s=0,c=t.length;s<c;s++){i.$injectorStrict&&o.annotate(t[s]);try{o.invoke(t[s]||e.noop,this)}catch(t){if(t.stack&&n)throw new u(t,n);throw t}finally{n=null}}}},e.mock.inject.strictDi=function(t){return t=!arguments.length||!!t,o()?e():e;function e(){if(t!==i.$injectorStrict){if(i.$injector)throw new Error("Injector already created, can not modify strict annotations");i.$injectorStrict=t}}}}function h(){this.shared=!1,this.sharedError=null,this.cleanupAfterEach=function(){return!this.shared||this.sharedError}}}(t.jasmine||t.mocha),function(){function e(){if("_cached"in e)return e._cached;if(!t.document.createTouch||!t.document.createTouchList)return e._cached=!1,!1;try{t.document.createEvent("TouchEvent")}catch(t){return e._cached=!1,!1}return e._cached=!0,!0}function n(){if("_cached"in n)return n._cached;n._cached=!1;var e=t.document;if(e){var i=e.createElement("div"),r=i.cloneNode();i.appendChild(r),i.addEventListener("e",(function(){n._cached=!0}));var a=t.document.createEvent("Events");a.initEvent("e",!0,!0),r.dispatchEvent(a)}return n._cached}t.browserTrigger=function(i,r,a){if(i&&!i.nodeName&&(i=i[0]),i){var o,s=(a=a||{}).relatedTarget||i,c=a.keys,l=a.x,u=a.y,h=i.type?i.type.toLowerCase():null,d=i.nodeName.toLowerCase();if(r||(r={text:"change",textarea:"change",hidden:"change",password:"change",button:"click",submit:"click",reset:"click",image:"click",checkbox:"click",radio:"click","select-one":"change","select-multiple":"change",_default_:"click"}[h||"_default_"]),"option"===d&&(i.parentNode.value=i.value,i=i.parentNode,r="change"),c=c||[],/transitionend/.test(r))if(t.WebKitTransitionEvent)(o=new t.WebKitTransitionEvent(r,a)).initEvent(r,a.bubbles,!0);else try{o=new t.TransitionEvent(r,a)}catch(e){(o=t.document.createEvent("TransitionEvent")).initTransitionEvent(r,a.bubbles,null,null,a.elapsedTime||0)}else if(/animationend/.test(r))if(t.WebKitAnimationEvent)(o=new t.WebKitAnimationEvent(r,a)).initEvent(r,a.bubbles,!0);else try{o=new t.AnimationEvent(r,a)}catch(e){(o=t.document.createEvent("AnimationEvent")).initAnimationEvent(r,a.bubbles,null,null,a.elapsedTime||0)}else if(/touch/.test(r)&&e())o=function(e,n,i,r){var a=new t.Event(n);i=i||0,r=r||0;var o=t.document.createTouch(t,e,Date.now(),i,r,i,r),s=t.document.createTouchList(o);return a.touches=s,a}(i,r,l,u);else if(/key/.test(r))(o=t.document.createEvent("Events")).initEvent(r,a.bubbles,a.cancelable),o.view=t,o.ctrlKey=f("ctrl"),o.altKey=f("alt"),o.shiftKey=f("shift"),o.metaKey=f("meta"),o.keyCode=a.keyCode,o.charCode=a.charCode,o.which=a.which;else if(/composition/.test(r))try{o=new t.CompositionEvent(r,{data:a.data})}catch(e){(o=t.document.createEvent("CompositionEvent",{})).initCompositionEvent(r,a.bubbles,a.cancelable,t,a.data,null)}else l=l||0,u=u||0,(o=t.document.createEvent("MouseEvents")).initMouseEvent(r,!0,!0,t,0,l,u,l,u,f("ctrl"),f("alt"),f("shift"),f("meta"),0,s);if(o.$manualTimeStamp=a.timeStamp,o)return!a.bubbles||n()||function(e){for(;e=e.parentNode;)if(e===t)return!0;return!1}(i)?i.dispatchEvent(o):void function(t,e){var n=!1,i=e.stopPropagation;e.stopPropagation=function(){n=!0,i.apply(e,arguments)},r=e,a=t,r._target=a,Object.defineProperty(r,"target",{get:function(){return this._target}});var r,a;do{t.dispatchEvent(e)}while(!n&&(t=t.parentNode))}(i,o)}function f(t){return-1!==c.indexOf(t)}}}()}(window,window.angular)}).call(this,n(0))},172:function(t,e,n){(function(t){var e=window.angular;window.c3;!function(t){"use strict";var e=t.module("Devise",[]);e.provider("AuthIntercept",(function(){var t=!1;this.interceptAuth=function(e){return t=!!e||void 0===e,this},this.$get=["$rootScope","$q",function(e,n){return{responseError:function(i){var r=i.config.interceptAuth;if((r=!!r||t&&void 0===r)&&401===i.status){var a=n.defer();return e.$broadcast("devise:unauthorized",i,a),a.reject(i),a.promise}return n.reject(i)}}}]})).config(["$httpProvider",function(t){t.interceptors.push("AuthIntercept")}]),e.provider("Auth",(function(){var e={login:"/users/sign_in.json",logout:"/users/sign_out.json",register:"/users.json",sendResetPasswordInstructions:"/users/password.json",resetPassword:"/users/password.json"},n={login:"POST",logout:"DELETE",register:"POST",sendResetPasswordInstructions:"POST",resetPassword:"PUT"},i="user",r=function(t){return t.data};function a(r,a,o){var s={method:n[r].toLowerCase(),url:e[r]};return a&&(i?(s.data={},s.data[i]=a):s.data=a),t.extend(s,o),s}function o(e,n){t.forEach(e,(function(t,i){this[i+n]=function(t){return void 0===t?e[i]:(e[i]=t,this)}}),this)}o.call(this,n,"Method"),o.call(this,e,"Path"),this.resourceName=function(t){return void 0===t?i:(i=t,this)},this.parse=function(t){return"function"!=typeof t?r:(r=t,this)},this.$get=["$q","$http","$rootScope",function(t,e,n){function i(t){return c._currentUser=t,t}function o(){i(null),c._promise=null}function s(t){return function(e){return n.$broadcast("devise:"+t,e),e}}var c={_currentUser:null,parse:r,_promise:null,reset:function(){o(),c.currentUser()},login:function(t,n){var r=arguments.length>0,o=c.isAuthenticated();return e(a("login",t=t||{},n)).then(c.parse).then(i).then((function(t){return r&&!o?s("new-session")(t):t})).then(s("login"))},logout:function(t){var n,i=(n=c._currentUser,function(){return n});return e(a("logout",void 0,t)).then(o).then(i).then(s("logout"))},register:function(t,n){return e(a("register",t=t||{},n)).then(c.parse).then(i).then(s("new-registration"))},sendResetPasswordInstructions:function(t){return e(a("sendResetPasswordInstructions",t=t||{})).then(c.parse).then(s("send-reset-password-instructions-successfully"))},resetPassword:function(t){return e(a("resetPassword",t=t||{})).then(c.parse).then(i).then(s("reset-password-successfully"))},currentUser:function(){return c.isAuthenticated()?t.when(c._currentUser):(null===c._promise&&(c._promise=c.login()),c._promise)},isAuthenticated:function(){return!!c._currentUser}};return c}]}))}(e)}).call(this,n(0))},177:function(t,e,n){(function(t){var e=window.angular;window.c3;!function(t,n){"use strict";e.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).run(["$templateCache",function(t){t.put("angularjs-toaster/toast.html",'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click($event, toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click($event, toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="{{toaster.directiveData}}"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>')}]).service("toaster",["$rootScope","toasterConfig",function(t,n){var i=function(){var t={newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}};return t}();for(var r in this.pop=function(n,r,a,o,s,c,l,u,h,d){if(e.isObject(n)){var f=n;this.toast={type:f.type,title:f.title,body:f.body,timeout:f.timeout,bodyOutputType:f.bodyOutputType,clickHandler:f.clickHandler,showCloseButton:f.showCloseButton,closeHtml:f.closeHtml,toastId:f.toastId,onShowCallback:f.onShowCallback,onHideCallback:f.onHideCallback,directiveData:f.directiveData,tapToDismiss:f.tapToDismiss},l=f.toasterId}else this.toast={type:n,title:r,body:a,timeout:o,bodyOutputType:s,clickHandler:c,showCloseButton:u,toastId:h,onHideCallback:d};return this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=i.newGuid()),t.$emit("toaster-newToast",l,this.toast.toastId),{toasterId:l,toastId:this.toast.toastId}},this.clear=function(n,i){e.isObject(n)?t.$emit("toaster-clearToasts",n.toasterId,n.toastId):t.$emit("toaster-clearToasts",n,i)},n["icon-classes"])this[r]=a(r);function a(t){return function(n,i,r,a,o,s,c,l,u){return e.isString(n)?this.pop(t,n,i,r,a,o,s,c,l,u):this.pop(e.extend(n,{type:t}))}}}]).factory("toasterEventRegistry",["$rootScope",function(t){var e,n=null,i=null,r=[],a=[];return{setup:(e={setup:function(){n||(n=t.$on("toaster-newToast",(function(t,e,n){for(var i=0,a=r.length;i<a;i++)r[i](t,e,n)}))),i||(i=t.$on("toaster-clearToasts",(function(t,e,n){for(var i=0,r=a.length;i<r;i++)a[i](t,e,n)})))},subscribeToNewToastEvent:function(t){r.push(t)},subscribeToClearToastsEvent:function(t){a.push(t)},unsubscribeToNewToastEvent:function(t){var e=r.indexOf(t);e>=0&&r.splice(e,1),0===r.length&&(n(),n=null)},unsubscribeToClearToastsEvent:function(t){var e=a.indexOf(t);e>=0&&a.splice(e,1),0===a.length&&(i(),i=null)}}).setup,subscribeToNewToastEvent:e.subscribeToNewToastEvent,subscribeToClearToastsEvent:e.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:e.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:e.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function(t,n){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"@directiveData"},replace:!0,link:function(i,r,a){i.$watch("directiveName",(function(o){if(e.isUndefined(o)||o.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");var s;try{s=n.get(a.$normalize(o)+"Directive")}catch(t){throw new Error(o+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var c=s[0];if(!0!==c.scope&&c.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+o+".");if(c.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+o+".");i.directiveData&&(i.directiveData=e.fromJson(i.directiveData));var l=t("<div "+o+"></div>")(i);r.append(l)}))}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(t,n,i,r,a,o,s){return{replace:!0,restrict:"EA",scope:!0,link:function(n,c,l){var u;function h(t){var r=n.toasters[t];r.timeoutPromise&&i.cancel(r.timeoutPromise),n.toasters.splice(t,1),e.isFunction(r.onHideCallback)&&r.onHideCallback(r)}function d(t){return e.isUndefined(t)||null===t}u=e.extend({},a,n.$eval(l.toasterOptions)),n.config={toasterId:u["toaster-id"],position:u["position-class"],title:u["title-class"],message:u["message-class"],tap:u["tap-to-dismiss"],closeButton:u["close-button"],closeHtml:u["close-html"],animation:u["animation-class"],mouseoverTimer:u["mouseover-timer-stop"]},n.$on("$destroy",(function(){s.unsubscribeToNewToastEvent(n._onNewToast),s.unsubscribeToClearToastsEvent(n._onClearToasts)})),n.configureTimer=function(t){var r=e.isNumber(t.timeout)?t.timeout:u["time-out"];"object"==typeof r&&(r=r[t.type]),r>0&&function(t,e){t.timeoutPromise=i((function(){n.removeToast(t.toastId)}),e,1)}(t,r)},n.removeToast=function(t){var e,i;for(e=0,i=n.toasters.length;e<i;e++)if(n.toasters[e].toastId===t){h(e);break}},n.toasters=[],n._onNewToast=function(i,a,s){(d(n.config.toasterId)&&d(a)||!d(n.config.toasterId)&&!d(a)&&n.config.toasterId==a)&&function(i,a){if(i.type=u["icon-classes"][i.type],i.type||(i.type=u["icon-class"]),!0===u["prevent-duplicates"]&&n.toasters.length){if(n.toasters[n.toasters.length-1].body===i.body)return;var o,s,c=!1;for(o=0,s=n.toasters.length;o<s;o++)if(n.toasters[o].toastId===a){c=!0;break}if(c)return}var l=u["close-button"];if("boolean"==typeof i.showCloseButton);else if("boolean"==typeof l)i.showCloseButton=l;else if("object"==typeof l){var h=l[i.type];null!=h&&(i.showCloseButton=h)}else i.showCloseButton=!1;switch(i.showCloseButton&&(i.closeHtml=r.trustAsHtml(i.closeHtml||n.config.closeHtml)),i.bodyOutputType=i.bodyOutputType||u["body-output-type"],i.bodyOutputType){case"trustedHtml":i.html=r.trustAsHtml(i.body);break;case"template":i.bodyTemplate=i.body||u["body-template"];break;case"templateWithData":var d=t(i.body||u["body-template"])(n);i.bodyTemplate=d.template,i.data=d.data;break;case"directive":i.html=i.body}n.configureTimer(i),!0===u["newest-on-top"]?(n.toasters.unshift(i),u.limit>0&&n.toasters.length>u.limit&&n.toasters.pop()):(n.toasters.push(i),u.limit>0&&n.toasters.length>u.limit&&n.toasters.shift()),e.isFunction(i.onShowCallback)&&i.onShowCallback(i)}(o.toast,s)},n._onClearToasts=function(t,e,i){("*"==e||d(n.config.toasterId)&&d(e)||!d(n.config.toasterId)&&!d(e)&&n.config.toasterId==e)&&function(t){for(var e=n.toasters.length-1;e>=0;e--)(d(t)||n.toasters[e].toastId==t)&&h(e)}(i)},s.setup(),s.subscribeToNewToastEvent(n._onNewToast),s.subscribeToClearToastsEvent(n._onClearToasts)},controller:["$scope","$element","$attrs",function(t,n,r){t.stopTimer=function(e){!0===t.config.mouseoverTimer&&e.timeoutPromise&&(i.cancel(e.timeoutPromise),e.timeoutPromise=null)},t.restartTimer=function(e){!0===t.config.mouseoverTimer?e.timeoutPromise||t.configureTimer(e):null===e.timeoutPromise&&t.removeToast(e.toastId)},t.click=function(n,i,r){if(n.stopPropagation(),!0===("boolean"==typeof i.tapToDismiss?i.tapToDismiss:t.config.tap)||!0===i.showCloseButton&&!0===r){var a=!0;i.clickHandler&&(e.isFunction(i.clickHandler)?a=i.clickHandler(i,r):e.isFunction(t.$parent.$eval(i.clickHandler))?a=t.$parent.$eval(i.clickHandler)(i,r):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),a&&t.removeToast(i.toastId)}}}],templateUrl:"angularjs-toaster/toast.html"}}])}(window,document)}).call(this,n(0))},182:function(t,e,n){(function(i){var r,a=window.angular;window.c3;
/*! 
 * angular-hotkeys v1.7.0
 * https://chieffancypants.github.io/angular-hotkeys
 * Copyright (c) 2016 Wes Cruver
 * License: MIT
 */
!function(){"use strict";a.module("cfp.hotkeys",[]).provider("hotkeys",["$injector",function(t){this.includeCheatSheet=!0,this.useNgRoute=t.has("ngViewDirective"),this.templateTitle="Keyboard Shortcuts:",this.templateHeader=null,this.templateFooter=null,this.template='<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title" ng-if="!header">{{ title }}</h4><div ng-bind-html="header" ng-if="header"></div><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div ng-bind-html="footer" ng-if="footer"></div><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">&#215;</div></div></div>',this.cheatSheetHotkey="?",this.cheatSheetDescription="Show / hide this help menu",this.$get=["$rootElement","$rootScope","$compile","$window","$document",function(t,e,n,i,r){var o=!0;function s(t){var e={command:"â",shift:"â§",left:"â",right:"â",up:"â",down:"â",return:"â",backspace:"â«"};t=t.split("+");for(var n=0;n<t.length;n++)"mod"===t[n]&&(i.navigator&&i.navigator.platform.indexOf("Mac")>=0?t[n]="command":t[n]="ctrl"),t[n]=e[t[n]]||t[n];return t.join(" + ")}function c(t,e,n,i,r,a){this.combo=t instanceof Array?t:[t],this.description=e,this.callback=n,this.action=i,this.allowIn=r,this.persistent=a,this._formated=null}Mousetrap.prototype.stopCallback=function(t,e){return!o||!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(e.contentEditable&&"true"==e.contentEditable)},c.prototype.format=function(){if(null===this._formated){for(var t=this.combo[0].split(/[\s]/),e=0;e<t.length;e++)t[e]=s(t[e]);this._formated=t}return this._formated};var l=e.$new();l.hotkeys=[],l.helpVisible=!1,l.title=this.templateTitle,l.header=this.templateHeader,l.footer=this.templateFooter,l.toggleCheatSheet=m;var u={};if(this.useNgRoute&&e.$on("$routeChangeSuccess",(function(t,e){p(),e&&e.hotkeys&&a.forEach(e.hotkeys,(function(t){var n=t[2];("string"==typeof n||n instanceof String)&&(t[2]=[n,e]),t[5]=!1,v.apply(this,t)}))})),this.includeCheatSheet){var h=r[0],d=t[0],f=a.element(this.template);v(this.cheatSheetHotkey,this.cheatSheetDescription,m),d!==h&&d!==h.documentElement||(d=h.body),a.element(d).append(n(f)(l))}function p(){for(var t=l.hotkeys.length;t--;){var e=l.hotkeys[t];e&&!e.persistent&&y(e)}}var g=!1;function m(){l.helpVisible=!l.helpVisible,l.helpVisible?(g=b("esc"),y("esc"),v("esc",g.description,m,null,["INPUT","SELECT","TEXTAREA"])):(y("esc"),!1!==g&&v(g))}function v(t,e,n,i,r,o){var s,u=["INPUT","SELECT","TEXTAREA"];if("[object Object]"===Object.prototype.toString.call(t)&&(e=t.description,n=t.callback,i=t.action,o=t.persistent,r=t.allowIn,t=t.combo),y(t),e instanceof Function?(i=n,n=e,e="$$undefined$$"):a.isUndefined(e)&&(e="$$undefined$$"),void 0===o&&(o=!0),"function"==typeof n){var h;s=n,r instanceof Array||(r=[]);for(var d=0;d<r.length;d++)r[d]=r[d].toUpperCase(),-1!==(h=u.indexOf(r[d]))&&u.splice(h,1);n=function(t){var e=!0;if(t){var n=t.target||t.srcElement,i=n.nodeName.toUpperCase();if((" "+n.className+" ").indexOf(" mousetrap ")>-1)e=!0;else for(var r=0;r<u.length;r++)if(u[r]===i){e=!1;break}}e&&w(s.apply(this,arguments))}}"string"==typeof i?Mousetrap.bind(t,w(n),i):Mousetrap.bind(t,w(n));var f=new c(t,e,n,i,r,o);return l.hotkeys.push(f),f}function y(t){var e=t instanceof c?t.combo:t;if(Mousetrap.unbind(e),a.isArray(e)){for(var n=!0,i=e.length;i--;)n=y(e[i])&&n;return n}var r=l.hotkeys.indexOf(b(e));return r>-1&&(l.hotkeys[r].combo.length>1?l.hotkeys[r].combo.splice(l.hotkeys[r].combo.indexOf(e),1):(a.forEach(u,(function(t){var e=t.indexOf(l.hotkeys[r]);-1!==e&&t.splice(e,1)})),l.hotkeys.splice(r,1)),!0)}function b(t){if(!t)return l.hotkeys;for(var e,n=0;n<l.hotkeys.length;n++)if((e=l.hotkeys[n]).combo.indexOf(t)>-1)return e;return!1}function w(t){return function(n,i){if(t instanceof Array){var r=t[0],a=t[1];t=function(t){a.scope.$eval(r)}}e.$apply((function(){t(n,b(i))}))}}return{add:v,del:y,get:b,bindTo:function(t){return t.$id in u||(u[t.$id]=[],t.$on("$destroy",(function(){for(var e=u[t.$id].length;e--;)y(u[t.$id].pop())}))),{add:function(e){var n;return n=arguments.length>1?v.apply(this,arguments):v(e),u[t.$id].push(n),this}}},template:this.template,toggleCheatSheet:m,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,useNgRoute:this.useNgRoute,purgeHotkeys:p,templateTitle:this.templateTitle,pause:function(){o=!1},unpause:function(){o=!0}}}]}]).directive("hotkey",["hotkeys",function(t){return{restrict:"A",link:function(e,n,i){var r,o=[];a.forEach(e.$eval(i.hotkey),(function(e,n){r="string"==typeof i.hotkeyAllowIn?i.hotkeyAllowIn.split(/[\s,]+/):[],o.push(n),t.add({combo:n,description:i.hotkeyDescription,callback:e,action:i.hotkeyAction,allowIn:r})})),n.bind("$destroy",(function(){a.forEach(o,t.del)}))}}}]).run(["hotkeys",function(t){}])}(),function(i,a,o){for(var s,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},h={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)c[111+d]="f"+d;for(d=0;d<=9;++d)c[d+96]=d;function f(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function p(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return c[t.which]?c[t.which]:l[t.which]?l[t.which]:String.fromCharCode(t.which).toLowerCase()}function g(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function m(t,e,n){return n||(n=function(){if(!s)for(var t in s={},c)t>95&&t<112||c.hasOwnProperty(t)&&(s[c[t]]=t);return s}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function v(t,e){var n,i,r,a=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),r=0;r<n.length;++r)i=n[r],h[i]&&(i=h[i]),e&&"keypress"!=e&&u[i]&&(i=u[i],a.push("shift")),g(i)&&a.push(i);return{key:i,modifiers:a,action:e=m(i,a,e)}}function y(t){var e=this;if(t=t||a,!(e instanceof y))return new y(t);e.target=t,e._callbacks={},e._directMap={};var n,i={},r=!1,o=!1,s=!1;function c(t){t=t||{};var e,n=!1;for(e in i)t[e]?n=!0:i[e]=0;n||(s=!1)}function l(t,n,r,a,o,s){var c,l,u,h,d=[],f=r.type;if(!e._callbacks[t])return[];for("keyup"==f&&g(t)&&(n=[t]),c=0;c<e._callbacks[t].length;++c)if(l=e._callbacks[t][c],(a||!l.seq||i[l.seq]==l.level)&&f==l.action&&("keypress"==f&&!r.metaKey&&!r.ctrlKey||(u=n,h=l.modifiers,u.sort().join(",")===h.sort().join(",")))){var p=!a&&l.combo==o,m=a&&l.seq==a&&l.level==s;(p||m)&&e._callbacks[t].splice(c,1),d.push(l)}return d}function u(t,n,i,r){e.stopCallback(n,n.target||n.srcElement,i,r)||!1===t(n,i)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function h(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=p(t);n&&("keyup"!=t.type||r!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):r=!1)}function d(t,e,a,o){function l(e){return function(){s=e,++i[t],clearTimeout(n),n=setTimeout(c,1e3)}}function h(e){u(a,e,t),"keyup"!==o&&(r=p(e)),setTimeout(c,10)}i[t]=0;for(var d=0;d<e.length;++d){var f=d+1===e.length?h:l(o||v(e[d+1]).action);m(e[d],f,o,t,d)}}function m(t,n,i,r,a){e._directMap[t+":"+i]=n;var o,s=(t=t.replace(/\s+/g," ")).split(" ");s.length>1?d(t,s,n,i):(o=v(t,i),e._callbacks[o.key]=e._callbacks[o.key]||[],l(o.key,o.modifiers,{type:o.action},r,t,a),e._callbacks[o.key][r?"unshift":"push"]({callback:n,modifiers:o.modifiers,action:o.action,seq:r,level:a,combo:t}))}e._handleKey=function(t,e,n){var i,r=l(t,e,n),a={},h=0,d=!1;for(i=0;i<r.length;++i)r[i].seq&&(h=Math.max(h,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=h)continue;d=!0,a[r[i].seq]=1,u(r[i].callback,n,r[i].combo,r[i].seq)}else d||u(r[i].callback,n,r[i].combo);var f="keypress"==n.type&&o;n.type!=s||g(t)||f||c(a),o=d&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var i=0;i<t.length;++i)m(t[i],e,n)},f(t,"keypress",h),f(t,"keydown",h),f(t,"keyup",h)}y.prototype.bind=function(t,e,n){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,n),this},y.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},y.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},y.prototype.reset=function(){return this._callbacks={},this._directMap={},this},y.prototype.stopCallback=function(t,e){return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(!function t(e,n){return e!==a&&(e===n||t(e.parentNode,n))}(e,this.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable))},y.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},y.init=function(){var t=y(a);for(var e in t)"_"!==e.charAt(0)&&(y[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},y.init(),i.Mousetrap=y,t.exports&&(t.exports=y),void 0===(r=function(){return y}.call(e,n,e,t))||(t.exports=r)}(window,document)}).call(this,n(0))},185:function(t,e,n){(function(t){window.angular,window.c3;
/*! offline-js 0.7.19 */
(function(){var t,e,n,i,r,a;i=function(t,e){var n,i,r;for(n in i=[],e.prototype)try{r=e.prototype[n],null==t[n]&&"function"!=typeof r?i.push(t[n]=r):i.push(void 0)}catch(t){}return i},(t={}).options=window.Offline&&window.Offline.options||{},n={checks:{xhr:{url:function(){return"/favicon.ico?_="+(new Date).getTime()},timeout:5e3,type:"HEAD"},image:{url:function(){return"/favicon.ico?_="+(new Date).getTime()}},active:"xhr"},checkOnLoad:!1,interceptRequests:!0,reconnect:!0,deDupBody:!1},r=function(t,e){var n,i,r,a,o;for(n=t,i=r=0,a=(o=e.split(".")).length;r<a&&"object"==typeof(n=n[o[i]]);i=++r);return i===o.length-1?n:void 0},t.getOption=function(e){var i,a;return"function"==typeof(a=null!=(i=r(t.options,e))?i:r(n,e))?a():a},"function"==typeof window.addEventListener&&window.addEventListener("online",(function(){return setTimeout(t.confirmUp,100)}),!1),"function"==typeof window.addEventListener&&window.addEventListener("offline",(function(){return t.confirmDown()}),!1),t.state="up",t.markUp=function(){if(t.trigger("confirmed-up"),"up"!==t.state)return t.state="up",t.trigger("up")},t.markDown=function(){if(t.trigger("confirmed-down"),"down"!==t.state)return t.state="down",t.trigger("down")},a={},t.on=function(e,n,i){var r,o,s,c,l;if((o=e.split(" ")).length>1){for(l=[],s=0,c=o.length;s<c;s++)r=o[s],l.push(t.on(r,n,i));return l}return null==a[e]&&(a[e]=[]),a[e].push([i,n])},t.off=function(t,e){var n,i,r;if(null!=a[t]){if(e){for(n=0,r=[];n<a[t].length;)(i=a[t][n])[0],i[1]===e?r.push(a[t].splice(n,1)):r.push(n++);return r}return a[t]=[]}},t.trigger=function(t){var e,n,i,r,o,s,c;if(null!=a[t]){for(c=[],i=0,r=(o=a[t].slice(0)).length;i<r;i++)e=(s=o[i])[0],n=s[1],c.push(n.call(e));return c}},e=function(t,e,n){var i,r,a,o,s;return s=function(){return t.status&&t.status<12e3?e():n()},null===t.onprogress?(i=t.onerror,t.onerror=function(){return n(),"function"==typeof i?i.apply(null,arguments):void 0},o=t.ontimeout,t.ontimeout=function(){return n(),"function"==typeof o?o.apply(null,arguments):void 0},r=t.onload,t.onload=function(){return s(),"function"==typeof r?r.apply(null,arguments):void 0}):(a=t.onreadystatechange,t.onreadystatechange=function(){return 4===t.readyState?s():0===t.readyState&&n(),"function"==typeof a?a.apply(null,arguments):void 0})},t.checks={},t.checks.xhr=function(){var n;(n=new XMLHttpRequest).offline=!1,n.open(t.getOption("checks.xhr.type"),t.getOption("checks.xhr.url"),!0),null!=n.timeout&&(n.timeout=t.getOption("checks.xhr.timeout")),e(n,t.markUp,t.markDown);try{n.send()}catch(e){t.markDown()}return n},t.checks.image=function(){var e;(e=document.createElement("img")).onerror=t.markDown,e.onload=t.markUp,e.src=t.getOption("checks.image.url")},t.checks.down=t.markDown,t.checks.up=t.markUp,t.check=function(){return t.trigger("checking"),t.checks[t.getOption("checks.active")]()},t.confirmUp=t.confirmDown=t.check,t.onXHR=function(t){var e,n,r;if(r=function(e,n){var i;return i=e.open,e.open=function(r,a,o,s,c){return t({type:r,url:a,async:o,flags:n,user:s,password:c,xhr:e}),i.apply(e,arguments)}},n=window.XMLHttpRequest,window.XMLHttpRequest=function(t){var e,i,a;return a=new n(t),r(a,t),i=a.setRequestHeader,a.headers={},a.setRequestHeader=function(t,e){return a.headers[t]=e,i.call(a,t,e)},e=a.overrideMimeType,a.overrideMimeType=function(t){return a.mimeType=t,e.call(a,t)},a},i(window.XMLHttpRequest,n),null!=window.XDomainRequest)return e=window.XDomainRequest,window.XDomainRequest=function(){var t;return t=new e,r(t),t},i(window.XDomainRequest,e)},setTimeout((function(){if(t.getOption("interceptRequests")&&t.onXHR((function(n){var i;if(!1!==(i=n.xhr).offline)return e(i,t.markUp,t.confirmDown)})),t.getOption("checkOnLoad"))return t.check()}),0),window.Offline=t}).call(this),function(){var t,e,n,i,r,a,o,s,c;if(!window.Offline)throw new Error("Offline Reconnect brought in without offline.js");i=Offline.reconnect={},a=null,r=function(){var t;return null!=i.state&&"inactive"!==i.state&&Offline.trigger("reconnect:stopped"),i.state="inactive",i.remaining=i.delay=null!=(t=Offline.getOption("reconnect.initialDelay"))?t:3},e=function(){var t,e;return t=null!=(e=Offline.getOption("reconnect.delay"))?e:Math.min(Math.ceil(1.5*i.delay),3600),i.remaining=i.delay=t},o=function(){if("connecting"!==i.state)return i.remaining-=1,Offline.trigger("reconnect:tick"),0===i.remaining?s():void 0},s=function(){if("waiting"===i.state)return Offline.trigger("reconnect:connecting"),i.state="connecting",Offline.check()},t=function(){if(Offline.getOption("reconnect"))return r(),i.state="waiting",Offline.trigger("reconnect:started"),a=setInterval(o,1e3)},c=function(){return null!=a&&clearInterval(a),r()},n=function(){if(Offline.getOption("reconnect"))return"connecting"===i.state?(Offline.trigger("reconnect:failure"),i.state="waiting",e()):void 0},i.tryNow=s,r(),Offline.on("down",t),Offline.on("confirmed-down",n),Offline.on("up",c)}.call(this),function(){var t,e,n,i,r,a;if(!window.Offline)throw new Error("Requests module brought in without offline.js");n=[],a=!1,i=function(t){if(!1!==Offline.getOption("requests"))return Offline.trigger("requests:capture"),"down"!==Offline.state&&(a=!0),n.push(t)},r=function(t){var e,n,i,r,a,o,s,c,l;if(l=t.xhr,o=t.url,a=t.type,s=t.user,i=t.password,e=t.body,!1!==Offline.getOption("requests")){for(n in l.abort(),l.open(a,o,!0,s,i),r=l.headers)c=r[n],l.setRequestHeader(n,c);return l.mimeType&&l.overrideMimeType(l.mimeType),l.send(e)}},t=function(){return n=[]},e=function(){var e,i,a,o,s,c,l;if(!1!==Offline.getOption("requests")){for(Offline.trigger("requests:flush"),c={},i=0,o=n.length;i<o;i++)l=(s=n[i]).url.replace(/(\?|&)_=[0-9]+/,(function(t,e){return"?"===e?e:""})),Offline.getOption("deDupBody")?(e="[object Object]"===(e=s.body).toString()?JSON.stringify(e):e.toString(),c[s.type.toUpperCase()+" - "+l+" - "+e]=s):c[s.type.toUpperCase()+" - "+l]=s;for(a in c)s=c[a],r(s);return t()}},setTimeout((function(){if(!1!==Offline.getOption("requests"))return Offline.on("confirmed-up",(function(){if(a)return a=!1,t()})),Offline.on("up",e),Offline.on("down",(function(){return a=!1})),Offline.onXHR((function(t){var e,n,r,a,o;if(o=t.xhr,r=t.async,!1!==o.offline&&(a=function(){return i(t)},n=o.send,o.send=function(e){return t.body=e,n.apply(o,arguments)},r))return null===o.onprogress?(o.addEventListener("error",a,!1),o.addEventListener("timeout",a,!1)):(e=o.onreadystatechange,o.onreadystatechange=function(){return(0===o.readyState||4===o.readyState&&(0===o.status||o.status>=12e3))&&a(),"function"==typeof e?e.apply(null,arguments):void 0})})),Offline.requests={flush:e,clear:t}}),0)}.call(this),function(){var t,e,n,i,r,a;if(!Offline)throw new Error("Offline simulate brought in without offline.js");for(e=0,n=(i=["up","down"]).length;e<n;e++){a=i[e];try{r=document.querySelector("script[data-simulate='"+a+"']")||("undefined"!=typeof localStorage&&null!==localStorage?localStorage.OFFLINE_SIMULATE:void 0)===a}catch(t){r=!1}}r&&(null==Offline.options&&(Offline.options={}),null==(t=Offline.options).checks&&(t.checks={}),Offline.options.checks.active=a)}.call(this),function(){var t,e,n,i,r,a,o,s,c,l,u;if(!window.Offline)throw new Error("Offline UI brought in without offline.js");i=function(t){var e;return(e=document.createElement("div")).innerHTML=t,e.children[0]},r=n=null,e=function(t){return c(t),r.className+=" "+t},c=function(t){return r.className=r.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")},o={},a=function(t,n){return e(t),null!=o[t]&&clearTimeout(o[t]),o[t]=setTimeout((function(){return c(t),delete o[t]}),1e3*n)},u=function(t){var e,n,i;for(n in i={day:86400,hour:3600,minute:60,second:1})if(t>=(e=i[n]))return[Math.floor(t/e),n];return["now",""]},l=function(){var t,a;return r=i('<div class="offline-ui"><div class="offline-ui-content"></div></div>'),document.body.appendChild(r),null!=Offline.reconnect&&Offline.getOption("reconnect")&&(r.appendChild(i('<a href class="offline-ui-retry"></a>')),a=function(t){return t.preventDefault(),Offline.reconnect.tryNow()},null!=(t=r.querySelector(".offline-ui-retry")).addEventListener?t.addEventListener("click",a,!1):t.attachEvent("click",a)),e("offline-ui-"+Offline.state),n=r.querySelector(".offline-ui-content")},s=function(){return l(),Offline.on("up",(function(){return c("offline-ui-down"),e("offline-ui-up"),a("offline-ui-up-2s",2),a("offline-ui-up-5s",5)})),Offline.on("down",(function(){return c("offline-ui-up"),e("offline-ui-down"),a("offline-ui-down-2s",2),a("offline-ui-down-5s",5)})),Offline.on("reconnect:connecting",(function(){return e("offline-ui-connecting"),c("offline-ui-waiting")})),Offline.on("reconnect:tick",(function(){var t,i,r;return e("offline-ui-waiting"),c("offline-ui-connecting"),i=(t=u(Offline.reconnect.remaining))[0],r=t[1],n.setAttribute("data-retry-in-value",i),n.setAttribute("data-retry-in-unit",r)})),Offline.on("reconnect:stopped",(function(){return c("offline-ui-connecting offline-ui-waiting"),n.setAttribute("data-retry-in-value",null),n.setAttribute("data-retry-in-unit",null)})),Offline.on("reconnect:failure",(function(){return a("offline-ui-reconnect-failed-2s",2),a("offline-ui-reconnect-failed-5s",5)})),Offline.on("reconnect:success",(function(){return a("offline-ui-reconnect-succeeded-2s",2),a("offline-ui-reconnect-succeeded-5s",5)}))},"complete"===document.readyState?s():null!=document.addEventListener?document.addEventListener("DOMContentLoaded",s,!1):(t=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&s(),"function"==typeof t?t.apply(null,arguments):void 0})}.call(this)}).call(this,n(0))},186:function(t,e,n){(function(e){var n=window.angular;window.c3;t.exports=function t(e,n,i){function r(o,s){if(!n[o]){if(!e[o]){if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};e[o][0].call(l.exports,(function(t){var n=e[o][1][t];return r(n||t)}),l,l.exports,t,e,n,i)}return n[o].exports}for(var a=!1,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,n){e.exports={oauthd_url:"https://oauth.io",oauthd_api:"https://oauth.io/api",version:"web-0.5.2",options:{}}},{}],2:[function(t,e,n){"use strict";e.exports=function(t){var e,n;return e=t.getJquery(),n=function(n,i,r){var a,o;return o=e.Deferred(),a=t.getOAuthdURL(),e.ajax({url:a+i,type:n,data:r}).then((function(t){return o.resolve(t)}),(function(t){return o.reject(t&&t.responseJSON)})),o.promise()},{get:function(t,e){return n("get",t,e)},post:function(t,e){return n("post",t,e)},put:function(t,e){return n("put",t,e)},del:function(t,e){return n("delete",t,e)}}}},{}],3:[function(t,e,n){"use strict";var i,r,a,o,s,c;o=t("../config"),r=t("../tools/url"),i=t("../tools/location_operations"),s=t("../tools/cookies"),c=t("../tools/lstorage"),a=t("../tools/cache"),e.exports=function(t,e,n,l){var u,h;return r=r(e),u=i(e),h=c.active()&&c||s,s.init(o,e),a.init(h,o),{initialize:function(t,e){var n;if(o.key=t,e)for(n in e)o.options[n]=e[n]},setOAuthdURL:function(t){o.oauthd_url=t,o.oauthd_base=r.getAbsUrl(o.oauthd_url).match(/^.{2,5}:\/\/[^\/]+/)[0]},getOAuthdURL:function(){return o.oauthd_url},getVersion:function(){return o.version},extend:function(t,e){return this[t]=e(this)},getConfig:function(){return o},getWindow:function(){return t},getDocument:function(){return e},getNavigator:function(){return l},getJquery:function(){return n},getUrl:function(){return r},getCache:function(){return a},getStorage:function(){return h},getLocationOperations:function(){return u}}}},{"../config":1,"../tools/cache":9,"../tools/cookies":10,"../tools/location_operations":12,"../tools/lstorage":13,"../tools/url":15}],4:[function(t,e,n){"use strict";var i,r,a;i=t("../tools/cookies"),r=t("./request"),a=t("../tools/sha1"),e.exports=function(e){var n,o,s,c,l,u,h,d,f,p,g,m;return o=e.getUrl(),l=e.getConfig(),u=e.getDocument(),m=e.getWindow(),n=e.getJquery(),s=e.getCache(),g=t("./providers")(e),l.oauthd_base=o.getAbsUrl(l.oauthd_url).match(/^.{2,5}:\/\/[^\/]+/)[0],c=[],f=void 0,function(){var t,e;(e=/[\\#&]oauthio=([^&]*)/.exec(u.location.hash))&&(u.location.hash=u.location.hash.replace(/&?oauthio=[^&]*/,""),f=decodeURIComponent(e[1].replace(/\+/g," ")),(t=i.read("oauthio_state"))&&(c.push(t),i.erase("oauthio_state")))}(),h=e.getLocationOperations(),p={request:r(e,c,g)},d={initialize:function(t,n){return e.initialize(t,n)},setOAuthdURL:function(t){l.oauthd_url=t,l.oauthd_base=o.getAbsUrl(l.oauthd_url).match(/^.{2,5}:\/\/[^\/]+/)[0]},create:function(t,e,n){var i,r,a;if(!e)return s.tryCache(d,t,!0);for(i in"object"!=typeof n&&g.fetchDescription(t),r=function(i){return p.request.mkHttp(t,e,n,i)},a={},e)a[i]=e[i];return a.toJson=function(){var t;return t={},null!=a.access_token&&(t.access_token=a.access_token),null!=a.oauth_token&&(t.oauth_token=a.oauth_token),null!=a.oauth_token_secret&&(t.oauth_token_secret=a.oauth_token_secret),null!=a.expires_in&&(t.expires_in=a.expires_in),null!=a.token_type&&(t.token_type=a.token_type),null!=a.id_token&&(t.id_token=a.id_token),null!=a.provider&&(t.provider=a.provider),null!=a.email&&(t.email=a.email),t},a.get=r("GET"),a.post=r("POST"),a.put=r("PUT"),a.patch=r("PATCH"),a.del=r("DELETE"),a.me=p.request.mkHttpMe(t,e,n,"GET"),a},popup:function(t,e,i){var r,h,f,g,v,y,b,w,_,x,k;return g=!1,f=function(t){if(!g){if(t.origin!==l.oauthd_base)return;try{w.close()}catch(t){}return e.data=t.data,p.request.sendCallback(e,r),g=!0}},w=void 0,h=void 0,_=void 0,r=n.Deferred(),e=e||{},l.key?(2===arguments.length&&"function"==typeof e&&(i=e,e={}),s.cacheEnabled(e.cache)&&(y=s.tryCache(d,t,e.cache))?(null!=r&&r.resolve(y),i?i(null,y):r.promise()):(e.state||(e.state=a.create_hash(),e.state_type="client"),c.push(e.state),b=l.oauthd_url+"/auth/"+t+"?k="+l.key,b+="&d="+encodeURIComponent(o.getAbsUrl("/")),e&&(b+="&opts="+encodeURIComponent(JSON.stringify(e))),e.wnd_settings?(k=e.wnd_settings,delete e.wnd_settings):k={width:Math.floor(.8*m.outerWidth),height:Math.floor(.5*m.outerHeight)},k.width<1e3&&(k.width=1e3),k.height<630&&(k.height=630),k.left=Math.floor(m.screenX+(m.outerWidth-k.width)/2),k.top=Math.floor(m.screenY+(m.outerHeight-k.height)/8),x="width="+k.width+",height="+k.height,x+=",toolbar=0,scrollbars=1,status=1,resizable=1,location=1,menuBar=0",x+=",left="+k.left+",top="+k.top,(e={provider:t,cache:e.cache}).callback=function(t,n){return m.removeEventListener?m.removeEventListener("message",f,!1):m.detachEvent?m.detachEvent("onmessage",f):u.detachEvent&&u.detachEvent("onmessage",f),e.callback=function(){},_&&(clearTimeout(_),_=void 0),i?i(t,n):void 0},m.attachEvent?m.attachEvent("onmessage",f):u.attachEvent?u.attachEvent("onmessage",f):m.addEventListener&&m.addEventListener("message",f,!1),"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.onMessageExternal&&chrome.runtime.onMessageExternal.addListener((function(t,e,n){return t.origin=e.url.match(/^.{2,5}:\/\/[^\/]+/)[0],f(t)})),!h&&(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)&&((h=u.createElement("iframe")).src=l.oauthd_url+"/auth/iframe?d="+encodeURIComponent(o.getAbsUrl("/")),h.width=0,h.height=0,h.frameBorder=0,h.style.visibility="hidden",u.body.appendChild(h)),_=setTimeout((function(){null!=r&&r.reject(new Error("Authorization timed out")),e.callback&&"function"==typeof e.callback&&e.callback(new Error("Authorization timed out"));try{w.close()}catch(t){}}),12e5),(w=m.open(b,"Authorization",x))?(w.focus(),v=m.setInterval((function(){return null!==w&&!w.closed||(m.clearInterval(v),g||(null!=r&&r.reject(new Error("The popup was closed")),!e.callback||"function"!=typeof e.callback))?void 0:e.callback(new Error("The popup was closed"))}),500)):(null!=r&&r.reject(new Error("Could not open a popup")),e.callback&&"function"==typeof e.callback&&e.callback(new Error("Could not open a popup"))),null!=r?r.promise():void 0)):(null!=r&&r.reject(new Error("OAuth object must be initialized")),null==i?r.promise():i(new Error("OAuth object must be initialized")))},redirect:function(t,e,n){var r;if(2===arguments.length&&(n=e,e={}),"string"!=typeof n)throw new Error("You must specify an url");return s.cacheEnabled(e.cache)&&s.tryCache(d,t,e.cache)?(n=o.getAbsUrl(n)+(-1===n.indexOf("#")?"#":"&")+"oauthio=cache:"+t,h.changeHref(n),void h.reload()):(e.state||(e.state=a.create_hash(),e.state_type="client"),i.create("oauthio_state",e.state),r=encodeURIComponent(o.getAbsUrl(n)),n=l.oauthd_url+"/auth/"+t+"?k="+l.key,n+="&redirect_uri="+r,e&&(n+="&opts="+encodeURIComponent(JSON.stringify(e))),void h.changeHref(n))},isRedirect:function(t){var e,n;if(null==f)return!1;if("cache:"===(null!=f?f.substr(0,6):void 0))return e=null!=f?f.substr(6):void 0,t?e.toLowerCase()===t.toLowerCase():e;try{n=JSON.parse(f)}catch(t){return!1}return t?n.provider.toLowerCase()===t.toLowerCase():n.provider},callback:function(t,e,i){var r,a,o;if(r=n.Deferred(),1===arguments.length&&"function"==typeof t&&(i=t,t=void 0,e={}),1===arguments.length&&"string"==typeof t&&(e={}),2===arguments.length&&"function"==typeof e&&(i=e,e={}),s.cacheEnabled(null!=e?e.cache:void 0)||"cache:"===(null!=f?f.substr(0,6):void 0))if(t||"cache:"!==(null!=f?f.substr(0,6):void 0)||(t=f.substr(6)),o=s.tryCache(d,t,!0)){if(!i)return null!=r&&r.resolve(o),null!=r?r.promise():void 0;if(o)return i(null,o)}else if("cache:"===(null!=f?f.substr(0,6):void 0))return a=new Error("Could not fetch data from cache"),i?i(a):(null!=r&&r.reject(a),null!=r?r.promise():void 0);return f?(p.request.sendCallback({data:f,provider:t,cache:null!=e?e.cache:void 0,expires:null!=e?e.expires:void 0,callback:i},r),null!=r?r.promise():void 0):void 0},clearCache:function(t){return s.clearCache(t)},http_me:function(t){p.request.http_me&&p.request.http_me(t)},http:function(t){p.request.http&&p.request.http(t)},getVersion:function(){return e.getVersion.apply(this)}}}},{"../tools/cookies":10,"../tools/sha1":14,"./providers":5,"./request":6}],5:[function(t,e,n){"use strict";var i;i=t("../config"),e.exports=function(t){var e,n,r,a;return e=t.getJquery(),a={},r={},n={execProvidersCb:function(t,e,n){var i,a;if(r[t])for(a in i=r[t],delete r[t],i)i[a](e,n)},fetchDescription:function(t){a[t]||(a[t]=!0,e.ajax({url:i.oauthd_api+"/providers/"+t,data:{extend:!0},dataType:"json"}).done((function(e){a[t]=e.data,n.execProvidersCb(t,null,e.data)})).always((function(){"object"!=typeof a[t]&&(delete a[t],n.execProvidersCb(t,new Error("Unable to fetch request description")))})))},getDescription:function(t,e,i){return e=e||{},"object"==typeof a[t]?i(null,a[t]):(a[t]||n.fetchDescription(t),e.wait?(r[t]=r[t]||[],void r[t].push(i)):i(null,{}))}}}},{"../config":1}],6:[function(t,e,n){"use strict";var i,r=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};i=t("../tools/url")(),e.exports=function(t,e,n){var a,o,s,c,l;return a=t.getJquery(),s=t.getConfig(),o=t.getCache(),c=[],l=!1,{retrieveMethods:function(){var t;return t=a.Deferred(),l?t.resolve(c):a.ajax(s.oauthd_url+"/api/extended-endpoints").then((function(e){return c=e.data,l=!0,t.resolve()})).fail((function(e){return l=!0,t.reject(e)})),t.promise()},generateMethods:function(t,e,n){var i,r,a,o,s,l,u,h,d;if(null!=c){for(u=[],r=i=0,o=c.length;o>i;r=++i)h=c[r],s=h.name.split("."),l=t,u.push(function(){var t,i,r;for(r=[],a=t=0,i=s.length;i>t;a=++t)d=s[a],a<s.length-1?(null==l[d]&&(l[d]={}),r.push(l=l[d])):r.push(l[d]=this.mkHttpAll(n,e,h,arguments));return r}.apply(this,arguments));return u}},http:function(t){var e,o,c,l,u;for(l in c=function(){var t,e,n,o;if(!(o=u.oauthio.request||{}).cors){for(e in u.url=encodeURIComponent(u.url),"/"!==u.url[0]&&(u.url="/"+u.url),u.url=s.oauthd_url+"/request/"+u.oauthio.provider+u.url,u.headers=u.headers||{},u.headers.oauthio="k="+s.key,u.oauthio.tokens.oauth_token&&u.oauthio.tokens.oauth_token_secret&&(u.headers.oauthio+="&oauthv=1"),u.oauthio.tokens)u.headers.oauthio+="&"+encodeURIComponent(e)+"="+encodeURIComponent(u.oauthio.tokens[e]);return delete u.oauthio,a.ajax(u)}if(u.oauthio.tokens){if(u.oauthio.tokens.access_token&&(u.oauthio.tokens.token=u.oauthio.tokens.access_token),u.url.match(/^[a-z]{2,16}:\/\//)||("/"!==u.url[0]&&(u.url="/"+u.url),u.url=o.url+u.url),u.url=i.replaceParam(u.url,u.oauthio.tokens,o.parameters),o.query){for(t in n=[],o.query)n.push(encodeURIComponent(t)+"="+encodeURIComponent(i.replaceParam(o.query[t],u.oauthio.tokens,o.parameters)));r.call(u.url,"?")>=0?u.url+="&"+n:u.url+="?"+n}if(o.headers)for(t in u.headers=u.headers||{},o.headers)u.headers[t]=i.replaceParam(o.headers[t],u.oauthio.tokens,o.parameters);return delete u.oauthio,a.ajax(u)}},u={},l=void 0,t)u[l]=t[l];return u.oauthio.request&&!0!==u.oauthio.request?c():(o={wait:!!u.oauthio.request},e=a.Deferred(),n.getDescription(u.oauthio.provider,o,(function(t,n){return t?e.reject(t):(u.oauthio.tokens.oauth_token&&u.oauthio.tokens.oauth_token_secret?u.oauthio.request=n.oauth1&&n.oauth1.request:u.oauthio.request=n.oauth2&&n.oauth2.request,void e.resolve())})),e.then(c))},http_me:function(t){var e,i,r,o,c;for(o in r=function(){var t,e,n;for(e in t=a.Deferred(),c.oauthio.request,c.url=s.oauthd_url+"/auth/"+c.oauthio.provider+"/me",c.headers=c.headers||{},c.headers.oauthio="k="+s.key,c.oauthio.tokens.oauth_token&&c.oauthio.tokens.oauth_token_secret&&(c.headers.oauthio+="&oauthv=1"),c.oauthio.tokens)c.headers.oauthio+="&"+encodeURIComponent(e)+"="+encodeURIComponent(c.oauthio.tokens[e]);return delete c.oauthio,n=a.ajax(c),a.when(n).done((function(e){t.resolve(e.data)})).fail((function(e){e.responseJSON?t.reject(e.responseJSON.data):t.reject(new Error("An error occured while trying to access the resource"))})),t.promise()},c={},t)c[o]=t[o];return c.oauthio.request&&!0!==c.oauthio.request?r():(i={wait:!!c.oauthio.request},e=a.Deferred(),n.getDescription(c.oauthio.provider,i,(function(t,n){return t?e.reject(t):(c.oauthio.tokens.oauth_token&&c.oauthio.tokens.oauth_token_secret?c.oauthio.request=n.oauth1&&n.oauth1.request:c.oauthio.request=n.oauth2&&n.oauth2.request,void e.resolve())})),e.then(r))},http_all:function(t,e,n){return function(){var e,n,i;for(n in e=a.Deferred(),t.oauthio.request,t.headers=t.headers||{},t.headers.oauthio="k="+s.key,t.oauthio.tokens.oauth_token&&t.oauthio.tokens.oauth_token_secret&&(t.headers.oauthio+="&oauthv=1"),t.oauthio.tokens)t.headers.oauthio+="&"+encodeURIComponent(n)+"="+encodeURIComponent(t.oauthio.tokens[n]);return delete t.oauthio,i=a.ajax(t),a.when(i).done((function(t){if("string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(e){t.data=t.data}finally{e.resolve(t.data)}})).fail((function(t){t.responseJSON?e.reject(t.responseJSON.data):e.reject(new Error("An error occured while trying to access the resource"))})),e.promise()}()},mkHttp:function(t,e,n,i){var r;return r=this,function(a,o){var s,c;if(c={},"string"==typeof a){if("object"==typeof o)for(s in o)c[s]=o[s];c.url=a}else if("object"==typeof a)for(s in a)c[s]=a[s];return c.type=c.type||i,c.oauthio={provider:t,tokens:e,request:n},r.http(c)}},mkHttpMe:function(t,e,n,i){var r;return r=this,function(a){var o;return(o={}).type=o.type||i,o.oauthio={provider:t,tokens:e,request:n},o.data=o.data||{},a&&(o.data.filter=a.join(",")),r.http_me(o)}},mkHttpAll:function(t,e,n){var i;return i=this,function(){var r,a,o,c;for(r in(a={}).type=n.method,a.url=s.oauthd_url+n.endpoint.replace(":provider",t),a.oauthio={provider:t,tokens:e},a.data={},arguments)c=arguments[r],null!=(o=n.params[r])&&(a.data[o.name]=c);return a.data=a.data||{},i.http_all(a,n,arguments)}},sendCallback:function(t,n){var i,r,a,s,c,l,u,h;i=this,r=void 0,a=void 0;try{r=JSON.parse(t.data)}catch(e){return n.reject(new Error("Error while parsing result")),t.callback(new Error("Error while parsing result"))}if(r&&r.provider){if(t.provider&&r.provider.toLowerCase()!==t.provider.toLowerCase())return a=new Error("Returned provider name does not match asked provider"),n.reject(a),t.callback&&"function"==typeof t.callback?t.callback(a):void 0;if("error"===r.status||"fail"===r.status)return(a=new Error(r.message)).body=r.data,n.reject(a),t.callback&&"function"==typeof t.callback?t.callback(a):void 0;if("success"!==r.status||!r.data)return(a=new Error).body=r.data,n.reject(a),t.callback&&"function"==typeof t.callback?t.callback(a):void 0;for(r.state=r.state.replace(/\s+/g,""),s=0;s<e.length;)e[s]=e[s].replace(/\s+/g,""),s++;if(!r.state||-1===e.indexOf(r.state))return n.reject(new Error("State is not matching")),t.callback&&"function"==typeof t.callback?t.callback(new Error("State is not matching")):void 0;if(t.provider||(r.data.provider=r.provider),(u=r.data).provider=r.provider.toLowerCase(),o.cacheEnabled(t.cache)&&u&&(t.expires&&!u.expires_in&&(u.expires_in=t.expires),o.storeCache(r.provider,u)),l=u.request,delete u.request,h=void 0,u.access_token?h={access_token:u.access_token}:u.oauth_token&&u.oauth_token_secret&&(h={oauth_token:u.oauth_token,oauth_token_secret:u.oauth_token_secret}),!l)return n.resolve(u),t.callback&&"function"==typeof t.callback?t.callback(null,u):void 0;if(l.required)for(s in l.required)h[l.required[s]]=u[l.required[s]];return c=function(t){return i.mkHttp(r.provider,h,l,t)},u.toJson=function(){var t;return t={},null!=u.access_token&&(t.access_token=u.access_token),null!=u.oauth_token&&(t.oauth_token=u.oauth_token),null!=u.oauth_token_secret&&(t.oauth_token_secret=u.oauth_token_secret),null!=u.expires_in&&(t.expires_in=u.expires_in),null!=u.token_type&&(t.token_type=u.token_type),null!=u.id_token&&(t.id_token=u.id_token),null!=u.provider&&(t.provider=u.provider),null!=u.email&&(t.email=u.email),t},u.get=c("GET"),u.post=c("POST"),u.put=c("PUT"),u.patch=c("PATCH"),u.del=c("DELETE"),u.me=i.mkHttpMe(r.provider,h,l,"GET"),this.retrieveMethods().then(function(e){return function(){return e.generateMethods(u,h,r.provider),n.resolve(u),t.callback&&"function"==typeof t.callback?t.callback(null,u):void 0}}(this)).fail((function(e){return console.log("Could not retrieve methods",e),n.resolve(u),t.callback&&"function"==typeof t.callback?t.callback(null,u):void 0}))}}}}},{"../tools/url":15}],7:[function(t,e,n){"use strict";e.exports=function(t){var e,n,i,r,a;return e=t.getJquery(),i=t.getConfig(),a=t.getStorage(),r=null,n=function(){function n(t){this.token=t.token,this.data=t.user,this.providers=t.providers,r=this.getEditableData()}return n.prototype.getEditableData=function(){var t,e;for(e in t=[],this.data)-1===["id","email"].indexOf(e)&&t.push({key:e,value:this.data[e]});return t},n.prototype.save=function(){var e,n,a,o,s,c,l,u;for(n={},a=0,c=r.length;c>a;a++)e=r[a],this.data[e.key]!==e.value&&(n[e.key]=this.data[e.key]),null===this.data[e.key]&&delete this.data[e.key];for(s=function(t){var e,n;for(e=0,n=r.length;n>e;e++)if(r[e].key===t)return!0;return!1},o=0,l=(u=this.getEditableData()).length;l>o;o++)s((e=u[o]).key)||(n[e.key]=this.data[e.key]);return this.saveLocal(),t.API.put("/api/usermanagement/user?k="+i.key+"&token="+this.token,n)},n.prototype.select=function(t){return null},n.prototype.saveLocal=function(){var t;return t={token:this.token,user:this.data,providers:this.providers},a.erase("oio_auth"),a.create("oio_auth",JSON.stringify(t),21600)},n.prototype.hasProvider=function(t){var e;return-1!==(null!=(e=this.providers)?e.indexOf(t):void 0)},n.prototype.getProviders=function(){var n;return n=e.Deferred(),t.API.get("/api/usermanagement/user/providers?k="+i.key+"&token="+this.token).done(function(t){return function(e){return t.providers=e.data,t.saveLocal(),n.resolve(t.providers)}}(this)).fail((function(t){return n.reject(t)})),n.promise()},n.prototype.addProvider=function(n){var r;return r=e.Deferred(),"function"==typeof n.toJson&&(n=n.toJson()),n.email=this.data.email,this.providers.push(n.provider),t.API.post("/api/usermanagement/user/providers?k="+i.key+"&token="+this.token,n).done(function(t){return function(e){return t.data=e.data,t.saveLocal(),r.resolve()}}(this)).fail(function(t){return function(e){return t.providers.splice(t.providers.indexOf(n.provider),1),r.reject(e)}}(this)),r.promise()},n.prototype.removeProvider=function(n){var r;return r=e.Deferred(),this.providers.splice(this.providers.indexOf(n),1),t.API.del("/api/usermanagement/user/providers/"+n+"?k="+i.key+"&token="+this.token).done(function(t){return function(e){return t.saveLocal(),r.resolve(e)}}(this)).fail(function(t){return function(e){return t.providers.push(n),r.reject(e)}}(this)),r.promise()},n.prototype.changePassword=function(e,n){return t.API.post("/api/usermanagement/user/password?k="+i.key+"&token="+this.token,{password:n})},n.prototype.isLoggued=function(){return t.User.isLogged()},n.prototype.isLogged=function(){return t.User.isLogged()},n.prototype.logout=function(){var n;return n=e.Deferred(),a.erase("oio_auth"),t.API.post("/api/usermanagement/user/logout?k="+i.key+"&token="+this.token).done((function(){return n.resolve()})).fail((function(t){return n.reject(t)})),n.promise()},n}(),{initialize:function(e,n){return t.initialize(e,n)},setOAuthdURL:function(e){return t.setOAuthdURL(e)},signup:function(r){var o;return o=e.Deferred(),"function"==typeof r.toJson&&(r=r.toJson()),t.API.post("/api/usermanagement/signup?k="+i.key,r).done((function(t){return a.create("oio_auth",JSON.stringify(t.data),t.data.expires_in||21600),o.resolve(new n(t.data))})).fail((function(t){return o.reject(t)})),o.promise()},signin:function(r,o){var s,c;return s=e.Deferred(),"string"==typeof r||o?t.API.post("/api/usermanagement/signin?k="+i.key,{email:r,password:o}).done((function(t){return a.create("oio_auth",JSON.stringify(t.data),t.data.expires_in||21600),s.resolve(new n(t.data))})).fail((function(t){return s.reject(t)})):("function"==typeof(c=r).toJson&&(c=c.toJson()),t.API.post("/api/usermanagement/signin?k="+i.key,c).done((function(t){return a.create("oio_auth",JSON.stringify(t.data),t.data.expires_in||21600),s.resolve(new n(t.data))})).fail((function(t){return s.reject(t)}))),s.promise()},confirmResetPassword:function(e,n){return t.API.post("/api/usermanagement/user/password?k="+i.key,{password:e,token:n})},resetPassword:function(e,n){return t.API.post("/api/usermanagement/user/password/reset?k="+i.key,{email:e})},refreshIdentity:function(){var r;return r=e.Deferred(),t.API.get("/api/usermanagement/user?k="+i.key+"&token="+JSON.parse(a.read("oio_auth")).token).done((function(t){return r.resolve(new n(t.data))})).fail((function(t){return r.reject(t)})),r.promise()},getIdentity:function(){var t;return(t=a.read("oio_auth"))?new n(JSON.parse(t)):null},isLogged:function(){return!!a.read("oio_auth")}}}},{}],8:[function(t,e,i){var r,a;a=t("./tools/jquery-lite.js"),(r=t("./lib/core")(window,document,a,navigator)).extend("OAuth",t("./lib/oauth")),r.extend("API",t("./lib/api")),r.extend("User",t("./lib/user")),null!=n&&n.module("oauthio",[]).factory("Materia",[function(){return r}]).factory("OAuth",[function(){return r.OAuth}]).factory("User",[function(){return r.User}]),window.Materia=i.Materia=r,window.User=i.User=i.Materia.User,window.OAuth=i.OAuth=i.Materia.OAuth,(null!=e?e.exports:void 0)&&(e.exports=i)},{"./lib/api":2,"./lib/core":3,"./lib/oauth":4,"./lib/user":7,"./tools/jquery-lite.js":11}],9:[function(t,e,n){"use strict";e.exports={init:function(t,e){return this.config=e,this.storage=t},tryCache:function(t,e,n){var i,r;if(this.cacheEnabled(n)){if(!(n=this.storage.read("oauthio_provider_"+e)))return!1;n=decodeURIComponent(n)}if("string"==typeof n)try{n=JSON.parse(n)}catch(t){return!1}if("object"==typeof n){for(i in r={},n)"request"!==i&&"function"!=typeof n[i]&&(r[i]=n[i]);return t.create(e,r,n.request)}return!1},storeCache:function(t,e){var n;n=3600,e.expires_in?n=e.expires_in:(this.config.options.expires||!1===this.config.options.expires)&&(n=this.config.options.expires),this.storage.create("oauthio_provider_"+t,encodeURIComponent(JSON.stringify(e)),n)},cacheEnabled:function(t){return void 0===t?this.config.options.cache:t},clearCache:function(t){t?this.storage.erase("oauthio_provider_"+t):this.storage.eraseFrom("oauthio_provider_")}}},{}],10:[function(t,e,n){"use strict";e.exports={init:function(t,e){return this.config=t,this.document=e},create:function(t,e,n){var i;this.erase(t),i=new Date,n?i.setTime(i.getTime()+1e3*(n||1200)):i.setFullYear(i.getFullYear()+3),n="; expires="+i.toGMTString(),this.document.cookie=t+"="+e+n+"; path=/"},read:function(t){var e,n,i,r;for(r=t+"=",n=this.document.cookie.split(";"),i=0;i<n.length;){for(e=n[i];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(r))return e.substring(r.length,e.length);i++}return null},erase:function(t){var e;(e=new Date).setTime(e.getTime()-864e5),this.document.cookie=t+"=; expires="+e.toGMTString()+"; path=/"},eraseFrom:function(t){var e,n,i,r;for(i=0,r=(n=this.document.cookie.split(";")).length;r>i;i++)(e=n[i].split("=")[0].trim()).substr(0,t.length)===t&&this.erase(e)}}},{}],11:[function(t,e,n){!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(t)}("undefined"!=typeof window?window:this,(function(t,e){function n(t){var e=t.length,n=S.type(t);return"function"!==n&&!S.isWindow(t)&&(!(1!==t.nodeType||!e)||"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(){x.removeEventListener("DOMContentLoaded",i,!1),t.removeEventListener("load",i,!1),S.ready()}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=S.expando+Math.random()}function a(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(F,"-$1").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:R.test(n)?S.parseJSON(n):n)}catch(t){}data_user.set(t,e,n)}else n=void 0;return n}function o(){return!0}function s(){return!1}function c(){try{return x.activeElement}catch(t){}}function l(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(I)||[];if(S.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function u(t,e,n,i){function r(s){var c;return a[s]=!0,S.each(t[s]||[],(function(t,s){var l=s(e,n,i);return"string"!=typeof l||o||a[l]?o?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}var a={},o=t===et;return r(e.dataTypes[0])||!a["*"]&&r("*")}function h(t,e){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&S.extend(!0,t,i),t}function d(t,e,n,i){var r;if(S.isArray(e))S.each(e,(function(e,r){n||rt.test(t)?i(t,r):d(t+"["+("object"==typeof r?e:"")+"]",r,n,i)}));else if(n||"object"!==S.type(e))i(t,e);else for(r in e)d(t+"["+r+"]",e[r],n,i)}var f=[],p=f.slice,g=f.concat,m=f.push,v=f.indexOf,y={},b=y.toString,w=y.hasOwnProperty,_={},x=t.document,k="2.1.1 -attributes,-attributes/attr,-attributes/classes,-attributes/prop,-attributes/support,-attributes/val,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var,-css/var/cssExpand,-css/var/getStyles,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-css,-effects,-effects/Tween,-effects/animatedSelector,-dimensions,-offset,-data/var/data_user,-deprecated,-event/alias,-event/support,-intro,-manipulation/_evalUrl,-manipulation/support,-manipulation/var,-manipulation/var/rcheckableType,-manipulation,-outro,-queue,-queue/delay,-selector-native,-selector-sizzle,-sizzle/dist,-sizzle/dist/sizzle,-sizzle/dist/min,-sizzle/test,-sizzle/test/jquery,-traversing,-traversing/findFilter,-traversing/var/rneedsContext,-traversing/var,-wrap,-exports,-exports/amd",S=function(t,e){return new S.fn.init(t,e)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,T=/^-ms-/,P=/-([\da-z])/gi,A=function(t,e){return e.toUpperCase()};S.fn=S.prototype={jquery:k,constructor:S,selector:"",length:0,toArray:function(){return p.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:p.call(this)},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return S.each(this,t,e)},map:function(t){return this.pushStack(S.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:m,sort:f.sort,splice:f.splice},S.extend=S.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||S.isFunction(o)||(o={}),s===c&&(o=this,s--);c>s;s++)if(null!=(t=arguments[s]))for(e in t)n=o[e],o!==(i=t[e])&&(l&&i&&(S.isPlainObject(i)||(r=S.isArray(i)))?(r?(r=!1,a=n&&S.isArray(n)?n:[]):a=n&&S.isPlainObject(n)?n:{},o[e]=S.extend(l,a,i)):void 0!==i&&(o[e]=i));return o},S.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===S.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!S.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return!("object"!==S.type(t)||t.nodeType||S.isWindow(t)||t.constructor&&!w.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?y[b.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=S.trim(t))&&(1===t.indexOf("use strict")?((e=x.createElement("script")).text=t,x.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(T,"ms-").replace(P,A)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r=0,a=t.length,o=n(t);if(i){if(o)for(;a>r&&!1!==e.apply(t[r],i);r++);else for(r in t)if(!1===e.apply(t[r],i))break}else if(o)for(;a>r&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(C,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?S.merge(i,"string"==typeof t?[t]:t):m.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:v.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;a>r;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,i){var r,a=0,o=t.length,s=[];if(n(t))for(;o>a;a++)null!=(r=e(t[a],a,i))&&s.push(r);else for(a in t)null!=(r=e(t[a],a,i))&&s.push(r);return g.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),S.isFunction(t)?(i=p.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(p.call(arguments)))}).guid=t.guid=t.guid||S.guid++,r):void 0},now:Date.now,support:_}),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){y["[object "+e+"]"]=e.toLowerCase()}));var D,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(S.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:L.exec(t))||!n[1]&&e)return!e||e.jquery?(e||D).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:x,!0)),E.test(n[1])&&S.isPlainObject(e))for(n in e)S.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=x.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=x,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):S.isFunction(t)?void 0!==D.ready?D.ready(t):t(S):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),S.makeArray(t,this))}).prototype=S.fn,D=S(x);var M,I=/\S+/g,O={};S.Callbacks=function(t){t="string"==typeof t?O[t]||function(t){var e=O[t]={};return S.each(t.match(I)||[],(function(t,n){e[n]=!0})),e}(t):S.extend({},t);var e,n,i,r,a,o,s=[],c=!t.once&&[],l=function(h){for(e=t.memory&&h,n=!0,o=r||0,r=0,a=s.length,i=!0;s&&a>o;o++)if(!1===s[o].apply(h[0],h[1])&&t.stopOnFalse){e=!1;break}i=!1,s&&(c?c.length&&l(c.shift()):e?s=[]:u.disable())},u={add:function(){if(s){var n=s.length;!function e(n){S.each(n,(function(n,i){var r=S.type(i);"function"===r?t.unique&&u.has(i)||s.push(i):i&&i.length&&"string"!==r&&e(i)}))}(arguments),i?a=s.length:e&&(r=n,l(e))}return this},remove:function(){return s&&S.each(arguments,(function(t,e){for(var n;(n=S.inArray(e,s,n))>-1;)s.splice(n,1),i&&(a>=n&&a--,o>=n&&o--)})),this},has:function(t){return t?S.inArray(t,s)>-1:!(!s||!s.length)},empty:function(){return s=[],a=0,this},disable:function(){return s=c=e=void 0,this},disabled:function(){return!s},lock:function(){return c=void 0,e||u.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!s||n&&!c||(e=[t,(e=e||[]).slice?e.slice():e],i?c.push(e):l(e)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},S.extend({Deferred:function(t){var e=[["resolve","done",S.Callbacks("once memory"),"resolved"],["reject","fail",S.Callbacks("once memory"),"rejected"],["notify","progress",S.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return S.Deferred((function(n){S.each(e,(function(e,a){var o=S.isFunction(t[e])&&t[e];r[a[1]]((function(){var t=o&&o.apply(this,arguments);t&&S.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,o?[t]:arguments)}))})),t=null})).promise()},promise:function(t){return null!=t?S.extend(t,i):i}},r={};return i.pipe=i.then,S.each(e,(function(t,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add((function(){n=s}),e[1^t][2].disable,e[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith})),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,a=p.call(arguments),o=a.length,s=1!==o||t&&S.isFunction(t.promise)?o:0,c=1===s?t:S.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?p.call(arguments):r,i===e?c.notifyWith(n,i):--s||c.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)a[r]&&S.isFunction(a[r].promise)?a[r].promise().done(l(r,i,a)).fail(c.reject).progress(l(r,n,e)):--s;return s||c.resolveWith(i,a),c.promise()}}),S.fn.ready=function(t){return S.ready.promise().done(t),this},S.extend({isReady:!1,readyWait:1,holdReady:function(t){t?S.readyWait++:S.ready(!0)},ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||(M.resolveWith(x,[S]),S.fn.triggerHandler&&(S(x).triggerHandler("ready"),S(x).off("ready"))))}}),S.ready.promise=function(e){return M||(M=S.Deferred(),"complete"===x.readyState?setTimeout(S.ready):(x.addEventListener("DOMContentLoaded",i,!1),t.addEventListener("load",i,!1))),M.promise(e)},S.ready.promise();var $=S.access=function(t,e,n,i,r,a,o){var s=0,c=t.length,l=null==n;if("object"===S.type(n))for(s in r=!0,n)S.access(t,e,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,S.isFunction(i)||(o=!0),l&&(o?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(S(t),n)})),e))for(;c>s;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):c?e(t[0],n):a};S.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},r.uid=1,r.accepts=S.acceptData,r.prototype={key:function(t){if(!r.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=r.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,S.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),a=this.cache[r];if("string"==typeof e)a[e]=n;else if(S.isEmptyObject(a))S.extend(this.cache[r],e);else for(i in e)a[i]=e[i];return a},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,S.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,a=this.key(t),o=this.cache[a];if(void 0===e)this.cache[a]={};else{S.isArray(e)?i=e.concat(e.map(S.camelCase)):(r=S.camelCase(e),i=e in o?[e,r]:(i=r)in o?[i]:i.match(I)||[]),n=i.length;for(;n--;)delete o[i[n]]}},hasData:function(t){return!S.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var j=new r,R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,F=/([A-Z])/g;S.extend({hasData:function(t){return data_user.hasData(t)||j.hasData(t)},data:function(t,e,n){return data_user.access(t,e,n)},removeData:function(t,e){data_user.remove(t,e)},_data:function(t,e,n){return j.access(t,e,n)},_removeData:function(t,e){j.remove(t,e)}}),S.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=data_user.get(o),1===o.nodeType&&!j.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=S.camelCase(i.slice(5)),a(o,i,r[i]));j.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){data_user.set(this,t)})):$(this,(function(e){var n,i=S.camelCase(t);if(o&&void 0===e){if(void 0!==(n=data_user.get(o,t)))return n;if(void 0!==(n=data_user.get(o,i)))return n;if(void 0!==(n=a(o,i,void 0)))return n}else this.each((function(){var n=data_user.get(this,i);data_user.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&data_user.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){data_user.remove(this,t)}))}});var N="undefined",V=/^key/,H=/^(?:mouse|pointer|contextmenu)|click/,z=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;S.event={global:{},add:function(t,e,n,i,r){var a,o,s,c,l,u,h,d,f,p,g,m=j.get(t);if(m)for(n.handler&&(n=(a=n).handler,r=a.selector),n.guid||(n.guid=S.guid++),(c=m.events)||(c=m.events={}),(o=m.handle)||(o=m.handle=function(e){return typeof S!==N&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(I)||[""]).length;l--;)f=g=(s=G.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),f&&(h=S.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=S.event.special[f]||{},u=S.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:p.join(".")},a),(d=c[f])||((d=c[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,o)||t.addEventListener&&t.addEventListener(f,o,!1)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),S.event.global[f]=!0)},remove:function(t,e,n,i,r){var a,o,s,c,l,u,h,d,f,p,g,m=j.hasData(t)&&j.get(t);if(m&&(c=m.events)){for(l=(e=(e||"").match(I)||[""]).length;l--;)if(f=g=(s=G.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),f){for(h=S.event.special[f]||{},d=c[f=(i?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)u=d[a],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(a,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||S.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)S.event.remove(t,f+e[l],n,i,!0);S.isEmptyObject(c)&&(delete m.handle,j.remove(t,"events"))}},trigger:function(e,n,i,r){var a,o,s,c,l,u,h,d=[i||x],f=w.call(e,"type")?e.type:e,p=w.call(e,"namespace")?e.namespace.split("."):[];if(o=s=i=i||x,3!==i.nodeType&&8!==i.nodeType&&!z.test(f+S.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,(e=e[S.expando]?e:new S.Event(f,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:S.makeArray(n,[e]),h=S.event.special[f]||{},r||!h.trigger||!1!==h.trigger.apply(i,n))){if(!r&&!h.noBubble&&!S.isWindow(i)){for(c=h.delegateType||f,z.test(c+f)||(o=o.parentNode);o;o=o.parentNode)d.push(o),s=o;s===(i.ownerDocument||x)&&d.push(s.defaultView||s.parentWindow||t)}for(a=0;(o=d[a++])&&!e.isPropagationStopped();)e.type=a>1?c:h.bindType||f,(u=(j.get(o,"events")||{})[e.type]&&j.get(o,"handle"))&&u.apply(o,n),(u=l&&o[l])&&u.apply&&S.acceptData(o)&&(e.result=u.apply(o,n),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),n)||!S.acceptData(i)||l&&S.isFunction(i[f])&&!S.isWindow(i)&&((s=i[l])&&(i[l]=null),S.event.triggered=f,i[f](),S.event.triggered=void 0,s&&(i[l]=s)),e.result}},dispatch:function(t){t=S.event.fix(t);var e,n,i,r,a,o=[],s=p.call(arguments),c=(j.get(this,"events")||{})[t.type]||[],l=S.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(o=S.event.handlers.call(this,t,c),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(a.namespace))&&(t.handleObj=a,t.data=a.data,void 0!==(i=((S.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,a,o=[],s=e.delegateCount,c=t.target;if(s&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(!0!==c.disabled||"click"!==t.type){for(i=[],n=0;s>n;n++)void 0===i[r=(a=e[n]).selector+" "]&&(i[r]=a.needsContext?S(r,this).index(c)>=0:S.find(r,this,null,[c]).length),i[r]&&i.push(a);i.length&&o.push({elem:c,handlers:i})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,a=e.button;return null==t.pageX&&null!=e.clientX&&(i=(n=t.target.ownerDocument||x).documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[S.expando])return t;var e,n,i,r=t.type,a=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=H.test(r)?this.mouseHooks:V.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,t=new S.Event(a),e=i.length;e--;)t[n=i[e]]=a[n];return t.target||(t.target=x),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&S.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return S.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=S.extend(new S.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?S.event.trigger(r,null,e):S.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},S.Event=function(t,e){return this instanceof S.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?o:s):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||S.now(),void(this[S.expando]=!0)):new S.Event(t,e)},S.Event.prototype={isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=o,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=o,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=o,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,a=t.handleObj;return(!r||r!==i&&!S.contains(i,r))&&(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}})),_.focusinBubbles||S.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){S.event.simulate(e,t.target,S.event.fix(t),!0)};S.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=j.access(i,e);r||i.addEventListener(t,n,!0),j.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=j.access(i,e)-1;r?j.access(i,e,r):(i.removeEventListener(t,n,!0),j.remove(i,e))}}})),S.fn.extend({on:function(t,e,n,i,r){var a,o;if("object"==typeof t){for(o in"string"!=typeof e&&(n=n||e,e=void 0),t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=s;else if(!i)return this;return 1===r&&(a=i,(i=function(t){return S().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),this.each((function(){S.event.add(this,t,i,n,e)}))},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,S(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=s),this.each((function(){S.event.remove(this,t,n,e)}))},trigger:function(t,e){return this.each((function(){S.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];return n?S.event.trigger(t,e,n,!0):void 0}});var B=S.now(),Y=/\?/;S.parseJSON=function(t){return JSON.parse(t+"")},S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&S.error("Invalid XML: "+t),e};var U,q,X=/#.*$/,W=/([?&])_=[^&]*/,J=/^(.*?):[ \t]*([^\r\n]*)$/gm,Z=/^(?:GET|HEAD)$/,K=/^\/\//,Q=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,tt={},et={},nt="*/".concat("*");try{q=location.href}catch(t){(q=x.createElement("a")).href="",q=q.href}U=Q.exec(q.toLowerCase())||[],S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:q,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(U[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":S.parseJSON,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?h(h(t,S.ajaxSettings),e):h(S.ajaxSettings,t)},ajaxPrefilter:l(tt),ajaxTransport:l(et),ajax:function(t,e){function n(t,e,n,o){var c,u,h,y,b,_=e;2!==w&&(w=2,s&&clearTimeout(s),i=void 0,a=o||"",x.readyState=t>0?4:0,c=t>=200&&300>t||304===t,n&&(y=function(t,e,n){for(var i,r,a,o,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)a=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){a=r;break}o||(o=r)}a=a||o}return a?(a!==c[0]&&c.unshift(a),n[a]):void 0}(d,x,n)),y=function(t,e,n,i){var r,a,o,s,c,l={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=a,a=u.shift())if("*"===a)a=c;else if("*"!==c&&c!==a){if(!(o=l[c+" "+a]||l["* "+a]))for(r in l)if((s=r.split(" "))[1]===a&&(o=l[c+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[r]:!0!==l[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+c+" to "+a}}}return{state:"success",data:e}}(d,y,x,c),c?(d.ifModified&&((b=x.getResponseHeader("Last-Modified"))&&(S.lastModified[r]=b),(b=x.getResponseHeader("etag"))&&(S.etag[r]=b)),204===t||"HEAD"===d.type?_="nocontent":304===t?_="notmodified":(_=y.state,u=y.data,c=!(h=y.error))):(h=_,(t||!_)&&(_="error",0>t&&(t=0))),x.status=t,x.statusText=(e||_)+"",c?g.resolveWith(f,[u,_,x]):g.rejectWith(f,[x,_,h]),x.statusCode(v),v=void 0,l&&p.trigger(c?"ajaxSuccess":"ajaxError",[x,d,c?u:h]),m.fireWith(f,[x,_]),l&&(p.trigger("ajaxComplete",[x,d]),--S.active||S.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,a,o,s,c,l,h,d=S.ajaxSetup({},e),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?S(f):S.event,g=S.Deferred(),m=S.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!o)for(o={};e=J.exec(a);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||_;return i&&i.abort(e),n(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||q)+"").replace(X,"").replace(K,U[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=S.trim(d.dataType||"*").toLowerCase().match(I)||[""],null==d.crossDomain&&(c=Q.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===U[1]&&c[2]===U[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(U[3]||("http:"===U[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=S.param(d.data,d.traditional)),u(tt,d,e,x),2===w)return x;for(h in(l=d.global)&&0==S.active++&&S.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Z.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(Y.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=W.test(r)?r.replace(W,"$1_="+B++):r+(Y.test(r)?"&":"?")+"_="+B++)),d.ifModified&&(S.lastModified[r]&&x.setRequestHeader("If-Modified-Since",S.lastModified[r]),S.etag[r]&&x.setRequestHeader("If-None-Match",S.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+nt+"; q=0.01":""):d.accepts["*"]),d.headers)x.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(f,x,d)||2===w))return x.abort();for(h in _="abort",{success:1,error:1,complete:1})x[h](d[h]);if(i=u(et,d,e,x)){x.readyState=1,l&&p.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(s=setTimeout((function(){x.abort("timeout")}),d.timeout));try{w=1,i.send(y,n)}catch(t){if(!(2>w))throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],(function(t,e){S[e]=function(t,n,i,r){return S.isFunction(n)&&(r=r||i,i=n,n=void 0),S.ajax({url:t,type:e,dataType:r,data:n,success:i})}})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){S.fn[e]=function(t){return this.on(e,t)}}));var it=/%20/g,rt=/\[\]$/,at=/\r?\n/g,ot=/^(?:submit|button|image|reset|file)$/i,st=/^(?:input|select|textarea|keygen)/i;S.param=function(t,e){var n,i=[],r=function(t,e){e=S.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=S.ajaxSettings&&S.ajaxSettings.traditional),S.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,(function(){r(this.name,this.value)}));else for(n in t)d(n,t[n],e,r);return i.join("&").replace(it,"+")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&st.test(this.nodeName)&&!ot.test(t)&&(this.checked||!rcheckableType.test(t))})).map((function(t,e){var n=S(this).val();return null==n?null:S.isArray(n)?S.map(n,(function(t){return{name:e.name,value:t.replace(at,"\r\n")}})):{name:e.name,value:n.replace(at,"\r\n")}})).get()}}),S.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var ct=0,lt={},ut={0:200,1223:204},ht=S.ajaxSettings.xhr();t.ActiveXObject&&S(t).on("unload",(function(){for(var t in lt)lt[t]()})),_.cors=!!ht&&"withCredentials"in ht,_.ajax=ht=!!ht,S.ajaxTransport((function(t){var e;return _.cors||ht&&!t.crossDomain?{send:function(n,i){var r,a=t.xhr(),o=++ct;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];for(r in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete lt[o],e=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?i(a.status,a.statusText):i(ut[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=e(),a.onerror=e("error"),e=lt[o]=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}:void 0})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),S.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=S("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),x.head.appendChild(e[0])},abort:function(){n&&n()}}}));var dt=[],ft=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=dt.pop()||S.expando+"_"+B++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",(function(e,n,i){var r,a,o,s=!1!==e.jsonp&&(ft.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ft.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=S.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ft,"$1"+r):!1!==e.jsonp&&(e.url+=(Y.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",a=t[r],t[r]=function(){o=arguments},i.always((function(){t[r]=a,e[r]&&(e.jsonpCallback=n.jsonpCallback,dt.push(r)),o&&S.isFunction(a)&&a(o[0]),o=a=void 0})),"script"):void 0})),S.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||x;var i=E.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=S.buildFragment([t],e,r),r&&r.length&&S(r).remove(),S.merge([],i.childNodes))};var pt=S.fn.load;return S.fn.load=function(t,e,n){if("string"!=typeof t&&pt)return pt.apply(this,arguments);var i,r,a,o=this,s=t.indexOf(" ");return s>=0&&(i=S.trim(t.slice(s)),t=t.slice(0,s)),S.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&S.ajax({url:t,type:r,dataType:"html",data:e}).done((function(t){a=arguments,o.html(i?S("<div>").append(S.parseHTML(t)).find(i):t)})).complete(n&&function(t,e){o.each(n,a||[t.responseText,e,t])}),this},S.noConflict=function(){},S}))},{}],12:[function(t,e,n){"use strict";e.exports=function(t){return{reload:function(){return t.location.reload()},getHash:function(){return t.location.hash},setHash:function(e){return t.location.hash=e},changeHref:function(e){return t.location.href=e}}}},{}],13:[function(t,e,n){"use strict";var i;i=function(t){var e;return t(e=(e=localStorage.getItem("oauthio_cache"))?JSON.parse(e):{},(function(){return localStorage.setItem("oauthio_cache",JSON.stringify(e))}))},e.exports={init:function(t,e){return this.config=t,this.document=e},active:function(){return"undefined"!=typeof localStorage&&null!==localStorage},create:function(t,e,n){var r;this.erase(t),r=new Date,localStorage.setItem(t,e),i((function(e,i){return e[t]=!!n&&r.getTime()+1e3*(n||1200),i()}))},read:function(t){return i((function(e,n){return null==e[t]?null:!1===e[t]?localStorage.getItem(t):(new Date).getTime()>e[t]?(localStorage.removeItem(t),delete e[t],n(),null):localStorage.getItem(t)}))},erase:function(t){return i((function(e,n){return localStorage.removeItem(t),delete e[t],n()}))},eraseFrom:function(t){i((function(e,n){var i,r,a,o;for(r=0,a=(i=Object.keys(e)).length;a>r;r++)(o=i[r]).substr(0,t.length)===t&&(localStorage.removeItem(o),delete e[o]);return n()}))}}},{}],14:[function(t,e,n){var i,r;r=0,i="",e.exports={hex_sha1:function(t){return this.rstr2hex(this.rstr_sha1(this.str2rstr_utf8(t)))},b64_sha1:function(t){return this.rstr2b64(this.rstr_sha1(this.str2rstr_utf8(t)))},any_sha1:function(t,e){return this.rstr2any(this.rstr_sha1(this.str2rstr_utf8(t)),e)},hex_hmac_sha1:function(t,e){return this.rstr2hex(this.rstr_hmac_sha1(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},b64_hmac_sha1:function(t,e){return this.rstr2b64(this.rstr_hmac_sha1(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},any_hmac_sha1:function(t,e,n){return this.rstr2any(this.rstr_hmac_sha1(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),n)},sha1_vm_test:function(){return"a9993e364706816aba3e25717850c26c9cd0d89d"===thishex_sha1("abc").toLowerCase()},rstr_sha1:function(t){return this.binb2rstr(this.binb_sha1(this.rstr2binb(t),8*t.length))},rstr_hmac_sha1:function(t,e){var n,i,r,a,o;for((n=this.rstr2binb(t)).length>16&&(n=this.binb_sha1(n,8*t.length)),a=Array(16),o=Array(16),r=0;16>r;)a[r]=909522486^n[r],o[r]=1549556828^n[r],r++;return i=this.binb_sha1(a.concat(this.rstr2binb(e)),512+8*e.length),this.binb2rstr(this.binb_sha1(o.concat(i),672))},rstr2hex:function(t){var e,n,i,a;for(e=r?"0123456789ABCDEF":"0123456789abcdef",i="",a=void 0,n=0;n<t.length;)a=t.charCodeAt(n),i+=e.charAt(a>>>4&15)+e.charAt(15&a),n++;return i},rstr2b64:function(t){var e,n,r,a,o;for(a="",r=t.length,e=0;r>e;){for(o=t.charCodeAt(e)<<16|(r>e+1?t.charCodeAt(e+1)<<8:0)|(r>e+2?t.charCodeAt(e+2):0),n=0;4>n;)a+=8*e+6*n>8*t.length?i:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-n)&63),n++;e+=3}return a},rstr2any:function(t,e){var n,i,r,a,o,s,c,l,u;for(i=e.length,l=Array(),a=void 0,s=void 0,u=void 0,c=void 0,n=Array(Math.ceil(t.length/2)),a=0;a<n.length;)n[a]=t.charCodeAt(2*a)<<8|t.charCodeAt(2*a+1),a++;for(;n.length>0;){for(c=Array(),u=0,a=0;a<n.length;)u=(u<<16)+n[a],u-=(s=Math.floor(u/i))*i,(c.length>0||s>0)&&(c[c.length]=s),a++;l[l.length]=u,n=c}for(o="",a=l.length-1;a>=0;)o+=e.charAt(l[a]),a--;for(r=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),a=o.length;r>a;)o=e[0]+o,a++;return o},str2rstr_utf8:function(t){var e,n,i,r;for(n="",e=-1,i=void 0,r=void 0;++e<t.length;)i=t.charCodeAt(e),r=e+1<t.length?t.charCodeAt(e+1):0,i>=55296&&56319>=i&&r>=56320&&57343>=r&&(i=65536+((1023&i)<<10)+(1023&r),e++),127>=i?n+=String.fromCharCode(i):2047>=i?n+=String.fromCharCode(192|i>>>6&31,128|63&i):65535>=i?n+=String.fromCharCode(224|i>>>12&15,128|i>>>6&63,128|63&i):2097151>=i&&(n+=String.fromCharCode(240|i>>>18&7,128|i>>>12&63,128|i>>>6&63,128|63&i));return n},str2rstr_utf16le:function(t){var e,n;for(n="",e=0;e<t.length;)n+=String.fromCharCode(255&t.charCodeAt(e),t.charCodeAt(e)>>>8&255),e++;return n},str2rstr_utf16be:function(t){var e,n;for(n="",e=0;e<t.length;)n+=String.fromCharCode(t.charCodeAt(e)>>>8&255,255&t.charCodeAt(e)),e++;return n},rstr2binb:function(t){var e,n;for(n=Array(t.length>>2),e=0;e<n.length;)n[e]=0,e++;for(e=0;e<8*t.length;)n[e>>5]|=(255&t.charCodeAt(e/8))<<24-e%32,e+=8;return n},binb2rstr:function(t){var e,n;for(n="",e=0;e<32*t.length;)n+=String.fromCharCode(t[e>>5]>>>24-e%32&255),e+=8;return n},binb_sha1:function(t,e){var n,i,r,a,o,s,c,l,u,h,d,f,p,g;for(t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e,g=Array(80),n=1732584193,i=-271733879,r=-1732584194,a=271733878,o=-1009589776,s=0;s<t.length;){for(l=n,u=i,h=r,d=a,f=o,c=0;80>c;)g[c]=16>c?t[s+c]:this.bit_rol(g[c-3]^g[c-8]^g[c-14]^g[c-16],1),p=this.safe_add(this.safe_add(this.bit_rol(n,5),this.sha1_ft(c,i,r,a)),this.safe_add(this.safe_add(o,g[c]),this.sha1_kt(c))),o=a,a=r,r=this.bit_rol(i,30),i=n,n=p,c++;n=this.safe_add(n,l),i=this.safe_add(i,u),r=this.safe_add(r,h),a=this.safe_add(a,d),o=this.safe_add(o,f),s+=16}return Array(n,i,r,a,o)},sha1_ft:function(t,e,n,i){return 20>t?e&n|~e&i:40>t?e^n^i:60>t?e&n|e&i|n&i:e^n^i},sha1_kt:function(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514},safe_add:function(t,e){var n;return(t>>16)+(e>>16)+((n=(65535&t)+(65535&e))>>16)<<16|65535&n},bit_rol:function(t,e){return t<<e|t>>>32-e},create_hash:function(){return this.b64_sha1((new Date).getTime()+":"+Math.floor(9999999*Math.random())).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}}},{}],15:[function(t,e,n){e.exports=function(t){return{getAbsUrl:function(e){var n;return e.match(/^.{2,5}:\/\//)?e:"/"===e[0]?t.location.protocol+"//"+t.location.host+e:"/"!==(n=t.location.protocol+"//"+t.location.host+t.location.pathname)[n.length-1]&&"#"!==e[0]?n+"/"+e:n+e},replaceParam:function(t,e,n){return t=t.replace(/\{\{(.*?)\}\}/g,(function(t,n){return e[n]||""})),n&&(t=t.replace(/\{(.*?)\}/g,(function(t,e){return n[e]||""}))),t}}}},{}]},{},[8])(8)}).call(this,n(0))},187:function(t,e,n){(function(t){var e=window.angular;window.c3;e.module("mentio",[]).directive("mentio",["mentioUtil","$document","$compile","$log","$timeout",function(t,n,i,r,a){return{restrict:"A",scope:{macros:"=mentioMacros",search:"&mentioSearch",select:"&mentioSelect",items:"=mentioItems",typedTerm:"=mentioTypedTerm",altId:"=mentioId",iframeElement:"=mentioIframeElement",requireLeadingSpace:"=mentioRequireLeadingSpace",selectNotFound:"=mentioSelectNotFound",trimTerm:"=mentioTrimTerm",ngModel:"="},controller:["$scope","$timeout","$attrs",function(i,r,a){i.query=function(t,e){var n=i.triggerCharMap[t];(void 0===i.trimTerm||i.trimTerm)&&(e=e.trim()),n.showMenu(),n.search({term:e}),n.typedTerm=e},i.defaultSearch=function(t){var n=[];e.forEach(i.items,(function(e){e.label.toUpperCase().indexOf(t.term.toUpperCase())>=0&&n.push(e)})),i.localItems=n},i.bridgeSearch=function(t){(a.mentioSearch?i.search:i.defaultSearch)({term:t})},i.defaultSelect=function(t){return i.defaultTriggerChar+t.item.label},i.bridgeSelect=function(t){return(a.mentioSelect?i.select:i.defaultSelect)({item:t})},i.setTriggerText=function(t){i.syncTriggerText&&(i.typedTerm=void 0===i.trimTerm||i.trimTerm?t.trim():t)},i.context=function(){if(i.iframeElement)return{iframe:i.iframeElement}},i.replaceText=function(n,a){if(i.hideAll(),t.replaceTriggerText(i.context(),i.targetElement,i.targetElementPath,i.targetElementSelectedOffset,i.triggerCharSet,n,i.requireLeadingSpace,a),!a&&(i.setTriggerText(""),e.element(i.targetElement).triggerHandler("change"),i.isContentEditable())){i.contentEditableMenuPasted=!0;var o=r((function(){i.contentEditableMenuPasted=!1}),200);i.$on("$destroy",(function(){r.cancel(o)}))}},i.hideAll=function(){for(var t in i.triggerCharMap)i.triggerCharMap.hasOwnProperty(t)&&i.triggerCharMap[t].hideMenu()},i.getActiveMenuScope=function(){for(var t in i.triggerCharMap)if(i.triggerCharMap.hasOwnProperty(t)&&i.triggerCharMap[t].visible)return i.triggerCharMap[t];return null},i.selectActive=function(){for(var t in i.triggerCharMap)i.triggerCharMap.hasOwnProperty(t)&&i.triggerCharMap[t].visible&&i.triggerCharMap[t].selectActive()},i.isActive=function(){for(var t in i.triggerCharMap)if(i.triggerCharMap.hasOwnProperty(t)&&i.triggerCharMap[t].visible)return!0;return!1},i.isContentEditable=function(){return"INPUT"!==i.targetElement.nodeName&&"TEXTAREA"!==i.targetElement.nodeName},i.replaceMacro=function(n,a){a?t.replaceMacroText(i.context(),i.targetElement,i.targetElementPath,i.targetElementSelectedOffset,i.macros,i.macros[n]):(i.replacingMacro=!0,i.timer=r((function(){t.replaceMacroText(i.context(),i.targetElement,i.targetElementPath,i.targetElementSelectedOffset,i.macros,i.macros[n]),e.element(i.targetElement).triggerHandler("change"),i.replacingMacro=!1}),300),i.$on("$destroy",(function(){r.cancel(i.timer)})))},i.addMenu=function(t){t.parentScope&&i.triggerCharMap.hasOwnProperty(t.triggerChar)||(i.triggerCharMap[t.triggerChar]=t,void 0===i.triggerCharSet&&(i.triggerCharSet=[]),i.triggerCharSet.push(t.triggerChar),t.setParent(i))},i.$on("menuCreated",(function(t,e){void 0===a.id&&void 0===a.mentioId||(a.id===e.targetElement||void 0!==a.mentioId&&i.altId===e.targetElement)&&i.addMenu(e.scope)})),n.on("click",(function(){i.isActive()&&i.$apply((function(){i.hideAll()}))})),n.on("keydown keypress paste",(function(t){var e=i.getActiveMenuScope();e&&(9!==t.which&&13!==t.which||(t.preventDefault(),e.selectActive()),27===t.which&&(t.preventDefault(),e.$apply((function(){e.hideMenu()}))),40===t.which&&(t.preventDefault(),e.$apply((function(){e.activateNextItem()})),e.adjustScroll(1)),38===t.which&&(t.preventDefault(),e.$apply((function(){e.activatePreviousItem()})),e.adjustScroll(-1)),37!==t.which&&39!==t.which||t.preventDefault())}))}],link:function(e,n,o){if(e.triggerCharMap={},e.targetElement=n,o.$set("autocomplete","off"),o.mentioItems){e.localItems=[],e.parentScope=e;var s=o.mentioSearch?' mentio-items="items"':' mentio-items="localItems"';e.defaultTriggerChar=o.mentioTriggerChar?e.$eval(o.mentioTriggerChar):"@";var c='<mentio-menu mentio-search="bridgeSearch(term)" mentio-select="bridgeSelect(item)"'+s;o.mentioTemplateUrl&&(c=c+' mentio-template-url="'+o.mentioTemplateUrl+'"'),c=c+" mentio-trigger-char=\"'"+e.defaultTriggerChar+'\'" mentio-parent-scope="parentScope"/>';var l=i(c)(e);n.parent().append(l),e.$on("$destroy",(function(){l.remove()}))}function u(t){function n(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}var i=e.getActiveMenuScope();if(i){if(9===t.which||13===t.which)return n(t),i.selectActive(),!1;if(27===t.which)return n(t),i.$apply((function(){i.hideMenu()})),!1;if(40===t.which)return n(t),i.$apply((function(){i.activateNextItem()})),i.adjustScroll(1),!1;if(38===t.which)return n(t),i.$apply((function(){i.activatePreviousItem()})),i.adjustScroll(-1),!1;if(37===t.which||39===t.which)return n(t),!1}}o.mentioTypedTerm&&(e.syncTriggerText=!0),e.$watch("iframeElement",(function(t){if(t){var n=t.contentWindow.document;n.addEventListener("click",(function(){e.isActive()&&e.$apply((function(){e.hideAll()}))})),n.addEventListener("keydown",u,!0),e.$on("$destroy",(function(){n.removeEventListener("keydown",u)}))}})),e.$watch("ngModel",(function(n){if(n&&""!==n||e.isActive())if(void 0!==e.triggerCharSet)if(e.contentEditableMenuPasted)e.contentEditableMenuPasted=!1;else{e.replacingMacro&&(a.cancel(e.timer),e.replacingMacro=!1);var i=e.isActive(),o=e.isContentEditable(),s=t.getTriggerInfo(e.context(),e.triggerCharSet,e.requireLeadingSpace,i);if(void 0!==s&&(!i||i&&(o&&s.mentionTriggerChar===e.currentMentionTriggerChar||!o&&s.mentionPosition===e.currentMentionPosition)))s.mentionSelectedElement&&(e.targetElement=s.mentionSelectedElement,e.targetElementPath=s.mentionSelectedPath,e.targetElementSelectedOffset=s.mentionSelectedOffset),e.setTriggerText(s.mentionText),e.currentMentionPosition=s.mentionPosition,e.currentMentionTriggerChar=s.mentionTriggerChar,e.query(s.mentionTriggerChar,s.mentionText);else{var c=e.typedTerm;e.setTriggerText(""),e.hideAll();var l=t.getMacroMatch(e.context(),e.macros);if(void 0!==l)e.targetElement=l.macroSelectedElement,e.targetElementPath=l.macroSelectedPath,e.targetElementSelectedOffset=l.macroSelectedOffset,e.replaceMacro(l.macroText,l.macroHasTrailingSpace);else if(e.selectNotFound&&c&&""!==c){var u=e.triggerCharMap[e.currentMentionTriggerChar];if(u){var h=u.select({item:{label:c}});"function"==typeof h.then?h.then(e.replaceText):e.replaceText(h,!0)}}}}else r.error("Error, no mentio-items attribute was provided, and no separate mentio-menus were specified.  Nothing to do.")}))}}}]).directive("mentioMenu",["mentioUtil","$rootScope","$log","$window","$document",function(t,n,i,r,a){return{restrict:"E",scope:{search:"&mentioSearch",select:"&mentioSelect",items:"=mentioItems",triggerChar:"=mentioTriggerChar",forElem:"=mentioFor",parentScope:"=mentioParentScope"},templateUrl:function(t,e){return void 0!==e.mentioTemplateUrl?e.mentioTemplateUrl:"mentio-menu.tpl.html"},controller:["$scope",function(t){t.visible=!1,this.activate=t.activate=function(e){t.activeItem=e},this.isActive=t.isActive=function(e){return t.activeItem===e},this.selectItem=t.selectItem=function(e){var n=t.select({item:e});"function"==typeof n.then?n.then(t.parentMentio.replaceText):t.parentMentio.replaceText(n)},t.activateNextItem=function(){var e=t.items.indexOf(t.activeItem);this.activate(t.items[(e+1)%t.items.length])},t.activatePreviousItem=function(){var e=t.items.indexOf(t.activeItem);this.activate(t.items[0===e?t.items.length-1:e-1])},t.isFirstItemActive=function(){return 0===t.items.indexOf(t.activeItem)},t.isLastItemActive=function(){return t.items.indexOf(t.activeItem)===t.items.length-1},t.selectActive=function(){t.selectItem(t.activeItem)},t.isVisible=function(){return t.visible},t.showMenu=function(){t.visible||(t.requestVisiblePendingSearch=!0)},t.setParent=function(e){t.parentMentio=e,t.targetElement=e.targetElement}}],link:function(o,s){if(s[0].parentNode.removeChild(s[0]),a[0].body.appendChild(s[0]),o.menuElement=s,o.parentScope)o.parentScope.addMenu(o);else{if(!o.forElem)return void i.error("mentio-menu requires a target element in tbe mentio-for attribute");if(!o.triggerChar)return void i.error("mentio-menu requires a trigger char");n.$broadcast("menuCreated",{targetElement:o.forElem,scope:o})}e.element(r).bind("resize",(function(){if(o.isVisible()){var e=[];e.push(o.triggerChar),t.popUnderMention(o.parentMentio.context(),e,s,o.requireLeadingSpace)}})),o.$watch("items",(function(t){t&&t.length>0?(o.activate(t[0]),!o.visible&&o.requestVisiblePendingSearch&&(o.visible=!0,o.requestVisiblePendingSearch=!1)):o.hideMenu()})),o.$watch("isVisible()",(function(e){if(e){var n=[];n.push(o.triggerChar),t.popUnderMention(o.parentMentio.context(),n,s,o.requireLeadingSpace)}})),o.parentMentio.$on("$destroy",(function(){s.remove()})),o.hideMenu=function(){o.visible=!1,s.css("display","none")},o.adjustScroll=function(t){var e=s[0],n=e.querySelector("ul"),i=e.querySelector("[mentio-menu-item].active")||e.querySelector("[data-mentio-menu-item].active");return o.isFirstItemActive()?n.scrollTop=0:o.isLastItemActive()?n.scrollTop=n.scrollHeight:void(1===t?n.scrollTop+=i.offsetHeight:n.scrollTop-=i.offsetHeight)}}}}]).directive("mentioMenuItem",(function(){return{restrict:"A",scope:{item:"=mentioMenuItem"},require:"^mentioMenu",link:function(t,e,n,i){t.$watch((function(){return i.isActive(t.item)}),(function(t){t?e.addClass("active"):e.removeClass("active")})),e.bind("mouseenter",(function(){t.$apply((function(){i.activate(t.item)}))})),e.bind("click",(function(){return i.selectItem(t.item),!1}))}}})).filter("unsafe",["$sce",function(t){return function(e){return t.trustAsHtml(e)}}]).filter("mentioHighlight",(function(){return function(t,e,n){if(e){var i=n?'<span class="'+n+'">$&</span>':"<strong>$&</strong>";return(""+t).replace(new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),i)}return t}})),e.module("mentio").factory("mentioUtil",["$window","$location","$anchorScroll","$timeout",function(t,n,i,r){function a(e,n){for(var i,r=n[0];void 0===i||0===i.height;)if(0===(i=r.getBoundingClientRect()).height&&(void 0===(r=r.childNodes[0])||!r.getBoundingClientRect))return;var a=i.top,o=a+i.height;if(a<0)t.scrollTo(0,t.pageYOffset+i.top-20);else if(o>t.innerHeight){var s=t.pageYOffset+i.top-20;s-t.pageYOffset>100&&(s=t.pageYOffset+100);var c=t.pageYOffset-(t.innerHeight-o);c>s&&(c=s),t.scrollTo(0,c)}}function o(t){var e=g(t).activeElement;if(null!==e){var n=e.nodeName,i=e.getAttribute("type");return"INPUT"===n&&"text"===i||"TEXTAREA"===n}return!1}function s(t,e,n,i){var r,a=e;if(n)for(var o=0;o<n.length;o++){if(void 0===(a=a.childNodes[n[o]]))return;for(;a.length<i;)i-=a.length,a=a.nextSibling;0!==a.childNodes.length||a.length||(a=a.previousSibling)}var s=p(t);(r=g(t).createRange()).setStart(a,i),r.setEnd(a,i),r.collapse(!0);try{s.removeAllRanges()}catch(t){}s.addRange(r),e.focus()}function c(t,e,n,i){var r,a;a=p(t),(r=g(t).createRange()).setStart(a.anchorNode,n),r.setEnd(a.anchorNode,i),r.deleteContents();var o=g(t).createElement("div");o.innerHTML=e;for(var s,c,l=g(t).createDocumentFragment();s=o.firstChild;)c=l.appendChild(s);r.insertNode(l),c&&((r=r.cloneRange()).setStartAfter(c),r.collapse(!0),a.removeAllRanges(),a.addRange(r))}function l(t,e,n,i){var r=e.nodeName;"INPUT"===r||"TEXTAREA"===r?e!==g(t).activeElement&&e.focus():s(t,e,n,i)}function u(t,e){if(null===e.parentNode)return 0;for(var n=0;n<e.parentNode.childNodes.length;n++){if(e.parentNode.childNodes[n]===e)return n}}function h(t,n){var i,r,a=[];if(o(t))i=g(t).activeElement;else{var s=d(t);s&&(i=s.selected,a=s.path,r=s.offset)}var c=m(t);if(null!=c){var l,u=!1;if(c.length>0&&("Â "===c.charAt(c.length-1)||" "===c.charAt(c.length-1))&&(u=!0,c=c.substring(0,c.length-1)),e.forEach(n,(function(t,e){var n=c.toUpperCase().lastIndexOf(e.toUpperCase());if(n>=0&&e.length+n===c.length){var o=n-1;0!==n&&"Â "!==c.charAt(o)&&" "!==c.charAt(o)||(l={macroPosition:n,macroText:e,macroSelectedElement:i,macroSelectedPath:a,macroSelectedOffset:r,macroHasTrailingSpace:u})}})),l)return l}}function d(t){var e=p(t),n=e.anchorNode,i=[];if(null!=n){for(var r,a=n.contentEditable;null!==n&&"true"!==a;)r=u(0,n),i.push(r),null!==(n=n.parentNode)&&(a=n.contentEditable);return i.reverse(),{selected:n,path:i,offset:e.getRangeAt(0).startOffset}}}function f(t,e,n,i,r){var a,s,c;if(o(t))a=g(t).activeElement;else{var l=d(t);l&&(a=l.selected,s=l.path,c=l.offset)}var u=m(t);if(null!=u){var h,f=-1;if(e.forEach((function(t){var e=u.lastIndexOf(t);e>f&&(f=e,h=t)})),f>=0&&(0===f||!n||/[\xA0\s]/g.test(u.substring(f-1,f)))){var p=u.substring(f+1,u.length);h=u.substring(f,f+1);var v=p.substring(0,1),y=p.length>0&&(" "===v||"Â "===v);if(r&&(p=p.trim()),!y&&(i||!/[\xA0\s]/g.test(p)))return{mentionPosition:f,mentionText:p,mentionSelectedElement:a,mentionSelectedPath:s,mentionSelectedOffset:c,mentionTriggerChar:h}}}}function p(t){return t?t.iframe.contentWindow.getSelection():window.getSelection()}function g(t){return t?t.iframe.contentWindow.document:document}function m(t){var e;if(o(t)){var n=g(t).activeElement,i=n.selectionStart;e=n.value.substring(0,i)}else{var r=p(t).anchorNode;if(null!=r){var a=r.textContent,s=p(t).getRangeAt(0).startOffset;s>=0&&(e=a.substring(0,s))}}return e}function v(t,e){var n,i,r="sel_"+(new Date).getTime()+"_"+Math.random().toString().substr(2),a=p(t),o=a.getRangeAt(0);(i=g(t).createRange()).setStart(a.anchorNode,e),i.setEnd(a.anchorNode,e),i.collapse(!1),(n=g(t).createElement("span")).id=r,n.appendChild(g(t).createTextNode("\ufeff")),i.insertNode(n),a.removeAllRanges(),a.addRange(o);var s={left:0,top:n.offsetHeight};return y(t,n,s),n.parentNode.removeChild(n),s}function y(t,e,n){for(var i=e,r=t?t.iframe:null;i;)n.left+=i.offsetLeft+i.clientLeft,n.top+=i.offsetTop+i.clientTop,!(i=i.offsetParent)&&r&&(i=r,r=null);for(i=e,r=t?t.iframe:null;i!==g().body;)i.scrollTop&&i.scrollTop>0&&(n.top-=i.scrollTop),i.scrollLeft&&i.scrollLeft>0&&(n.left-=i.scrollLeft),!(i=i.parentNode)&&r&&(i=r,r=null)}function b(t,e,n){var i=null!==window.mozInnerScreenX,r=g(t).createElement("div");r.id="input-textarea-caret-position-mirror-div",g(t).body.appendChild(r);var a=r.style,o=window.getComputedStyle?getComputedStyle(e):e.currentStyle;a.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(a.wordWrap="break-word"),a.position="absolute",a.visibility="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"].forEach((function(t){a[t]=o[t]})),i?(a.width=parseInt(o.width)-2+"px",e.scrollHeight>parseInt(o.height)&&(a.overflowY="scroll")):a.overflow="hidden",r.textContent=e.value.substring(0,n),"INPUT"===e.nodeName&&(r.textContent=r.textContent.replace(/\s/g,"Â "));var s=g(t).createElement("span");s.textContent=e.value.substring(n)||".",r.appendChild(s);var c={top:s.offsetTop+parseInt(o.borderTopWidth)+parseInt(o.fontSize),left:s.offsetLeft+parseInt(o.borderLeftWidth)};return y(t,e,c),g(t).body.removeChild(r),c}return{popUnderMention:function(t,e,n,i){var s,c=f(t,e,i,!1);void 0!==c?(s=o(t)?b(t,g(t).activeElement,c.mentionPosition):v(t,c.mentionPosition),n.css({top:s.top+"px",left:s.left+"px",position:"absolute",zIndex:1e4,display:"block"}),r((function(){a(t,n)}),0)):n.css({display:"none"})},replaceMacroText:function(t,e,n,i,r,a){l(t,e,n,i);var s=h(t,r);if(s.macroHasTrailingSpace&&(s.macroText=s.macroText+"Â ",a+="Â "),void 0!==s){var u=g(t).activeElement;if(o(t)){var d=s.macroPosition,f=s.macroPosition+s.macroText.length;u.value=u.value.substring(0,d)+a+u.value.substring(f,u.value.length),u.selectionStart=d+a.length,u.selectionEnd=d+a.length}else c(t,a,s.macroPosition,s.macroPosition+s.macroText.length)}},replaceTriggerText:function(t,e,n,i,r,a,s,u){l(t,e,n,i);var h=f(t,r,s,!0,u);if(void 0!==h)if(o()){var d=g(t).activeElement;a+=" ";var p=h.mentionPosition,m=h.mentionPosition+h.mentionText.length+1;d.value=d.value.substring(0,p)+a+d.value.substring(m,d.value.length),d.selectionStart=p+a.length,d.selectionEnd=p+a.length}else c(t,a+="Â ",h.mentionPosition,h.mentionPosition+h.mentionText.length+1)},getMacroMatch:h,getTriggerInfo:f,selectElement:s,getTextAreaOrInputUnderlinePosition:b,getTextPrecedingCurrentSelection:m,getContentEditableSelectedPath:d,getNodePositionInParent:u,getContentEditableCaretPosition:v,pasteHtml:c,resetSelection:l,scrollIntoView:a}}]),e.module("mentio").run(["$templateCache",function(t){t.put("mentio-menu.tpl.html",'<style>\n.scrollable-menu {\n    height: auto;\n    max-height: 300px;\n    overflow: auto;\n}\n\n.menu-highlighted {\n    font-weight: bold;\n}\n</style>\n<ul class="dropdown-menu scrollable-menu" style="display:block">\n    <li mentio-menu-item="item" ng-repeat="item in items track by $index">\n        <a class="text-primary" ng-bind-html="item.label | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe"></a>\n    </li>\n</ul>')}])}).call(this,n(0))},188:function(t,e,n){(function(n){var i,r;window.angular,window.c3;
/*!
 * Pusher JavaScript Library v3.0.0
 * http://pusher.com/
 *
 * Copyright 2014, Pusher
 * Released under the MIT licence.
 */
r=this,void 0===(i=function(){return r.Pusher=function(){return function(){function t(e,n){null==e&&t.warn("Warning","You must pass your app key when you instantiate Pusher."),n=n||{};var i=this;this.key=e,this.config=t.Util.extend(t.getGlobalConfig(),n.cluster?t.getClusterConfig(n.cluster):{},n),this.channels=new t.Channels,this.global_emitter=new t.EventsDispatcher,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new t.Timeline(this.key,this.sessionID,{cluster:this.config.cluster,features:t.Util.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:t.Timeline.INFO,version:t.VERSION}),this.config.disableStats||(this.timelineSender=new t.TimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/jsonp"})),this.connection=new t.ConnectionManager(this.key,t.Util.extend({getStrategy:function(e){var n=t.Util.extend({},i.config,e);return t.StrategyBuilder.build(t.getDefaultStrategy(n),n)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",(function(){i.subscribeAll(),i.timelineSender&&i.timelineSender.send(i.connection.isEncrypted())})),this.connection.bind("message",(function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=i.channel(t.channel);n&&n.handleEvent(t.event,t.data)}e||i.global_emitter.emit(t.event,t.data)})),this.connection.bind("disconnected",(function(){i.channels.disconnect()})),this.connection.bind("error",(function(e){t.warn("Error",e)})),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&i.connect()}var e=t.prototype;t.instances=[],t.isReady=!1,t.debug=function(){t.log&&t.log(t.Util.stringify.apply(this,arguments))},t.warn=function(){var e=t.Util.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(e):window.console.log&&window.console.log(e)),t.log&&t.log(e)},t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},e.channel=function(t){return this.channels.find(t)},e.allChannels=function(){return this.channels.all()},e.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isEncrypted(),n=this.timelineSender;this.timelineSenderTimer=new t.PeriodicTimer(6e4,(function(){n.send(e)}))}},e.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},e.bind=function(t,e){return this.global_emitter.bind(t,e),this},e.bind_all=function(t){return this.global_emitter.bind_all(t),this},e.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},e.subscribe=function(t){var e=this.channels.add(t,this);return"connected"===this.connection.state&&e.subscribe(),e},e.unsubscribe=function(t){var e=this.channels.remove(t);e&&"connected"===this.connection.state&&e.unsubscribe()},e.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},e.isEncrypted=function(){return"https:"===t.Util.getDocument().location.protocol||Boolean(this.config.encrypted)},t.HTTP={},this.Pusher=t}.call(this),function(){function t(t){window.clearTimeout(t)}function e(t){window.clearInterval(t)}function n(t,e,n,i){var r=this;this.clear=e,this.timer=t((function(){null!==r.timer&&(r.timer=i(r.timer))}),n)}var i=n.prototype;i.isRunning=function(){return null!==this.timer},i.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},Pusher.Timer=function(e,i){return new n(setTimeout,t,e,(function(t){return i(),null}))},Pusher.PeriodicTimer=function(t,i){return new n(setInterval,e,t,(function(t){return i(),t}))}}.call(this),function(){Pusher.Util={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new Pusher.Timer(0,t)},extend:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)n[i]&&n[i].constructor&&n[i].constructor===Object?t[i]=Pusher.Util.extend(t[i]||{},n[i]):t[i]=n[i]}return t},stringify:function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):void 0===window.JSON?t.push(arguments[e].toString()):t.push(JSON.stringify(arguments[e]));return t.join(" : ")},arrayIndexOf:function(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},objectApply:function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)},keys:function(t){var e=[];return Pusher.Util.objectApply(t,(function(t,n){e.push(n)})),e},values:function(t){var e=[];return Pusher.Util.objectApply(t,(function(t){e.push(t)})),e},apply:function(t,e,n){for(var i=0;i<t.length;i++)e.call(n||window,t[i],i,t)},map:function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i,t,n));return n},mapObject:function(t,e){var n={};return Pusher.Util.objectApply(t,(function(t,i){n[i]=e(t)})),n},filter:function(t,e){e=e||function(t){return!!t};for(var n=[],i=0;i<t.length;i++)e(t[i],i,t,n)&&n.push(t[i]);return n},filterObject:function(t,e){var n={};return Pusher.Util.objectApply(t,(function(i,r){(e&&e(i,r,t,n)||Boolean(i))&&(n[r]=i)})),n},flatten:function(t){var e=[];return Pusher.Util.objectApply(t,(function(t,n){e.push([n,t])})),e},any:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},all:function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},method:function(t){var e=Array.prototype.slice.call(arguments,1);return function(n){return n[t].apply(n,e.concat(arguments))}},getWindow:function(){return window},getDocument:function(){return document},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},getClientFeatures:function(){return Pusher.Util.keys(Pusher.Util.filterObject({ws:Pusher.WSTransport},(function(t){return t.isSupported({})})))},addWindowListener:function(t,e){var n=Pusher.Util.getWindow();void 0!==n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent("on"+t,e)},removeWindowListener:function(t,e){var n=Pusher.Util.getWindow();void 0!==n.addEventListener?n.removeEventListener(t,e,!1):n.detachEvent("on"+t,e)},isXHRSupported:function(){var t=window.XMLHttpRequest;return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=Pusher.Util.getDocument().location.protocol;return Boolean(window.XDomainRequest)&&n===e}}}.call(this),function(){Pusher.VERSION="3.0.0",Pusher.PROTOCOL=7,Pusher.host="ws.pusherapp.com",Pusher.ws_port=80,Pusher.wss_port=443,Pusher.sockjs_host="sockjs.pusher.com",Pusher.sockjs_http_port=80,Pusher.sockjs_https_port=443,Pusher.sockjs_path="/pusher",Pusher.stats_host="stats.pusher.com",Pusher.channel_auth_endpoint="/pusher/auth",Pusher.channel_auth_transport="ajax",Pusher.activity_timeout=12e4,Pusher.pong_timeout=3e4,Pusher.unavailable_timeout=1e4,Pusher.cdn_http="http://js.pusher.com/",Pusher.cdn_https="https://js.pusher.com/",Pusher.dependency_suffix="",Pusher.getDefaultStrategy=function(t){var e;return e=t.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:t.wsHost+":"+t.wsPort,hostEncrypted:t.wsHost+":"+t.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:t.httpHost+":"+t.httpPort,hostEncrypted:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_fallback_loop"]]]]]}}.call(this),function(){Pusher.getGlobalConfig=function(){return{wsHost:Pusher.host,wsPort:Pusher.ws_port,wssPort:Pusher.wss_port,httpHost:Pusher.sockjs_host,httpPort:Pusher.sockjs_http_port,httpsPort:Pusher.sockjs_https_port,httpPath:Pusher.sockjs_path,statsHost:Pusher.stats_host,authEndpoint:Pusher.channel_auth_endpoint,authTransport:Pusher.channel_auth_transport,activity_timeout:Pusher.activity_timeout,pong_timeout:Pusher.pong_timeout,unavailable_timeout:Pusher.unavailable_timeout}},Pusher.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}.call(this),function(){function t(t){var e=function(e){Error.call(this,e),this.name=t};return Pusher.Util.extend(e.prototype,Error.prototype),e}Pusher.Errors={BadEventName:t("BadEventName"),RequestTimedOut:t("RequestTimedOut"),TransportPriorityTooLow:t("TransportPriorityTooLow"),TransportClosed:t("TransportClosed"),UnsupportedTransport:t("UnsupportedTransport"),UnsupportedStrategy:t("UnsupportedStrategy")}}.call(this),function(){function t(t){this.callbacks=new n,this.global_callbacks=[],this.failThrough=t}var e=t.prototype;function n(){this._callbacks={}}function i(t){return"_"+t}e.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},e.bind_all=function(t){return this.global_callbacks.push(t),this},e.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},e.unbind_all=function(t,e){return this.callbacks.remove(t,e),this},e.emit=function(t,e){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var i=this.callbacks.get(t);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||window,e);else this.failThrough&&this.failThrough(t,e);return this},n.prototype.get=function(t){return this._callbacks[i(t)]},n.prototype.add=function(t,e,n){var r=i(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},n.prototype.remove=function(t,e,n){if(t||e||n){var r=t?[i(t)]:Pusher.Util.keys(this._callbacks);e||n?Pusher.Util.apply(r,(function(t){this._callbacks[t]=Pusher.Util.filter(this._callbacks[t]||[],(function(t){return e&&e!==t.fn||n&&n!==t.context})),0===this._callbacks[t].length&&delete this._callbacks[t]}),this):Pusher.Util.apply(r,(function(t){delete this._callbacks[t]}),this)}else this._callbacks={}},Pusher.EventsDispatcher=t}.call(this),function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}var e=t.prototype;e.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,i=this.name+"["+e+"]",r=!1,a=function(){r||(t.apply(null,arguments),r=!0)};return this[e]=a,{number:e,id:n,name:i,callback:a}},e.remove=function(t){delete this[t.number]},Pusher.ScriptReceiverFactory=t,Pusher.ScriptReceivers=new t("_pusher_script_","Pusher.ScriptReceivers")}.call(this),function(){function t(t){this.src=t}var e=t.prototype;e.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(e.script,i.firstChild),e.errorScript&&i.insertBefore(e.errorScript,e.script.nextSibling)},e.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},Pusher.ScriptRequest=t}.call(this),function(){function t(t){this.options=t,this.receivers=t.receivers||Pusher.ScriptReceivers,this.loading={}}var e=t.prototype;e.load=function(t,e,n){var i=this;if(i.loading[t]&&i.loading[t].length>0)i.loading[t].push(n);else{i.loading[t]=[n];var r=new Pusher.ScriptRequest(i.getPath(t,e)),a=i.receivers.create((function(e){if(i.receivers.remove(a),i.loading[t]){var n=i.loading[t];delete i.loading[t];for(var o=function(t){t||r.cleanup()},s=0;s<n.length;s++)n[s](e,o)}}));r.send(a)}},e.getRoot=function(t){var e=Pusher.Util.getDocument().location.protocol;return(t&&t.encrypted||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},e.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},Pusher.DependencyLoader=t}.call(this),function(){function t(){Pusher.ready()}function e(){!function t(e){document.body?e():setTimeout((function(){t(e)}),0)}(t)}Pusher.DependenciesReceivers=new Pusher.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),Pusher.Dependencies=new Pusher.DependencyLoader({cdn_http:Pusher.cdn_http,cdn_https:Pusher.cdn_https,version:Pusher.VERSION,suffix:Pusher.dependency_suffix,receivers:Pusher.DependenciesReceivers}),window.JSON?e():Pusher.Dependencies.load("json2",{},e)}(),function(){for(var t={encode:function(t){return l(s(t))}},e=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={},r=0,a=n.length;r<a;r++)i[n.charAt(r)]=r;var o=function(t){var n=t.charCodeAt(0);return n<128?t:n<2048?e(192|n>>>6)+e(128|63&n):e(224|n>>>12&15)+e(128|n>>>6&63)+e(128|63&n)},s=function(t){return t.replace(/[^\x00-\x7F]/g,o)},c=function(t){var e=[0,2,1][t.length%3],i=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[n.charAt(i>>>18),n.charAt(i>>>12&63),e>=2?"=":n.charAt(i>>>6&63),e>=1?"=":n.charAt(63&i)].join("")},l=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,c)};Pusher.Base64=t}.call(this),function(){function t(t,e){this.url=t,this.data=e}var e=t.prototype;e.send=function(t){if(!this.request){var e,n=Pusher.Util.filterObject(this.data,(function(t){return void 0!==t})),i=Pusher.Util.map(Pusher.Util.flatten((e=n,Pusher.Util.mapObject(e,(function(t){return"object"==typeof t&&(t=JSON.stringify(t)),encodeURIComponent(Pusher.Base64.encode(t.toString()))})))),Pusher.Util.method("join","=")).join("&"),r=this.url+"/"+t.number+"?"+i;this.request=new Pusher.ScriptRequest(r),this.request.send(t)}},e.cleanup=function(){this.request&&this.request.cleanup()},Pusher.JSONPRequest=t}.call(this),function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}var e=t.prototype;t.ERROR=3,t.INFO=6,t.DEBUG=7,e.log=function(t,e){t<=this.options.level&&(this.events.push(Pusher.Util.extend({},e,{timestamp:Pusher.Util.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.error=function(e){this.log(t.ERROR,e)},e.info=function(e){this.log(t.INFO,e)},e.debug=function(e){this.log(t.DEBUG,e)},e.isEmpty=function(){return 0===this.events.length},e.send=function(t,e){var n=this,i=Pusher.Util.extend({session:n.session,bundle:n.sent+1,key:n.key,lib:"js",version:n.options.version,cluster:n.options.cluster,features:n.options.features,timeline:n.events},n.options.params);return n.events=[],t(i,(function(t,i){t||n.sent++,e&&e(t,i)})),!0},e.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},Pusher.Timeline=t}.call(this),function(){function t(t,e){this.timeline=t,this.options=e||{}}t.prototype.send=function(t,e){var n=this;n.timeline.isEmpty()||n.timeline.send((function(e,i){var r="http"+(t?"s":"")+"://"+(n.host||n.options.host)+n.options.path,a=new Pusher.JSONPRequest(r,e),o=Pusher.ScriptReceivers.create((function(t,e){Pusher.ScriptReceivers.remove(o),a.cleanup(),e&&e.host&&(n.host=e.host),i&&i(t,e)}));a.send(o)}),e)},Pusher.TimelineSender=t}.call(this),function(){function t(t){this.strategies=t}var e=t.prototype;function n(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}e.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},e.connect=function(t,e){return function(t,e,i){var r=Pusher.Util.map(t,(function(t,n,r,a){return t.connect(e,i(n,a))}));return{abort:function(){Pusher.Util.apply(r,n)},forceMinPriority:function(t){Pusher.Util.apply(r,(function(e){e.forceMinPriority(t)}))}}}(this.strategies,t,(function(t,n){return function(i,r){n[t].error=i,i?function(t){return Pusher.Util.all(t,(function(t){return Boolean(t.error)}))}(n)&&e(!0):(Pusher.Util.apply(n,(function(t){t.forceMinPriority(r.transport.priority)})),e(null,r))}}))},Pusher.BestConnectedEverStrategy=t}.call(this),function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}var e=t.prototype;function n(t){return"pusherTransport"+(t?"Encrypted":"Unencrypted")}function i(t){var e=Pusher.Util.getLocalStorage();if(e)try{delete e[n(t)]}catch(t){}}e.isSupported=function(){return this.strategy.isSupported()},e.connect=function(t,e){var r=this.encrypted,a=function(t){var e=Pusher.Util.getLocalStorage();if(e)try{var r=e[n(t)];if(r)return JSON.parse(r)}catch(e){i(t)}return null}(r),o=[this.strategy];if(a&&a.timestamp+this.ttl>=Pusher.Util.now()){var s=this.transports[a.transport];s&&(this.timeline.info({cached:!0,transport:a.transport,latency:a.latency}),o.push(new Pusher.SequentialStrategy([s],{timeout:2*a.latency+1e3,failFast:!0})))}var c=Pusher.Util.now(),l=o.pop().connect(t,(function a(s,u){s?(i(r),o.length>0?(c=Pusher.Util.now(),l=o.pop().connect(t,a)):e(s)):(function(t,e,i){var r=Pusher.Util.getLocalStorage();if(r)try{r[n(t)]=JSON.stringify({timestamp:Pusher.Util.now(),transport:e,latency:i})}catch(t){}}(r,u.transport.name,Pusher.Util.now()-c),e(null,u))}));return{abort:function(){l.abort()},forceMinPriority:function(e){t=e,l&&l.forceMinPriority(e)}}},Pusher.CachedStrategy=t}.call(this),function(){function t(t,e){this.strategy=t,this.options={delay:e.delay}}var e=t.prototype;e.isSupported=function(){return this.strategy.isSupported()},e.connect=function(t,e){var n,i=this.strategy,r=new Pusher.Timer(this.options.delay,(function(){n=i.connect(t,e)}));return{abort:function(){r.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},Pusher.DelayedStrategy=t}.call(this),function(){function t(t){this.strategy=t}var e=t.prototype;e.isSupported=function(){return this.strategy.isSupported()},e.connect=function(t,e){var n=this.strategy.connect(t,(function(t,i){i&&n.abort(),e(t,i)}));return n},Pusher.FirstConnectedStrategy=t}.call(this),function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}var e=t.prototype;e.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},e.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},Pusher.IfStrategy=t}.call(this),function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}var e=t.prototype;e.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},e.connect=function(t,e){var n=this,i=this.strategies,r=0,a=this.timeout,o=null,s=function(c,l){l?e(null,l):(r+=1,n.loop&&(r%=i.length),r<i.length?(a&&(a*=2,n.timeoutLimit&&(a=Math.min(a,n.timeoutLimit))),o=n.tryStrategy(i[r],t,{timeout:a,failFast:n.failFast},s)):e(!0))};return o=this.tryStrategy(i[r],t,{timeout:a,failFast:this.failFast},s),{abort:function(){o.abort()},forceMinPriority:function(e){t=e,o&&o.forceMinPriority(e)}}},e.tryStrategy=function(t,e,n,i){var r=null,a=null;return n.timeout>0&&(r=new Pusher.Timer(n.timeout,(function(){a.abort(),i(!0)}))),a=t.connect(e,(function(t,e){t&&r&&r.isRunning()&&!n.failFast||(r&&r.ensureAborted(),i(t,e))})),{abort:function(){r&&r.ensureAborted(),a.abort()},forceMinPriority:function(t){a.forceMinPriority(t)}}},Pusher.SequentialStrategy=t}.call(this),function(){function t(t,e,n,i){this.name=t,this.priority=e,this.transport=n,this.options=i||{}}var e=t.prototype;function n(t,e){return Pusher.Util.defer((function(){e(t)})),{abort:function(){},forceMinPriority:function(){}}}e.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},e.connect=function(t,e){if(!this.isSupported())return n(new Pusher.Errors.UnsupportedStrategy,e);if(this.priority<t)return n(new Pusher.Errors.TransportPriorityTooLow,e);var i=this,r=!1,a=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),o=null,s=function(){a.unbind("initialized",s),a.connect()},c=function(){o=new Pusher.Handshake(a,(function(t){r=!0,h(),e(null,t)}))},l=function(t){h(),e(t)},u=function(){h(),e(new Pusher.Errors.TransportClosed(a))},h=function(){a.unbind("initialized",s),a.unbind("open",c),a.unbind("error",l),a.unbind("closed",u)};return a.bind("initialized",s),a.bind("open",c),a.bind("error",l),a.bind("closed",u),a.initialize(),{abort:function(){r||(h(),o?o.close():a.close())},forceMinPriority:function(t){r||i.priority<t&&(o?o.close():a.close())}}},Pusher.TransportStrategy=t}.call(this),function(){function t(t,e,n){return t+(e.encrypted?"s":"")+"://"+(e.encrypted?e.hostEncrypted:e.hostUnencrypted)+n}function e(t,e){return"/app/"+t+"?protocol="+Pusher.PROTOCOL+"&client=js&version="+Pusher.VERSION+(e?"&"+e:"")}Pusher.URLSchemes={ws:{getInitial:function(n,i){return t("ws",i,e(n,"flash=false"))}},sockjs:{getInitial:function(e,n){return t("http",n,n.httpPath||"/pusher")},getPath:function(t,n){return e(t)}},http:{getInitial:function(n,i){return t("http",i,(i.httpPath||"/pusher")+e(n))}}}}.call(this),function(){function t(t,e,n,i,r){Pusher.EventsDispatcher.call(this),this.hooks=t,this.name=e,this.priority=n,this.key=i,this.options=r,this.state="new",this.timeline=r.timeline,this.activityTimeout=r.activityTimeout,this.id=this.timeline.generateUniqueID()}var e=t.prototype;Pusher.Util.extend(e,Pusher.EventsDispatcher.prototype),e.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.initialize=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.encrypted?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),Pusher.Dependencies.load(t.hooks.file,{encrypted:t.options.encrypted},(function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))}))):t.onClose()},e.connect=function(){var t=this;if(t.socket||"initialized"!==t.state)return!1;var e=t.hooks.urls.getInitial(t.key,t.options);try{t.socket=t.hooks.getSocket(e,t.options)}catch(e){return Pusher.Util.defer((function(){t.onError(e),t.changeState("closed")})),!1}return t.bindListeners(),Pusher.debug("Connecting",{transport:t.name,url:e}),t.changeState("connecting"),!0},e.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.send=function(t){var e=this;return"open"===e.state&&(Pusher.Util.defer((function(){e.socket&&e.socket.send(t)})),!0)},e.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.onMessage=function(t){this.emit("message",t)},e.onActivity=function(){this.emit("activity")},e.bindListeners=function(){var t=this;t.socket.onopen=function(){t.onOpen()},t.socket.onerror=function(e){t.onError(e)},t.socket.onclose=function(e){t.onClose(e)},t.socket.onmessage=function(e){t.onMessage(e)},t.supportsPing()&&(t.socket.onactivity=function(){t.onActivity()})},e.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.buildTimelineMessage=function(t){return Pusher.Util.extend({cid:this.id},t)},Pusher.TransportConnection=t}.call(this),function(){function t(t){this.hooks=t}var e=t.prototype;e.isSupported=function(t){return this.hooks.isSupported(t)},e.createConnection=function(t,e,n,i){return new Pusher.TransportConnection(this.hooks,t,e,n,i)},Pusher.Transport=t}.call(this),function(){Pusher.WSTransport=new Pusher.Transport({urls:Pusher.URLSchemes.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(window.WebSocket||window.MozWebSocket)},isSupported:function(){return Boolean(window.WebSocket||window.MozWebSocket)},getSocket:function(t){return new(window.WebSocket||window.MozWebSocket)(t)}}),Pusher.SockJSTransport=new Pusher.Transport({file:"sockjs",urls:Pusher.URLSchemes.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new SockJS(t,null,{js_path:Pusher.Dependencies.getPath("sockjs",{encrypted:e.encrypted}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}});var t={urls:Pusher.URLSchemes.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return Boolean(Pusher.HTTP.Socket)}},e=Pusher.Util.extend({getSocket:function(t){return Pusher.HTTP.getStreamingSocket(t)}},t),n=Pusher.Util.extend({getSocket:function(t){return Pusher.HTTP.getPollingSocket(t)}},t),i={file:"xhr",isSupported:Pusher.Util.isXHRSupported},r={file:"xdr",isSupported:function(t){return Pusher.Util.isXDRSupported(t.encrypted)}};Pusher.XHRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},e,i)),Pusher.XDRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},e,r)),Pusher.XHRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},n,i)),Pusher.XDRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},n,r))}.call(this),function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}var e=t.prototype;e.createConnection=function(t,e,n,i){var r=this;i=Pusher.Util.extend({},i,{activityTimeout:r.pingDelay});var a=r.transport.createConnection(t,e,n,i),o=null,s=function(){a.unbind("open",s),a.bind("closed",c),o=Pusher.Util.now()},c=function(t){if(a.unbind("closed",c),1002===t.code||1003===t.code)r.manager.reportDeath();else if(!t.wasClean&&o){var e=Pusher.Util.now()-o;e<2*r.maxPingDelay&&(r.manager.reportDeath(),r.pingDelay=Math.max(e/2,r.minPingDelay))}};return a.bind("open",s),a},e.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},Pusher.AssistantToTheTransportManager=t}.call(this),function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}var e=t.prototype;e.getAssistant=function(t){return new Pusher.AssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.isAlive=function(){return this.livesLeft>0},e.reportDeath=function(){this.livesLeft-=1},Pusher.TransportManager=t}.call(this),function(){var t={build:function(t,e){return c(t,Pusher.Util.extend({},r,e))[1].strategy}},e={ws:Pusher.WSTransport,sockjs:Pusher.SockJSTransport,xhr_streaming:Pusher.XHRStreamingTransport,xdr_streaming:Pusher.XDRStreamingTransport,xhr_polling:Pusher.XHRPollingTransport,xdr_polling:Pusher.XDRPollingTransport},n={isSupported:function(){return!1},connect:function(t,e){var n=Pusher.Util.defer((function(){e(new Pusher.Errors.UnsupportedStrategy)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function i(t){return function(e){return[t.apply(this,arguments),e]}}var r={extend:function(t,e,n){return[Pusher.Util.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,i,r,a,o,s){var c,l=e[r];if(!l)throw new Pusher.Errors.UnsupportedTransport(r);c=t.enabledTransports&&-1===Pusher.Util.arrayIndexOf(t.enabledTransports,i)||t.disabledTransports&&-1!==Pusher.Util.arrayIndexOf(t.disabledTransports,i)?n:new Pusher.TransportStrategy(i,a,s?s.getAssistant(l):l,Pusher.Util.extend({key:t.key,encrypted:t.encrypted,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},o));var u=t.def(t,i,c)[1];return u.transports=t.transports||{},u.transports[i]=c,[void 0,u]},transport_manager:i((function(t,e){return new Pusher.TransportManager(e)})),sequential:i((function(t,e){var n=Array.prototype.slice.call(arguments,2);return new Pusher.SequentialStrategy(n,e)})),cached:i((function(t,e,n){return new Pusher.CachedStrategy(n,t.transports,{ttl:e,timeline:t.timeline,encrypted:t.encrypted})})),first_connected:i((function(t,e){return new Pusher.FirstConnectedStrategy(e)})),best_connected_ever:i((function(){var t=Array.prototype.slice.call(arguments,1);return new Pusher.BestConnectedEverStrategy(t)})),delayed:i((function(t,e,n){return new Pusher.DelayedStrategy(n,{delay:e})})),if:i((function(t,e,n,i){return new Pusher.IfStrategy(e,n,i)})),is_supported:i((function(t,e){return function(){return e.isSupported()}}))};function a(t){return"string"==typeof t&&":"===t.charAt(0)}function o(t,e){return e[t.slice(1)]}function s(t,e){if(a(t[0])){var n=o(t[0],e);if(t.length>1){if("function"!=typeof n)throw"Calling non-function "+t[0];var i=[Pusher.Util.extend({},e)].concat(Pusher.Util.map(t.slice(1),(function(t){return c(t,Pusher.Util.extend({},e))[0]})));return n.apply(this,i)}return[n,e]}return function t(e,n){if(0===e.length)return[[],n];var i=c(e[0],n),r=t(e.slice(1),i[1]);return[[i[0]].concat(r[0]),r[1]]}(t,e)}function c(t,e){return"string"==typeof t?function(t,e){if(!a(t))return[t,e];var n=o(t,e);if(void 0===n)throw"Undefined symbol "+t;return[n,e]}(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?s(t,e):[t,e]}Pusher.StrategyBuilder=t}.call(this),function(){var t={decodeMessage:function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){if(!(t instanceof SyntaxError))throw t}return e}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){if("pusher:connection_established"===(t=this.decodeMessage(t)).event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}};Pusher.Protocol=t}.call(this),function(){function t(t,e){Pusher.EventsDispatcher.call(this),this.id=t,this.transport=e,this.activityTimeout=e.activityTimeout,this.bindListeners()}var e=t.prototype;Pusher.Util.extend(e,Pusher.EventsDispatcher.prototype),e.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.send=function(t){return this.transport.send(t)},e.send_event=function(t,e,n){var i={event:t,data:e};return n&&(i.channel=n),Pusher.debug("Event sent",i),this.send(Pusher.Protocol.encodeMessage(i))},e.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.close=function(){this.transport.close()},e.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=Pusher.Protocol.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(Pusher.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){Pusher.Util.objectApply(e,(function(e,n){t.transport.unbind(n,e)}))};Pusher.Util.objectApply(e,(function(e,n){t.transport.bind(n,e)}))},e.handleCloseEvent=function(t){var e=Pusher.Protocol.getCloseAction(t),n=Pusher.Protocol.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e)},Pusher.Connection=t}.call(this),function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}var e=t.prototype;e.close=function(){this.unbindListeners(),this.transport.close()},e.bindListeners=function(){var t=this;t.onMessage=function(e){t.unbindListeners();try{var n=Pusher.Protocol.processHandshake(e);"connected"===n.action?t.finish("connected",{connection:new Pusher.Connection(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())}catch(e){t.finish("error",{error:e}),t.transport.close()}},t.onClosed=function(e){t.unbindListeners();var n=Pusher.Protocol.getCloseAction(e)||"backoff",i=Pusher.Protocol.getCloseError(e);t.finish(n,{error:i})},t.transport.bind("message",t.onMessage),t.transport.bind("closed",t.onClosed)},e.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.finish=function(t,e){this.callback(Pusher.Util.extend({transport:this.transport,action:t},e))},Pusher.Handshake=t}.call(this),function(){function t(t,e){Pusher.EventsDispatcher.call(this),this.key=t,this.options=e||{},this.state="initialized",this.connection=null,this.encrypted=!!e.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var n=this;Pusher.Network.bind("online",(function(){n.timeline.info({netinfo:"online"}),"connecting"!==n.state&&"unavailable"!==n.state||n.retryIn(0)})),Pusher.Network.bind("offline",(function(){n.timeline.info({netinfo:"offline"}),n.connection&&n.sendActivityCheck()})),this.updateStrategy()}var e=t.prototype;Pusher.Util.extend(e,Pusher.EventsDispatcher.prototype),e.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.send=function(t){return!!this.connection&&this.connection.send(t)},e.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.isEncrypted=function(){return this.encrypted},e.startConnecting=function(){var t=this,e=function(n,i){n?t.runner=t.strategy.connect(0,e):"error"===i.action?(t.emit("error",{type:"HandshakeError",error:i.error}),t.timeline.error({handshakeError:i.error})):(t.abortConnecting(),t.handshakeCallbacks[i.action](i))};t.runner=t.strategy.connect(0,e)},e.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.retryIn=function(t){var e=this;e.timeline.info({action:"retry",delay:t}),t>0&&e.emit("connecting_in",Math.round(t/1e3)),e.retryTimer=new Pusher.Timer(t||0,(function(){e.disconnectInternally(),e.connect()}))},e.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.setUnavailableTimer=function(){var t=this;t.unavailableTimer=new Pusher.Timer(t.options.unavailableTimeout,(function(){t.updateState("unavailable")}))},e.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.sendActivityCheck=function(){var t=this;t.stopActivityCheck(),t.connection.ping(),t.activityTimer=new Pusher.Timer(t.options.pongTimeout,(function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)}))},e.resetActivityCheck=function(){var t=this;t.stopActivityCheck(),t.connection.handlesActivityChecks()||(t.activityTimer=new Pusher.Timer(t.activityTimeout,(function(){t.sendActivityCheck()})))},e.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.buildHandshakeCallbacks=function(t){var e=this;return Pusher.Util.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.buildErrorCallbacks=function(){var t=this;function e(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}}return{ssl_only:e((function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)})),refused:e((function(){t.disconnect()})),backoff:e((function(){t.retryIn(1e3)})),retry:e((function(){t.retryIn(0)}))}},e.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.updateState=function(t,e){var n=this.state;this.state=t,n!==t&&(Pusher.debug("State changed",n+" -> "+t),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e))},e.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},Pusher.ConnectionManager=t}.call(this),function(){function t(){Pusher.EventsDispatcher.call(this);var t=this;void 0!==window.addEventListener&&(window.addEventListener("online",(function(){t.emit("online")}),!1),window.addEventListener("offline",(function(){t.emit("offline")}),!1))}Pusher.Util.extend(t.prototype,Pusher.EventsDispatcher.prototype),t.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},Pusher.NetInfo=t,Pusher.Network=new t}.call(this),function(){function t(){this.reset()}var e=t.prototype;e.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},e.each=function(t){var e=this;Pusher.Util.objectApply(e.members,(function(n,i){t(e.get(i))}))},e.setMyID=function(t){this.myID=t},e.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},e.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},e.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},e.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},Pusher.Members=t}.call(this),function(){function t(t,e){Pusher.EventsDispatcher.call(this,(function(e,n){Pusher.debug("No callbacks on "+t+" for "+e)})),this.name=t,this.pusher=e,this.subscribed=!1}var e=t.prototype;Pusher.Util.extend(e,Pusher.EventsDispatcher.prototype),e.authorize=function(t,e){return e(!1,{})},e.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new Pusher.Errors.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},e.disconnect=function(){this.subscribed=!1},e.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscribed=!0,this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},e.subscribe=function(){var t=this;t.authorize(t.pusher.connection.socket_id,(function(e,n){e?t.handleEvent("pusher:subscription_error",n):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})}))},e.unsubscribe=function(){this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},Pusher.Channel=t}.call(this),function(){function t(t,e){Pusher.Channel.call(this,t,e)}var e=t.prototype;Pusher.Util.extend(e,Pusher.Channel.prototype),e.authorize=function(t,e){return new Pusher.Channel.Authorizer(this,this.pusher.config).authorize(t,e)},Pusher.PrivateChannel=t}.call(this),function(){function t(t,e){Pusher.PrivateChannel.call(this,t,e),this.members=new Pusher.Members}var e=t.prototype;Pusher.Util.extend(e,Pusher.PrivateChannel.prototype),e.authorize=function(t,e){var n=Pusher.PrivateChannel.prototype.authorize,i=this;n.call(i,t,(function(t,n){if(!t){if(void 0===n.channel_data)return Pusher.warn("Invalid auth response for channel '"+i.name+"', expected 'channel_data' field"),void e("Invalid auth response");var r=JSON.parse(n.channel_data);i.members.setMyID(r.user_id)}e(t,n)}))},e.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.members.onSubscription(e),this.subscribed=!0,this.emit("pusher:subscription_succeeded",this.members);break;case"pusher_internal:member_added":var n=this.members.addMember(e);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(e);i&&this.emit("pusher:member_removed",i);break;default:Pusher.PrivateChannel.prototype.handleEvent.call(this,t,e)}},e.disconnect=function(){this.members.reset(),Pusher.PrivateChannel.prototype.disconnect.call(this)},Pusher.PresenceChannel=t}.call(this),function(){function t(){this.channels={}}var e=t.prototype;e.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){return 0===t.indexOf("private-")?new Pusher.PrivateChannel(t,e):0===t.indexOf("presence-")?new Pusher.PresenceChannel(t,e):new Pusher.Channel(t,e)}(t,e)),this.channels[t]},e.all=function(t){return Pusher.Util.values(this.channels)},e.find=function(t){return this.channels[t]},e.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},e.disconnect=function(){Pusher.Util.objectApply(this.channels,(function(t){t.disconnect()}))},Pusher.Channels=t}.call(this),function(){Pusher.Channel.Authorizer=function(t,e){this.channel=t,this.type=e.authTransport,this.options=e,this.authOptions=(e||{}).auth||{}},Pusher.Channel.Authorizer.prototype={composeQuery:function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},authorize:function(t,e){return Pusher.authorizers[this.type].call(this,t,e)}};var t=1;Pusher.auth_callbacks={},Pusher.authorizers={ajax:function(t,e){var n;for(var i in(n=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("POST",this.options.authEndpoint,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)n.setRequestHeader(i,this.authOptions.headers[i]);return n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var t,i=!1;try{t=JSON.parse(n.responseText),i=!0}catch(t){e(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+n.responseText)}i&&e(!1,t)}else Pusher.warn("Couldn't get auth info from your webapp",n.status),e(!0,n.status)},n.send(this.composeQuery(t)),n},jsonp:function(e,n){void 0!==this.authOptions.headers&&Pusher.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var i=t.toString();t++;var r=Pusher.Util.getDocument(),a=r.createElement("script");Pusher.auth_callbacks[i]=function(t){n(!1,t)};var o="Pusher.auth_callbacks['"+i+"']";a.src=this.options.authEndpoint+"?callback="+encodeURIComponent(o)+"&"+this.composeQuery(e);var s=r.getElementsByTagName("head")[0]||r.documentElement;s.insertBefore(a,s.firstChild)}}}.call(this),Pusher}()}.apply(e,[]))||(t.exports=i)}).call(this,n(0))},189:function(t,e,n){(function(e){var i=window.angular;window.c3;
/*!
 * angular-chart.js - An angular.js wrapper for Chart.js
 * http://jtblin.github.io/angular-chart.js/
 * Version: 1.1.1
 *
 * Copyright 2016 Jerome Touffe-Blin
 * Released under the BSD-2-Clause license
 * https://github.com/jtblin/angular-chart.js/blob/master/LICENSE
 */
!function(e){"use strict";t.exports=function(t,e){e.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",e.defaults.global.tooltips.mode="label",e.defaults.global.elements.line.borderWidth=2,e.defaults.global.elements.rectangle.borderWidth=2,e.defaults.global.legend.display=!1,e.defaults.global.colors=["#97BBCD","#DCDCDC","#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"];var n="object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement;n&&(e.defaults.global.animation=!1);return t.module("chart.js",[]).provider("ChartJs",(function(){var n={responsive:!0},i={Chart:e,getOptions:function(e){var i=e&&n[e]||{};return t.extend({},n,i)}};this.setOptions=function(e,r){r?n[e]=t.merge(n[e]||{},r):(r=e,n=t.merge(n,r)),t.merge(i.Chart.defaults,n)},this.$get=function(){return i}})).factory("ChartJsFactory",["ChartJs","$timeout",function(i,r){return function(e){return{restrict:"CA",scope:{chartGetColor:"=?",chartType:"=",chartData:"=?",chartLabels:"=?",chartOptions:"=?",chartSeries:"=?",chartColors:"=?",chartClick:"=?",chartHover:"=?",chartDatasetOverride:"=?"},link:function(i,r){function s(n,o){if(!f(n)&&!t.equals(n,o)){var s=e||i.chartType;s&&a(s,i,r)}}n&&window.G_vmlCanvasManager.initElement(r[0]),i.$watch("chartData",(function(t,n){if(!t||!t.length||Array.isArray(t[0])&&!t[0].length)return void p(i);var s=e||i.chartType;if(!s)return;if(i.chart&&function(t,e){if(t&&e&&t.length&&e.length)return Array.isArray(t[0])?t.length===e.length&&t.every((function(t,n){return t.length===e[n].length})):e.reduce(o,0)>0&&t.length===e.length;return!1}(t,n))return function(t,e){Array.isArray(e.chartData[0])?e.chart.data.datasets.forEach((function(e,n){e.data=t[n]})):e.chart.data.datasets[0].data=t;e.chart.update(),e.$emit("chart-update",e.chart)}(t,i);a(s,i,r)}),!0),i.$watch("chartSeries",s,!0),i.$watch("chartLabels",s,!0),i.$watch("chartOptions",s,!0),i.$watch("chartColors",s,!0),i.$watch("chartDatasetOverride",s,!0),i.$watch("chartType",(function(e,n){if(f(e))return;if(t.equals(e,n))return;a(e,i,r)}),!1),i.$on("$destroy",(function(){p(i)})),i.$on("$resize",(function(){i.chart&&i.chart.resize()}))}}};function a(n,o,u){var h=function(e,n){return t.extend({},i.getOptions(e),n.chartOptions)}(n,o);if(function(t){return t.chartData&&t.chartData.length}(o)&&function(t,e,n,i){if(i.responsive&&0===n[0].clientHeight)return r((function(){a(t,e,n)}),50,!1),!1;return!0}(n,o,u,h)){var d=u[0],f=d.getContext("2d");o.chartGetColor=function(t){return"function"==typeof t.chartGetColor?t.chartGetColor:l}(o);var g=function(n,r){var a=function(n,r){var a=t.copy(r.chartColors||i.getOptions(n).chartColors||e.defaults.global.colors),o=a.length<r.chartData.length;for(;a.length<r.chartData.length;)a.push(r.chartGetColor());o&&(r.chartColors=a);return a.map(c)}(n,r);return Array.isArray(r.chartData[0])?function(e,n,i,r,a){return{labels:e,datasets:n.map((function(e,n){var o=t.extend({},r[n],{label:i[n],data:e});return a&&a.length>=n&&t.merge(o,a[n]),o}))}}(r.chartLabels,r.chartData,r.chartSeries||[],a,r.chartDatasetOverride):function(e,n,i,r){var a={labels:e,datasets:[{data:n,backgroundColor:i.map((function(t){return t.pointBackgroundColor})),hoverBackgroundColor:i.map((function(t){return t.backgroundColor}))}]};r&&t.merge(a.datasets[0],r);return a}(r.chartLabels,r.chartData,a,r.chartDatasetOverride)}(n,o);p(o),o.chart=new i.Chart(f,{type:n,data:g,options:h}),o.$emit("chart-create",o.chart),function(e,n){e.onclick=n.chartClick?s(n,"chartClick",!1):t.noop,e.onmousemove=n.chartHover?s(n,"chartHover",!0):t.noop}(d,o)}}function o(t,e){return t+e}function s(e,n,i){var r={point:void 0,points:void 0};return function(a){var o=e.chart.getElementAtEvent||e.chart.getPointAtEvent,s=e.chart.getElementsAtEvent||e.chart.getPointsAtEvent;if(s){var c=s.call(e.chart,a),l=o?o.call(e.chart,a)[0]:void 0;!1!==i&&(t.equals(r.points,c)||t.equals(r.point,l))||(r.point=l,r.points=c,e[n](c,a,l))}}}function c(t){return"string"==typeof t&&"r"===t[0]?u(function(t){var e=t.match(/^rgba?\(([\d,.]+)\)$/);if(!e)throw new Error("Cannot parse rgb value");return(t=e[1].split(",")).map(Number)}(t)):"string"==typeof t&&"#"===t[0]?u((e=t.substr(1),[(n=parseInt(e,16))>>16&255,n>>8&255,255&n])):"object"==typeof t&&null!==t?t:l();var e,n}function l(){return u([h(0,255),h(0,255),h(0,255)])}function u(t){var e=t[3]||1;return{backgroundColor:d(t=t.slice(0,3),.2),pointBackgroundColor:d(t,e),pointHoverBackgroundColor:d(t,.8),borderColor:d(t,e),pointBorderColor:"#fff",pointHoverBorderColor:d(t,e)}}function h(t,e){return Math.floor(Math.random()*(e-t+1))+t}function d(t,e){return n?"rgb("+t.join(",")+")":"rgba("+t.concat(e).join(",")+")"}function f(t){return!t||Array.isArray(t)&&!t.length||"object"==typeof t&&!Object.keys(t).length}function p(t){t.chart&&(t.chart.destroy(),t.$emit("chart-destroy",t.chart))}}]).directive("chartBase",["ChartJsFactory",function(t){return new t}]).directive("chartLine",["ChartJsFactory",function(t){return new t("line")}]).directive("chartBar",["ChartJsFactory",function(t){return new t("bar")}]).directive("chartHorizontalBar",["ChartJsFactory",function(t){return new t("horizontalBar")}]).directive("chartRadar",["ChartJsFactory",function(t){return new t("radar")}]).directive("chartDoughnut",["ChartJsFactory",function(t){return new t("doughnut")}]).directive("chartPie",["ChartJsFactory",function(t){return new t("pie")}]).directive("chartPolarArea",["ChartJsFactory",function(t){return new t("polarArea")}]).directive("chartBubble",["ChartJsFactory",function(t){return new t("bubble")}]).name}(void 0!==i?i:n(15),"undefined"!=typeof Chart?Chart:n(77))}()}).call(this,n(0))},190:function(t,e,n){(function(i){var r,a;window.angular,window.c3;r=[n(4),n(0)],void 0===(a=function(t,e){return e.fn||(e.fn={}),function(t,e){var n=function(n,i,r){if(this.parentEl="body",this.element=e(n),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),"string"==typeof(i=e.extend(this.element.data(),i)).template||i.template instanceof e||(i.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=i.parentEl&&e(i.parentEl).length?e(i.parentEl):e(this.parentEl),this.container=e(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel)){(d=document.createElement("textarea")).innerHTML=i.locale.customRangeLabel;var a=d.value;this.locale.customRangeLabel=a}if(this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=t(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=t(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=t(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=t(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=t(i.startDate)),"object"==typeof i.endDate&&(this.endDate=t(i.endDate)),"object"==typeof i.minDate&&(this.minDate=t(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=t(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyClass&&(this.applyClass=i.applyClass),"string"==typeof i.cancelClass&&(this.cancelClass=i.cancelClass),"object"==typeof i.dateLimit&&(this.dateLimit=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var o=this.locale.firstDay;o>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),o--;var s,c,l;if(void 0===i.startDate&&void 0===i.endDate&&e(this.element).is("input[type=text]")){var u=e(this.element).val(),h=u.split(this.locale.separator);s=c=null,2==h.length?(s=t(h[0],this.locale.format),c=t(h[1],this.locale.format)):this.singleDatePicker&&""!==u&&(s=t(u,this.locale.format),c=t(u,this.locale.format)),null!==s&&null!==c&&(this.setStartDate(s),this.setEndDate(c))}if("object"==typeof i.ranges){for(l in i.ranges){s="string"==typeof i.ranges[l][0]?t(i.ranges[l][0],this.locale.format):t(i.ranges[l][0]),c="string"==typeof i.ranges[l][1]?t(i.ranges[l][1],this.locale.format):t(i.ranges[l][1]),this.minDate&&s.isBefore(this.minDate)&&(s=this.minDate.clone());var d,f=this.maxDate;if(this.dateLimit&&f&&s.clone().add(this.dateLimit).isAfter(f)&&(f=s.clone().add(this.dateLimit)),f&&c.isAfter(f)&&(c=f.clone()),!(this.minDate&&c.isBefore(this.minDate,this.timepicker?"minute":"day")||f&&s.isAfter(f,this.timepicker?"minute":"day")))(d=document.createElement("textarea")).innerHTML=l,a=d.value,this.ranges[a]=[s,c]}var p="<ul>";for(l in this.ranges)p+='<li data-range-key="'+l+'">'+l+"</li>";this.showCustomRangeLabel&&(p+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),p+="</ul>",this.container.find(".ranges").prepend(p)}"function"==typeof r&&(this.callback=r),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof i.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),(void 0===i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==i.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",e.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",e.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsKeydown,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)).on("click.daterangepicker","li",e.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",e.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",e.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",e.proxy(this.toggle,this))),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return n.prototype={constructor:n,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var t,e,n,i;this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))),this.leftCalendar.month.hour(t).minute(e).second(n),this.rightCalendar.month.hour(t).minute(e).second(n));this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var i,r=(i="left"==n?this.leftCalendar:this.rightCalendar).month.month(),a=i.month.year(),o=i.month.hour(),s=i.month.minute(),c=i.month.second(),l=t([a,r]).daysInMonth(),u=t([a,r,1]),h=t([a,r,l]),d=t(u).subtract(1,"month").month(),f=t(u).subtract(1,"month").year(),p=t([f,d]).daysInMonth(),g=u.day();(i=[]).firstDay=u,i.lastDay=h;for(var m=0;m<6;m++)i[m]=[];var v=p-g+this.locale.firstDay+1;v>p&&(v-=7),g==this.locale.firstDay&&(v=p-6);for(var y=t([f,d,v,12,s,c]),b=(m=0,0),w=0;m<42;m++,b++,y=t(y).add(24,"hour"))m>0&&b%7==0&&(b=0,w++),i[w][b]=y.clone().hour(o).minute(s).second(c),y.hour(12),this.minDate&&i[w][b].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[w][b].isBefore(this.minDate)&&"left"==n&&(i[w][b]=this.minDate.clone()),this.maxDate&&i[w][b].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[w][b].isAfter(this.maxDate)&&"right"==n&&(i[w][b]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var _="left"==n?this.minDate:this.startDate,x=this.maxDate,k=("left"==n?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),S='<table class="table-condensed">';S+="<thead>",S+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+="<th></th>"),_&&!_.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=n?S+="<th></th>":S+='<th class="prev available"><i class="fa fa-'+k.left+" glyphicon glyphicon-"+k.left+'"></i></th>';var C=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var T=i[1][1].month(),P=i[1][1].year(),A=x&&x.year()||P+5,D=_&&_.year()||P-50,E=P==D,L=P==A,M='<select class="monthselect">',I=0;I<12;I++)(!E||I>=_.month())&&(!L||I<=x.month())?M+="<option value='"+I+"'"+(I===T?" selected='selected'":"")+">"+this.locale.monthNames[I]+"</option>":M+="<option value='"+I+"'"+(I===T?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[I]+"</option>";M+="</select>";for(var O='<select class="yearselect">',$=D;$<=A;$++)O+='<option value="'+$+'"'+($===P?' selected="selected"':"")+">"+$+"</option>";C=M+(O+="</select>")}if(S+='<th colspan="5" class="month">'+C+"</th>",x&&!x.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?S+="<th></th>":S+='<th class="next available"><i class="fa fa-'+k.right+" glyphicon glyphicon-"+k.right+'"></i></th>',S+="</tr>",S+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,(function(t,e){S+="<th>"+e+"</th>"})),S+="</tr>",S+="</thead>",S+="<tbody>",null==this.endDate&&this.dateLimit){var j=this.startDate.clone().add(this.dateLimit).endOf("day");x&&!j.isBefore(x)||(x=j)}for(w=0;w<6;w++){for(S+="<tr>",this.showWeekNumbers?S+='<td class="week">'+i[w][0].week()+"</td>":this.showISOWeekNumbers&&(S+='<td class="week">'+i[w][0].isoWeek()+"</td>"),b=0;b<7;b++){var R=[];i[w][b].isSame(new Date,"day")&&R.push("today"),i[w][b].isoWeekday()>5&&R.push("weekend"),i[w][b].month()!=i[1][1].month()&&R.push("off"),this.minDate&&i[w][b].isBefore(this.minDate,"day")&&R.push("off","disabled"),x&&i[w][b].isAfter(x,"day")&&R.push("off","disabled"),this.isInvalidDate(i[w][b])&&R.push("off","disabled"),i[w][b].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&R.push("active","start-date"),null!=this.endDate&&i[w][b].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&R.push("active","end-date"),null!=this.endDate&&i[w][b]>this.startDate&&i[w][b]<this.endDate&&R.push("in-range");var F=this.isCustomDate(i[w][b]);!1!==F&&("string"==typeof F?R.push(F):Array.prototype.push.apply(R,F));var N="",V=!1;for(m=0;m<R.length;m++)N+=R[m]+" ","disabled"==R[m]&&(V=!0);V||(N+="available"),S+='<td class="'+N.replace(/^\s+|\s+$/g,"")+'" data-title="r'+w+"c"+b+'">'+i[w][b].date()+"</td>"}S+="</tr>"}S+="</tbody>",S+="</table>",this.container.find(".calendar."+n+" .calendar-table").html(S)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,n,i,r=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(r=this.startDate.clone().add(this.dateLimit)),"left"==t)n=this.startDate.clone(),i=this.minDate;else if("right"==t){n=this.endDate.clone(),i=this.startDate;var a=this.container.find(".calendar.right .calendar-time div");if(""!=a.html()&&(n.hour(a.find(".hourselect option:selected").val()||n.hour()),n.minute(a.find(".minuteselect option:selected").val()||n.minute()),n.second(a.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour)){var o=a.find(".ampmselect option:selected").val();"PM"===o&&n.hour()<12&&n.hour(n.hour()+12),"AM"===o&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),r&&n.isAfter(r)&&(n=r.clone())}e='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,c=this.timePicker24Hour?23:12,l=s;l<=c;l++){var u=l;this.timePicker24Hour||(u=n.hour()>=12?12==l?12:l+12:12==l?0:l);var h=n.clone().hour(u),d=!1;i&&h.minute(59).isBefore(i)&&(d=!0),r&&h.minute(0).isAfter(r)&&(d=!0),u!=n.hour()||d?e+=d?'<option value="'+l+'" disabled="disabled" class="disabled">'+l+"</option>":'<option value="'+l+'">'+l+"</option>":e+='<option value="'+l+'" selected="selected">'+l+"</option>"}for(e+="</select> ",e+=': <select class="minuteselect">',l=0;l<60;l+=this.timePickerIncrement){var f=l<10?"0"+l:l;h=n.clone().minute(l),d=!1,i&&h.second(59).isBefore(i)&&(d=!0),r&&h.second(0).isAfter(r)&&(d=!0),n.minute()!=l||d?e+=d?'<option value="'+l+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+l+'">'+f+"</option>":e+='<option value="'+l+'" selected="selected">'+f+"</option>"}if(e+="</select> ",this.timePickerSeconds){for(e+=': <select class="secondselect">',l=0;l<60;l++)f=l<10?"0"+l:l,h=n.clone().second(l),d=!1,i&&h.isBefore(i)&&(d=!0),r&&h.isAfter(r)&&(d=!0),n.second()!=l||d?e+=d?'<option value="'+l+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+l+'">'+f+"</option>":e+='<option value="'+l+'" selected="selected">'+f+"</option>";e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var p="",g="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),r&&n.clone().hour(0).minute(0).second(0).isAfter(r)&&(g=' disabled="disabled" class="disabled"'),n.hour()>=12?e+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":e+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+g+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,n={top:0,left:0},i=e(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-n.top:this.element.offset().top+this.element.outerHeight()-n.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy((function(t){this.outsideClick(t)}),this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy((function(t){this.move(t)}),this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var n=e(t.target);"focusin"==t.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),a=e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(a.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(a.format(this.locale.format));var o=this.leftCalendar,s=this.rightCalendar,c=this.startDate;this.endDate||this.container.find(".calendar tbody td").each((function(t,n){if(!e(n).hasClass("week")){var i=e(n).attr("data-title"),r=i.substr(1,1),l=i.substr(3,1),u=e(n).parents(".calendar").hasClass("left")?o.calendar[r][l]:s.calendar[r][l];u.isAfter(c)&&u.isBefore(a)||u.isSame(a,"day")?e(n).addClass("in-range"):e(n).removeClass("in-range")}}))}},clickDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),a=e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r];if(this.endDate||a.isBefore(this.startDate,"day")){if(this.timePicker){var o=parseInt(this.container.find(".left .hourselect").val(),10);this.timePicker24Hour||("PM"===(l=this.container.find(".left .ampmselect").val())&&o<12&&(o+=12),"AM"===l&&12===o&&(o=0));var s=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;a=a.clone().hour(o).minute(s).second(c)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{var l;if(this.timePicker)o=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(l=this.container.find(".right .ampmselect").val())&&o<12&&(o+=12),"AM"===l&&12===o&&(o=0)),s=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,a=a.clone().hour(o).minute(s).second(c);this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var n in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD hh:mm";if(this.startDate.format(i)==this.ranges[n][0].format(i)&&this.endDate.format(i)==this.ranges[n][1].format(i)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var n=e(t.target).closest(".calendar").hasClass("left"),i=n?"left":"right",r=this.container.find(".calendar."+i),a=parseInt(r.find(".monthselect").val(),10),o=r.find(".yearselect").val();n||(o<this.startDate.year()||o==this.startDate.year()&&a<this.startDate.month())&&(a=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&a<this.minDate.month())&&(a=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&a>this.maxDate.month())&&(a=this.maxDate.month(),o=this.maxDate.year()),n?(this.leftCalendar.month.month(a).year(o),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(a).year(o),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var n=e(t.target).closest(".calendar"),i=n.hasClass("left"),r=parseInt(n.find(".hourselect").val(),10),a=parseInt(n.find(".minuteselect").val(),10),o=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=n.find(".ampmselect").val();"PM"===s&&r<12&&(r+=12),"AM"===s&&12===r&&(r=0)}if(i){var c=this.startDate.clone();c.hour(r),c.minute(a),c.second(o),this.setStartDate(c),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==c.format("YYYY-MM-DD")&&this.endDate.isBefore(c)&&this.setEndDate(c.clone())}else if(this.endDate){var l=this.endDate.clone();l.hour(r),l.minute(a),l.second(o),this.setEndDate(l)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(n){var i=e(n.target).closest(".calendar").hasClass("right"),r=t(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),a=t(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);r.isValid()&&a.isValid()&&(i&&a.isBefore(r)&&(r=a.clone()),this.setStartDate(r),this.setEndDate(a),i?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),e(t.target).addClass("active"),e(t.target).closest(".calendar").hasClass("right")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(e){if(!this.endDate){var n=this.container.find('input[name="daterangepicker_end"]').val(),i=t(n,this.locale.format);i.isValid()&&(this.setEndDate(i),this.updateView())}},formInputsKeydown:function(t){13===t.keyCode&&(t.preventDefault(),this.formInputsChanged(t))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.locale.separator),n=null,i=null;2===e.length&&(n=t(e[0],this.locale.format),i=t(e[1],this.locale.format)),(this.singleDatePicker||null===n||null===i)&&(i=n=t(this.element.val(),this.locale.format)),n.isValid()&&i.isValid()&&(this.setStartDate(n),this.setEndDate(i),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,i){var r=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each((function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new n(t,r,i))})),this},n}(t,e)}.apply(e,r))||(t.exports=a)}).call(this,n(0))},194:function(t,e,n){(function(t,e){var n,i,r,a,o,s;window.angular,window.c3;!function(t){t.fn.alphanum=function(t){return h(this,y,f(t)),this},t.fn.alpha=function(t){var e=f("alpha");return h(this,y,f(t,e)),this},t.fn.numeric=function(e){var n=p(e);return h(this,b,n),this.blur((function(){!function(e,n){var i=parseFloat(t(e).val()),r=t(e);if(isNaN(i))return void r.val("");d(n.min)&&i<n.min&&r.val("");d(n.max)&&i>n.max&&r.val("")}(this,n)})),this};var e,n,i={allow:"",disallow:"",allowSpace:!0,allowNewline:!0,allowNumeric:!0,allowUpper:!0,allowLower:!0,allowCaseless:!0,allowLatin:!0,allowOtherCharSets:!0,forceUpper:!1,forceLower:!1,maxLength:NaN},r={allowPlus:!1,allowMinus:!0,allowThouSep:!0,allowDecSep:!0,allowLeadingSpaces:!1,maxDigits:NaN,maxDecimalPlaces:NaN,maxPreDecimalPlaces:NaN,max:NaN,min:NaN},a={alpha:{allowNumeric:!1},upper:{allowNumeric:!1,allowUpper:!0,allowLower:!1,allowCaseless:!0},lower:{allowNumeric:!1,allowUpper:!1,allowLower:!0,allowCaseless:!0}},o={integer:{allowPlus:!1,allowMinus:!0,allowThouSep:!1,allowDecSep:!1},positiveInteger:{allowPlus:!1,allowMinus:!1,allowThouSep:!1,allowDecSep:!1}},s=",",c=".",l=function(){var t,e="0123456789".split(""),n={},i=0;for(i=0;i<e.length;i++)t=e[i],n[t]=!0;return n}(),u=(n=(e="abcdefghijklmnopqrstuvwxyz").toUpperCase(),new w(e+n));function h(e,n,i){e.each((function(){var e=t(this);e.off(".alphanum").on("keyup.alphanum change.alphanum paste.alphanum",(function(t){var r="";t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(r=t.originalEvent.clipboardData.getData("text/plain")),setTimeout((function(){!function(t,e,n,i){var r=t.val();""==r&&i.length>0&&(r=i);var a=e(r,n);if(r==a)return;var o=t.alphanum_caret();t.val(a),r.length==a.length+1?t.alphanum_caret(o-1):t.alphanum_caret(o)}(e,n,i,r)}),0)})).on("keypress.alphanum",(function(t){var r=t.charCode?t.charCode:t.which;if(!(function(t){return!(t>=32)&&(10!=t&&13!=t)}(r)||t.ctrlKey||t.metaKey)){var a=String.fromCharCode(r),o=e.selection(),s=o.start,c=o.end,l=e.val(),u=l.substring(0,s)+a+l.substring(c);n(u,i)!=u&&t.preventDefault()}}))}))}function d(t){return!isNaN(t)}function f(e,n){void 0===n&&(n=i);var r,o,s,c,l,u={};return r="string"==typeof e?a[e]:void 0===e?{}:e,t.extend(u,n,r),void 0===u.blacklist&&(u.blacklistSet=(o=u.allow,s=u.disallow,c=new w("!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_ Â¬â¬Â£Â¦"+s),l=new w(o),c.subtract(l))),u}function p(e){var n,i={};return n="string"==typeof e?o[e]:void 0===e?{}:e,t.extend(i,r,n),i}function g(t,e,n){return!(n.maxLength&&t.length>=n.maxLength)&&(n.allow.indexOf(e)>=0||(!(!n.allowSpace||" "!=e)||!!(n.allowNewline||"\n"!=e&&"\r"!=e)&&(!n.blacklistSet.contains(e)&&(!(!n.allowNumeric&&l[e])&&(!(!n.allowUpper&&function(t){var e=t.toUpperCase(),n=t.toLowerCase();return t==e&&e!=n}(e))&&(!(!n.allowLower&&function(t){var e=t.toUpperCase(),n=t.toLowerCase();return t==n&&e!=n}(e))&&(!(!n.allowCaseless&&function(t){return t.toUpperCase()==t.toLowerCase()}(e))&&(!(!n.allowLatin&&u.contains(e))&&(!!n.allowOtherCharSets||!(!l[e]&&!u.contains(e)))))))))))}function m(t,e,n){if(l[e])return!function(t,e){var n=e.maxDigits;return""!==n&&!isNaN(n)&&v(t)>=n}(t,n)&&(!function(t,e){var n=e.maxPreDecimalPlaces;return""!==n&&!isNaN(n)&&(!(t.indexOf(c)>=0)&&v(t)>=n)}(t,n)&&(!function(t,e){var n=e.maxDecimalPlaces;if(""===n||isNaN(n))return!1;var i=t.indexOf(c);return-1!=i&&v(t.substring(i))>=n}(t,n)&&(!function(t,e){return!(!e.max||e.max<0)&&parseFloat(t)>e.max}(t+e,n)&&!function(t,e){return!(!e.min||e.min>0)&&parseFloat(t)<e.min}(t+e,n))));if(n.allowPlus&&"+"==e&&""==t)return!0;if(n.allowMinus&&"-"==e&&""==t)return!0;if(e==s&&n.allowThouSep&&function(t){if(0==t.length)return!1;if(t.indexOf(c)>=0)return!1;var e=t.indexOf(s);if(e<0)return!0;var n=t.lastIndexOf(s);return!(t.length-n-1<3)&&!(v(t.substring(e))%3>0)}(t))return!0;if(e==c){if(t.indexOf(c)>=0)return!1;if(n.allowDecSep&&0===n.maxDecimalPlaces)return!1;if(n.allowDecSep)return!0}return!1}function v(t){return(t+="").replace(/[^0-9]/g,"").length}function y(t,e){if("string"!=typeof t)return t;var n,i=t.split(""),r=[],a=0;for(a=0;a<i.length;a++){n=i[a],g(r.join(""),n,e)&&r.push(n)}var o=r.join("");return e.forceLower?o=o.toLowerCase():e.forceUpper&&(o=o.toUpperCase()),o}function b(t,e){if("string"!=typeof t)return t;var n,i=t.split(""),r=[],a=0;for(a=0;a<i.length;a++){n=i[a],m(r.join(""),n,e)&&r.push(n)}return r.join("")}function w(t){this.map="string"==typeof t?function(t){var e,n={},i=t.split(""),r=0;for(r=0;r<i.length;r++)e=i[r],n[e]=!0;return n}(t):{}}w.prototype.add=function(t){var e=this.clone();for(var n in t.map)e.map[n]=!0;return e},w.prototype.subtract=function(t){var e=this.clone();for(var n in t.map)delete e.map[n];return e},w.prototype.contains=function(t){return!!this.map[t]},w.prototype.clone=function(){var t=new w;for(var e in this.map)t.map[e]=!0;return t},t.fn.alphanum.backdoorAlphaNum=function(t,e){return y(t,f(e))},t.fn.alphanum.backdoorNumeric=function(t,e){return b(t,p(e))},t.fn.alphanum.setNumericSeparators=function(t){1==t.thousandsSeparator.length&&1==t.decimalSeparator.length&&(s=t.thousandsSeparator,c=t.decimalSeparator)}}(e),function(t){function e(t,e){if(t.createTextRange){var n=t.createTextRange();n.move("character",e),n.select()}else null!=t.selectionStart&&(t.focus(),t.setSelectionRange(e,e))}t.fn.alphanum_caret=function(n,i){return void 0===n?function(t){if("selection"in document){var e=t.createTextRange();try{e.setEndPoint("EndToStart",document.selection.createRange())}catch(t){return 0}return e.text.length}if(null!=t.selectionStart)return t.selectionStart}(this.get(0)):this.queue((function(r){if(isNaN(n)){var a=t(this).val().indexOf(n);!0===i?a+=n.length:void 0!==i&&(a+=i),e(this,a)}else e(this,n);r()}))}}(e),n=e,i=function(t){return t?t.ownerDocument.defaultView||t.ownerDocument.parentWindow:window},r=function(t,e){var i=n.Range.current(t).clone(),r=n.Range(t).select(t);return i.overlaps(r)?(i.compare("START_TO_START",r)<1?(startPos=0,i.move("START_TO_START",r)):(fromElementToCurrent=r.clone(),fromElementToCurrent.move("END_TO_START",i),startPos=fromElementToCurrent.toString().length),i.compare("END_TO_END",r)>=0?endPos=r.toString().length:endPos=startPos+i.toString().length,{start:startPos,end:endPos}):null},a=function(t){var e=i(t);if(void 0!==t.selectionStart)return document.activeElement&&document.activeElement!=t&&t.selectionStart==t.selectionEnd&&0==t.selectionStart?{start:t.value.length,end:t.value.length}:{start:t.selectionStart,end:t.selectionEnd};if(e.getSelection)return r(t);try{if("input"==t.nodeName.toLowerCase()){var a=i(t).document.selection.createRange(),o=t.createTextRange();o.setEndPoint("EndToStart",a);var s=o.text.length;return{start:s,end:s+a.text.length}}var c=r(t);if(!c)return c;var l=n.Range.current().clone(),u=l.clone().collapse().range,h=l.clone().collapse(!1).range;return u.moveStart("character",-1),h.moveStart("character",-1),0!=c.startPos&&""==u.text&&(c.startPos+=2),0!=c.endPos&&""==h.text&&(c.endPos+=2),c}catch(e){return{start:t.value.length,end:t.value.length}}},o=function(t,e,n,i){"number"==typeof n[0]&&n[0]<e&&(n[0]={el:i,count:n[0]-t}),"number"==typeof n[1]&&n[1]<=e&&(n[1]={el:i,count:n[1]-t})},s=function(t,e,n){var i,r;n=n||0;for(var a=0;t[a];a++)3===(i=t[a]).nodeType||4===i.nodeType?(r=n,n+=i.nodeValue.length,o(r,n,e,i)):8!==i.nodeType&&(n=s(i.childNodes,e,n));return n},e.fn.selection=function(t,e){return void 0!==t?this.each((function(){!function(t,e,n){var r=i(t);if(t.setSelectionRange)void 0===n?(t.focus(),t.setSelectionRange(e,e)):(t.select(),t.selectionStart=e,t.selectionEnd=n);else if(t.createTextRange){var a=t.createTextRange();a.moveStart("character",e),n=n||e,a.moveEnd("character",n-t.value.length),a.select()}else if(r.getSelection){var o=r.document,c=r.getSelection(),l=o.createRange(),u=[e,void 0!==n?n:e];s([t],u),l.setStart(u[0].el,u[0].count),l.setEnd(u[1].el,u[1].count),c.removeAllRanges(),c.addRange(l)}else r.document.body.createTextRange&&((l=document.body.createTextRange()).moveToElementText(t),l.collapse(),l.moveStart("character",e),l.moveEnd("character",void 0!==n?n:e),l.select())}(this,t,e)})):a(this[0])},n.fn.selection.getCharElement=s}).call(this,n(0),n(0))},195:function(t,e,n){(function(e){var n=window.angular;window.c3;t.exports&&(t.exports="luegg.directives"),function(t,e){"use strict";function n(e,n,i){e.directive(n,["$parse","$window","$timeout",function(e,r,a){return{priority:1,restrict:"A",link:function(o,s,c){var l=s[0],u=function(t,e,n){if(""!==e){var i=t(e);return void 0!==i.assign?function(t,e,n){return{getValue:function(){return t(n)},setValue:function(i){i!==t(n)&&n.$apply((function(){e(n,i)}))}}}(i,i.assign,n):function(t,e){return{getValue:function(){return t(e)},setValue:function(){}}}(i,n)}return r=!0,{getValue:function(){return r},setValue:function(t){r=t}};var r}(e,c[n],o);function h(){u.getValue()&&!i.isAttached(l)&&a((function(){i.scroll(l)}))}function d(){u.setValue(i.isAttached(l))}a(h,0,!1),s[0].hasAttribute("force-glue")||s.on("scroll",d);var f=!1;t.forEach(s.children(),(function(t){t.hasAttribute("scroll-glue-anchor")&&(f=!0,o.$watch((function(){return t.offsetHeight}),(function(){h()})))})),f||(o.$watch(h),r.addEventListener("resize",h,!1)),s.on("$destroy",(function(){s.unbind("scroll",d)})),o.$on("$destroy",(function(){r.removeEventListener("resize",h,!1)}))}}}])}var i={isAttached:function(t){return t.scrollTop+t.clientHeight+1>=t.scrollHeight},scroll:function(t){t.scrollTop=t.scrollHeight}},r=t.module("luegg.directives",[]);n(r,"scrollGlue",i),n(r,"scrollGlueTop",{isAttached:function(t){return t.scrollTop<=1},scroll:function(t){t.scrollTop=0}}),n(r,"scrollGlueBottom",i),n(r,"scrollGlueLeft",{isAttached:function(t){return t.scrollLeft<=1},scroll:function(t){t.scrollLeft=0}}),n(r,"scrollGlueRight",{isAttached:function(t){return t.scrollLeft+t.clientWidth+1>=t.scrollWidth},scroll:function(t){t.scrollLeft=t.scrollWidth}})}(n)}).call(this,n(0))},196:function(t,e,n){(function(i){var r,a,o;window.angular,window.c3;a=[n(15),n(78)],void 0===(o="function"==typeof(r=function(t,e){if(void 0===t||void 0===e)throw new Error("ng-showdown was not loaded because one of its dependencies (AngularJS or Showdown) was not met");function n(t,e,n){return function(i,r,a){i.$watch("model",(function(r){var a;"string"==typeof r?(a=t.makeHtml(r),i.trustedHtml=t.getOption("sanitize")?e(a):n.trustAsHtml(a)):i.trustedHtml=typeof r}))}}function i(t){return function(e){return t.stripHtml(e)}}return t.module("ng-showdown",["ngSanitize"]).provider("$showdown",(function(){var t={extensions:[],sanitize:!1};function n(){var n=new e.Converter(t);this.makeHtml=function(t){return n.makeHtml(t)},this.stripHtml=function(t){return String(t).replace(/<[^>]+>/gm,"")},this.getOption=function(t){return n.getOption(t)},this.getOptions=function(){return n.getOptions()},this.setOption=function(t,e){return n.setOption(t,e),this}}this.setOption=function(e,n){return t[e]=n,this},this.getOption=function(e){return t.hasOwnProperty(e)?t[e]:void 0},this.loadExtension=function(e){return t.extensions.push(e),this},this.$get=function(){return new n}})).directive("sdModelToHtml",["$showdown","$sanitize","$sce",function(t,e,i){return{restrict:"A",link:n(t,e,i),scope:{model:"=sdModelToHtml"},template:'<div ng-bind-html="trustedHtml"></div>'}}]).directive("markdownToHtml",["$showdown","$sanitize","$sce",function(t,e,i){return{restrict:"A",link:n(t,e,i),scope:{model:"=markdownToHtml"},template:'<div ng-bind-html="trustedHtml"></div>'}}]).filter("sdStripHtml",["$showdown",i]).filter("stripHtml",["$showdown",i]),t.module("ng-showdown")})?r.apply(e,a):r)||(t.exports=o)}).call(this,n(0))},197:function(t,e,n){(function(e){var n=window.angular;window.c3;n.module("jsonFormatter",["RecursionHelper"]).provider("JSONFormatterConfig",(function(){var t=!1,e=100,n=5;return{get hoverPreviewEnabled(){return t},set hoverPreviewEnabled(e){t=!!e},get hoverPreviewArrayCount(){return e},set hoverPreviewArrayCount(t){e=parseInt(t,10)},get hoverPreviewFieldCount(){return n},set hoverPreviewFieldCount(t){n=parseInt(t,10)},$get:function(){return{hoverPreviewEnabled:t,hoverPreviewArrayCount:e,hoverPreviewFieldCount:n}}}})).directive("jsonFormatter",["RecursionHelper","JSONFormatterConfig",function(t,e){function i(t){if(void 0===t)return"";if(null===t)return"Object";if("object"==typeof t&&!t.constructor)return"Object";var e=/function (.{1,})\(/.exec(t.constructor.toString());return e&&e.length>1?e[1]:""}function r(t){return null===t?"null":typeof t}function a(t,e){var n=r(t);return"null"===n||"undefined"===n?n:("string"===n&&(e='"'+(e.replace('"','"')+'"')),"function"===n?t.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{â¦}":e)}function o(t){var e="";return n.isObject(t)?(e=i(t),n.isArray(t)&&(e+="["+t.length+"]")):e=a(t,t),e}function s(t){t.isArray=function(){return n.isArray(t.json)},t.isObject=function(){return n.isObject(t.json)},t.getKeys=function(){if(t.isObject())return Object.keys(t.json).map((function(t){return""===t?'""':t}))},t.type=r(t.json),t.hasKey=void 0!==t.key,t.getConstructorName=function(){return i(t.json)},"string"===t.type&&("Invalid Date"!==new Date(t.json).toString()&&(t.isDate=!0),0===t.json.indexOf("http")&&(t.isUrl=!0)),t.isEmptyObject=function(){return t.getKeys()&&!t.getKeys().length&&t.isOpen&&!t.isArray()},t.isOpen=!!t.open,t.toggleOpen=function(){t.isOpen=!t.isOpen},t.childrenOpen=function(){return t.open>1?t.open-1:0},t.openLink=function(e){e&&(window.location.href=t.json)},t.parseValue=function(e){return a(t.json,e)},t.showThumbnail=function(){return!!e.hoverPreviewEnabled&&t.isObject()&&!t.isOpen},t.getThumbnail=function(){if(t.isArray())return t.json.length>e.hoverPreviewArrayCount?"Array["+t.json.length+"]":"["+t.json.map(o).join(", ")+"]";var n=t.getKeys(),i=n.slice(0,e.hoverPreviewFieldCount).map((function(e){return e+":"+o(t.json[e])})),r=n.length>=5?"â¦":"";return"{"+i.join(", ")+r+"}"}}return{templateUrl:"json-formatter.html",restrict:"E",replace:!0,scope:{json:"=",key:"=",open:"="},compile:function(e){return t.compile(e,s)}}}]),t.exports="jsonFormatter",n.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function(t){return{compile:function(e,i){n.isFunction(i)&&(i={post:i});var r,a=e.contents().remove();return{pre:i&&i.pre?i.pre:null,post:function(e,n){r||(r=t(a)),r(e,(function(t){n.append(t)})),i&&i.post&&i.post.apply(null,arguments)}}}}}]),n.module("jsonFormatter").run(["$templateCache",function(t){t.put("json-formatter.html",'<div ng-init="isOpen = open && open > 0" class="json-formatter-row"><a ng-click="toggleOpen()"><span class="toggler {{isOpen ? \'open\' : \'\'}}" ng-if="isObject()"></span> <span class="key" ng-if="hasKey"><span class="key-text">{{key}}</span><span class="colon">:</span></span> <span class="value"><span ng-if="isObject()"><span class="constructor-name">{{getConstructorName(json)}}</span> <span ng-if="isArray()"><span class="bracket">[</span><span class="number">{{json.length}}</span><span class="bracket">]</span></span></span> <span ng-if="!isObject()" ng-click="openLink(isUrl)" class="{{type}}" ng-class="{date: isDate, url: isUrl}">{{parseValue(json)}}</span></span> <span ng-if="showThumbnail()" class="thumbnail-text">{{getThumbnail()}}</span></a><div class="children" ng-if="getKeys().length && isOpen"><json-formatter ng-repeat="key in getKeys() track by $index" json="json[key]" key="key" open="childrenOpen()"></json-formatter></div><div class="children empty object" ng-if="isEmptyObject()"></div><div class="children empty array" ng-if="getKeys() && !getKeys().length && isOpen && isArray()"></div></div>')}])}).call(this,n(0))},200:function(t,e,n){(function(t){window.angular,window.c3;!function(t,e,n,i){"use strict";if(n)if(n.fn.fancybox)n.error("fancyBox already initialized");else{var r,a={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close"],idleTime:4,smallBtn:"auto",protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"></button><div class="fancybox-infobar__body"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"></button></div><div class="fancybox-toolbar">{{BUTTONS}}</div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /></div><div class="fancybox-stage"></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<p></div>',btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"></button>',fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"></button>',thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"></button>'},parentEl:"body",autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0},onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"ZurÃ¼ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spÃ¤ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}},o=n(t),s=n(e),c=0,l=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},u=function(){var t,n=e.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==n.style[t])return i[t]}(),h=function(t){return t&&t.length&&t[0].offsetHeight},d=function(t,i,r){this.opts=n.extend(!0,{index:r},a,i||{}),i&&n.isArray(i.buttons)&&(this.opts.buttons=i.buttons),this.id=this.opts.id||++c,this.group=[],this.currIndex=parseInt(this.opts.index,10)||0,this.prevIndex=null,this.prevPos=null,this.currPos=0,this.firstRun=null,this.createGroup(t),this.group.length&&(this.$lastFocus=n(e.activeElement).blur(),this.slides={},this.init(t))};n.extend(d.prototype,{init:function(){var t,e,i,r=this,a=r.group[r.currIndex].opts;r.scrollTop=s.scrollTop(),r.scrollLeft=s.scrollLeft(),n.fancybox.getInstance()||n.fancybox.isMobile||"hidden"===n("body").css("overflow")||(t=n("body").width(),n("html").addClass("fancybox-enabled"),(t=n("body").width()-t)>1&&n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: '+t+"px; }</style>")),i="",n.each(a.buttons,(function(t,e){i+=a.btnTpl[e]||""})),e=n(r.translate(r,a.baseTpl.replace("{{BUTTONS}}",i))).addClass("fancybox-is-hidden").attr("id","fancybox-container-"+r.id).addClass(a.baseClass).data("FancyBox",r).prependTo(a.parentEl),r.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption"].forEach((function(t){r.$refs[t]=e.find(".fancybox-"+t)})),(!a.arrows||r.group.length<2)&&e.find(".fancybox-navigation").remove(),a.infobar||r.$refs.infobar.remove(),a.toolbar||r.$refs.toolbar.remove(),r.trigger("onInit"),r.activate(),r.jumpTo(r.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,(function(t,e){var i=n[e];return void 0===i?t:i}))},createGroup:function(t){var e=this,i=n.makeArray(t);n.each(i,(function(t,i){var r,a,o,s,c={},l={},u=[];n.isPlainObject(i)?(c=i,l=i.opts||i):"object"===n.type(i)&&n(i).length?(r=n(i),u=r.data(),l="options"in u?u.options:{},l="object"===n.type(l)?l:{},c.src="src"in u?u.src:l.src||r.attr("href"),["width","height","thumb","type","filter"].forEach((function(t){t in u&&(l[t]=u[t])})),"srcset"in u&&(l.image={srcset:u.srcset}),l.$orig=r,c.type||c.src||(c.type="inline",c.src=i)):c={type:"html",src:i+""},c.opts=n.extend(!0,{},e.opts,l),n.fancybox.isMobile&&(c.opts=n.extend(!0,{},c.opts,c.opts.mobile)),a=c.type||c.opts.type,o=c.src||"",!a&&o&&(o.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?a="image":o.match(/\.(pdf)((\?|#).*)?$/i)?a="pdf":"#"===o.charAt(0)&&(a="inline")),c.type=a,c.index=e.group.length,c.opts.$orig&&!c.opts.$orig.length&&delete c.opts.$orig,!c.opts.$thumb&&c.opts.$orig&&(c.opts.$thumb=c.opts.$orig.find("img:first")),c.opts.$thumb&&!c.opts.$thumb.length&&delete c.opts.$thumb,"function"===n.type(c.opts.caption)?c.opts.caption=c.opts.caption.apply(i,[e,c]):"caption"in u&&(c.opts.caption=u.caption),c.opts.caption=void 0===c.opts.caption?"":c.opts.caption+"","ajax"===a&&(s=o.split(/\s+/,2)).length>1&&(c.src=s.shift(),c.opts.filter=s.shift()),"auto"==c.opts.smallBtn&&(n.inArray(a,["html","inline","ajax"])>-1?(c.opts.toolbar=!1,c.opts.smallBtn=!0):c.opts.smallBtn=!1),"pdf"===a&&(c.type="iframe",c.opts.iframe.preload=!1),c.opts.modal&&(c.opts=n.extend(!0,c.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),e.group.push(c)}))},addEvents:function(){var i=this;i.removeEvents(),i.$refs.container.on("click.fb-close","[data-fancybox-close]",(function(t){t.stopPropagation(),t.preventDefault(),i.close(t)})).on("click.fb-prev touchend.fb-prev","[data-fancybox-prev]",(function(t){t.stopPropagation(),t.preventDefault(),i.previous()})).on("click.fb-next touchend.fb-next","[data-fancybox-next]",(function(t){t.stopPropagation(),t.preventDefault(),i.next()})),o.on("orientationchange.fb resize.fb",(function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?l((function(){i.update()})):(i.$refs.stage.hide(),setTimeout((function(){i.$refs.stage.show(),i.update()}),500))})),s.on("focusin.fb",(function(t){var r=n.fancybox?n.fancybox.getInstance():null;r.isClosing||!r.current||!r.current.opts.trapFocus||n(t.target).hasClass("fancybox-container")||n(t.target).is(e)||r&&"fixed"!==n(t.target).css("position")&&!r.$refs.container.has(t.target).length&&(t.stopPropagation(),r.focus(),o.scrollTop(i.scrollTop).scrollLeft(i.scrollLeft))})),s.on("keydown.fb",(function(t){var e=i.current,r=t.keyCode||t.which;if(e&&e.opts.keyboard&&!n(t.target).is("input")&&!n(t.target).is("textarea"))return 8===r||27===r?(t.preventDefault(),void i.close(t)):37===r||38===r?(t.preventDefault(),void i.previous()):39===r||40===r?(t.preventDefault(),void i.next()):void i.trigger("afterKeydown",t,r)})),i.group[i.currIndex].opts.idleTime&&(i.idleSecondsCounter=0,s.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",(function(){i.idleSecondsCounter=0,i.isIdle&&i.showControls(),i.isIdle=!1})),i.idleInterval=t.setInterval((function(){i.idleSecondsCounter++,i.idleSecondsCounter>=i.group[i.currIndex].opts.idleTime&&(i.isIdle=!0,i.idleSecondsCounter=0,i.hideControls())}),1e3))},removeEvents:function(){o.off("orientationchange.fb resize.fb"),s.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(t.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e,i){var r,a,o,s,c,l,u,d=this,f=d.group.length;if(!(d.isSliding||d.isClosing||d.isAnimating&&d.firstRun)){if(t=parseInt(t,10),!(a=d.current?d.current.opts.loop:d.opts.loop)&&(t<0||t>=f))return!1;if(r=d.firstRun=null===d.firstRun,!(f<2&&!r&&d.isSliding)){if(s=d.current,d.prevIndex=d.currIndex,d.prevPos=d.currPos,o=d.createSlide(t),f>1&&((a||o.index>0)&&d.createSlide(t-1),(a||o.index<f-1)&&d.createSlide(t+1)),d.current=o,d.currIndex=o.index,d.currPos=o.pos,d.trigger("beforeShow",r),d.updateControls(),l=n.fancybox.getTranslate(o.$slide),o.isMoved=(0!==l.left||0!==l.top)&&!o.$slide.hasClass("fancybox-animated"),o.forcedDuration=void 0,n.isNumeric(e)?o.forcedDuration=e:e=o.opts[r?"animationDuration":"transitionDuration"],e=parseInt(e,10),r)return o.opts.animationEffect&&e&&d.$refs.container.css("transition-duration",e+"ms"),d.$refs.container.removeClass("fancybox-is-hidden"),h(d.$refs.container),d.$refs.container.addClass("fancybox-is-open"),o.$slide.addClass("fancybox-slide--current"),d.loadSlide(o),void d.preload();n.each(d.slides,(function(t,e){n.fancybox.stop(e.$slide)})),o.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),o.isMoved?(c=Math.round(o.$slide.width()),n.each(d.slides,(function(t,i){var r=i.pos-o.pos;n.fancybox.animate(i.$slide,{top:0,left:r*c+r*i.opts.gutter},e,(function(){i.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),i.pos===d.currPos&&(o.isMoved=!1,d.complete())}))}))):d.$refs.stage.children().removeAttr("style"),o.isLoaded?d.revealContent(o):d.loadSlide(o),d.preload(),s.pos!==o.pos&&(u="fancybox-slide--"+(s.pos>o.pos?"next":"previous"),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),s.isComplete=!1,e&&(o.isMoved||o.opts.transitionEffect)&&(o.isMoved?s.$slide.addClass(u):(u="fancybox-animated "+u+" fancybox-fx-"+o.opts.transitionEffect,n.fancybox.animate(s.$slide,u,e,(function(){s.$slide.removeClass(u).removeAttr("style")})))))}}},createSlide:function(t){var e,i;return i=(i=t%this.group.length)<0?this.group.length+i:i,!this.slides[t]&&this.group[i]&&(e=n('<div class="fancybox-slide"></div>').appendTo(this.$refs.stage),this.slides[t]=n.extend(!0,{},this.group[i],{pos:t,$slide:e,isLoaded:!1}),this.updateSlide(this.slides[t])),this.slides[t]},scaleToActual:function(t,e,i){var r,a,o,s,c,l=this,u=l.current,h=u.$content,d=parseInt(u.$slide.width(),10),f=parseInt(u.$slide.height(),10),p=u.width,g=u.height;"image"!=u.type||u.hasError||!h||l.isAnimating||(n.fancybox.stop(h),l.isAnimating=!0,t=void 0===t?.5*d:t,e=void 0===e?.5*f:e,s=p/(r=n.fancybox.getTranslate(h)).width,c=g/r.height,a=.5*d-.5*p,o=.5*f-.5*g,p>d&&((a=r.left*s-(t*s-t))>0&&(a=0),a<d-p&&(a=d-p)),g>f&&((o=r.top*c-(e*c-e))>0&&(o=0),o<f-g&&(o=f-g)),l.updateCursor(p,g),n.fancybox.animate(h,{top:o,left:a,scaleX:s,scaleY:c},i||330,(function(){l.isAnimating=!1})),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,i=this,r=i.current,a=r.$content;"image"!=r.type||r.hasError||!a||i.isAnimating||(n.fancybox.stop(a),i.isAnimating=!0,e=i.getFitPos(r),i.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||330,(function(){i.isAnimating=!1})))},getFitPos:function(t){var e,i,r,a,s,c=t.$content,l=t.width,u=t.height,h=t.opts.margin;return!(!c||!c.length||!l&&!u)&&("number"===n.type(h)&&(h=[h,h]),2==h.length&&(h=[h[0],h[1],h[0],h[1]]),o.width()<800&&(h=[0,0,0,0]),e=parseInt(this.$refs.stage.width(),10)-(h[1]+h[3]),i=parseInt(this.$refs.stage.height(),10)-(h[0]+h[2]),r=Math.min(1,e/l,i/u),a=Math.floor(r*l),s=Math.floor(r*u),{top:Math.floor(.5*(i-s))+h[0],left:Math.floor(.5*(e-a))+h[3],width:a,height:s})},update:function(){var t=this;n.each(t.slides,(function(e,n){t.updateSlide(n)}))},updateSlide:function(t){var e=t.$content;e&&(t.width||t.height)&&(n.fancybox.stop(e),n.fancybox.setTranslate(e,this.getFitPos(t)),t.pos===this.currPos&&this.updateCursor()),t.$slide.trigger("refresh"),this.trigger("onUpdate",t)},updateCursor:function(t,e){var n=this.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");this.current&&!this.isClosing&&(this.isZoomable()?(n.addClass("fancybox-is-zoomable"),(void 0!==t&&void 0!==e?t<this.current.width&&e<this.current.height:this.isScaledDown())?n.addClass("fancybox-can-zoomIn"):this.current.opts.touch?n.addClass("fancybox-can-drag"):n.addClass("fancybox-can-zoomOut")):this.current.opts.touch&&n.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing)return!!("image"===e.type&&e.isLoaded&&!e.hasError&&("zoom"===e.opts.clickContent||n.isFunction(e.opts.clickContent)&&"zoom"===e.opts.clickContent(e))&&(t=this.getFitPos(e),e.width>t.width||e.height>t.height))},isScaledDown:function(){var t=this.current,e=t.$content,i=!1;return e&&(i=(i=n.fancybox.getTranslate(e)).width<t.width||i.height<t.height),i},canPan:function(){var t=this.current,e=t.$content,n=!1;return e&&(n=this.getFitPos(t),n=Math.abs(e.width()-n.width)>1||Math.abs(e.height()-n.height)>1),n},loadSlide:function(t){var e,i,r,a=this;if(!t.isLoading&&!t.isLoaded){switch(t.isLoading=!0,a.trigger("beforeLoad",t),e=t.type,(i=t.$slide).off("refresh").trigger("onReset").addClass("fancybox-slide--"+(e||"unknown")).addClass(t.opts.slideClass),e){case"image":a.setImage(t);break;case"iframe":a.setIframe(t);break;case"html":a.setContent(t,t.src||t.content);break;case"inline":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case"ajax":a.showLoading(t),r=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&a.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&a.setError(t)}})),i.one("onReset",(function(){r.abort()}));break;default:a.setError(t)}return!0}},setImage:function(e){var i,r,a,o,s=this,c=e.opts.image.srcset;if(c){a=t.devicePixelRatio||1,o=t.innerWidth*a,(r=c.split(",").map((function(t){var e={};return t.trim().split(/\s+/).forEach((function(t,n){var i=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;i&&(e.value=i,e.postfix=t[t.length-1])})),e}))).sort((function(t,e){return t.value-e.value}));for(var l=0;l<r.length;l++){var u=r[l];if("w"===u.postfix&&u.value>=o||"x"===u.postfix&&u.value>=a){i=u;break}}!i&&r.length&&(i=r[r.length-1]),i&&(e.src=i.url,e.width&&e.height&&"w"==i.postfix&&(e.height=e.width/e.height*i.value,e.width=i.value))}e.$content=n('<div class="fancybox-image-wrap"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&(e.opts.thumb||e.opts.$thumb)?(e.width=e.opts.width,e.height=e.opts.height,e.$ghost=n("<img />").one("error",(function(){n(this).remove(),e.$ghost=null,s.setBigImage(e)})).one("load",(function(){s.afterLoad(e),s.setBigImage(e)})).addClass("fancybox-image").appendTo(e.$content).attr("src",e.opts.thumb||e.opts.$thumb.attr("src"))):s.setBigImage(e)},setBigImage:function(t){var e=this,i=n("<img />");t.$image=i.one("error",(function(){e.setError(t)})).one("load",(function(){clearTimeout(t.timouts),t.timouts=null,e.isClosing||(t.width=this.naturalWidth,t.height=this.naturalHeight,t.opts.image.srcset&&i.attr("sizes","100vw").attr("srcset",t.opts.image.srcset),e.hideLoading(t),t.$ghost?t.timouts=setTimeout((function(){t.timouts=null,t.$ghost.hide()}),Math.min(300,Math.max(1e3,t.height/1600))):e.afterLoad(t))})).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),i[0].complete?i.trigger("load"):i[0].error?i.trigger("error"):t.timouts=setTimeout((function(){i[0].complete||t.hasError||e.showLoading(t)}),100)},setIframe:function(t){var e,i=this,r=t.opts.iframe,a=t.$slide;t.$content=n('<div class="fancybox-content'+(r.preload?" fancybox-is-hidden":"")+'"></div>').css(r.css).appendTo(a),e=n(r.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(r.attr).appendTo(t.$content),r.preload?(i.showLoading(t),e.on("load.fb error.fb",(function(e){this.isReady=1,t.$slide.trigger("refresh"),i.afterLoad(t)})),a.on("refresh.fb",(function(){var n,i,a,o,s=t.$content;if(1===e[0].isReady){try{n=e.contents().find("body")}catch(t){}n&&n.length&&(void 0===r.css.width||void 0===r.css.height)&&(i=e[0].contentWindow.document.documentElement.scrollWidth,a=Math.ceil(n.outerWidth(!0)+(s.width()-i)),o=Math.ceil(n.outerHeight(!0)),s.css({width:void 0===r.css.width?a+(s.outerWidth()-s.innerWidth()):r.css.width,height:void 0===r.css.height?o+(s.outerHeight()-s.innerHeight()):r.css.height})),s.removeClass("fancybox-is-hidden")}}))):this.afterLoad(t),e.attr("src",t.src),!0===t.opts.smallBtn&&t.$content.prepend(i.translate(t,t.opts.btnTpl.smallBtn)),a.one("onReset",(function(){try{n(this).find("iframe").hide().attr("src","//about:blank")}catch(t){}n(this).empty(),t.isLoaded=!1}))},setContent:function(t,e){var i;this.isClosing||(this.hideLoading(t),t.$slide.empty(),(i=e)&&i.hasOwnProperty&&i instanceof n&&e.parent().length?(e.parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=n("<div></div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&3===(e=n("<div>").append(n.trim(e)).contents())[0].nodeType&&(e=n("<div>").html(e)),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",(function(){t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1)})),t.$content=n(e).appendTo(t.$slide),t.opts.smallBtn&&!t.$smallBtn&&(t.$smallBtn=n(this.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.removeClass("fancybox-slide--"+t.type),this.setContent(t,this.translate(t,t.opts.errorTpl))},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=n(this.opts.spinnerTpl).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){this.isClosing||(t.isLoading=!1,t.isLoaded=!0,this.trigger("afterLoad",t),this.hideLoading(t),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",(function(t){return 2==t.button&&t.preventDefault(),!0})),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),this.revealContent(t))},revealContent:function(t){var e,i,r,a,o,s=this,c=t.$slide,l=!1;return e=t.opts[s.firstRun?"animationEffect":"transitionEffect"],r=t.opts[s.firstRun?"animationDuration":"transitionDuration"],r=parseInt(void 0===t.forcedDuration?r:t.forcedDuration,10),!t.isMoved&&t.pos===s.currPos&&r||(e=!1),"zoom"!==e||t.pos===s.currPos&&r&&"image"===t.type&&!t.hasError&&(l=s.getThumbPos(t))||(e="fade"),"zoom"===e?((o=s.getFitPos(t)).scaleX=Math.round(o.width/l.width*100)/100,o.scaleY=Math.round(o.height/l.height*100)/100,delete o.width,delete o.height,"auto"==(a=t.opts.zoomOpacity)&&(a=Math.abs(t.width/t.height-l.width/l.height)>.1),a&&(l.opacity=.1,o.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),l),h(t.$content),void n.fancybox.animate(t.$content,o,r,(function(){s.complete()}))):(s.updateSlide(t),e?(n.fancybox.stop(c),i="fancybox-animated fancybox-slide--"+(t.pos>s.prevPos?"next":"previous")+" fancybox-fx-"+e,c.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(i),t.$content.removeClass("fancybox-is-hidden"),h(c),void n.fancybox.animate(c,"fancybox-slide--current",r,(function(e){c.removeClass(i).removeAttr("style"),t.pos===s.currPos&&s.complete()}),!0)):(h(c),t.$content.removeClass("fancybox-is-hidden"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(i){var r,a=!1,o=i.opts.$thumb,s=o?o.offset():0;return s&&o[0].ownerDocument===e&&function(e){for(var i=e[0],r=i.getBoundingClientRect(),a=[];null!==i.parentElement;)"hidden"!==n(i.parentElement).css("overflow")&&"auto"!==n(i.parentElement).css("overflow")||a.push(i.parentElement.getBoundingClientRect()),i=i.parentElement;return a.every((function(t){var e=Math.min(r.right,t.right)-Math.max(r.left,t.left),n=Math.min(r.bottom,t.bottom)-Math.max(r.top,t.top);return e>0&&n>0}))&&r.bottom>0&&r.right>0&&r.left<n(t).width()&&r.top<n(t).height()}(o)&&(r=this.$refs.stage.offset(),a={top:s.top-r.top+parseFloat(o.css("border-top-width")||0),left:s.left-r.left+parseFloat(o.css("border-left-width")||0),width:o.width(),height:o.height(),scaleX:1,scaleY:1}),a},complete:function(){var t=this,i=t.current,r={};i.isMoved||!i.isLoaded||i.isComplete||(i.isComplete=!0,i.$slide.siblings().trigger("onReset"),h(i.$slide),i.$slide.addClass("fancybox-slide--complete"),n.each(t.slides,(function(e,i){i.pos>=t.currPos-1&&i.pos<=t.currPos+1?r[i.pos]=i:i&&(n.fancybox.stop(i.$slide),i.$slide.unbind().remove())})),t.slides=r,t.updateCursor(),t.trigger("afterShow"),(n(e.activeElement).is("[disabled]")||i.opts.autoFocus&&"image"!=i.type&&"iframe"!==i.type)&&t.focus())},preload:function(){var t,e;this.group.length<2||(t=this.slides[this.currPos+1],e=this.slides[this.currPos-1],t&&"image"===t.type&&this.loadSlide(t),e&&"image"===e.type&&this.loadSlide(e))},focus:function(){var t,e=this.current;this.isClosing||(t=(t=e&&e.isComplete?e.$slide.find("button,:input,[tabindex],a").filter(":not([disabled]):visible:first"):null)&&t.length?t:this.$refs.container).focus()},activate:function(){var t=this;n(".fancybox-container").each((function(){var e=n(this).data("FancyBox");e&&e.uid!==t.uid&&!e.isClosing&&e.trigger("onDeactivate")})),t.current&&(t.$refs.container.index()>0&&t.$refs.container.prependTo(e.body),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var i,r,a,o,s,c,h=this,d=h.current,f=function(){h.cleanUp(t)};return!h.isClosing&&(h.isClosing=!0,!1===h.trigger("beforeClose",t)?(h.isClosing=!1,l((function(){h.update()})),!1):(h.removeEvents(),d.timouts&&clearTimeout(d.timouts),a=d.$content,i=d.opts.animationEffect,r=n.isNumeric(e)?e:i?d.opts.animationDuration:0,d.$slide.off(u).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),d.$slide.siblings().trigger("onReset").remove(),r&&h.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),h.hideLoading(d),h.hideControls(),h.updateCursor(),"zoom"!==i||!0!==t&&a&&r&&"image"===d.type&&!d.hasError&&(c=h.getThumbPos(d))||(i="fade"),"zoom"===i?(n.fancybox.stop(a),(s=n.fancybox.getTranslate(a)).width=s.width*s.scaleX,s.height=s.height*s.scaleY,"auto"==(o=d.opts.zoomOpacity)&&(o=Math.abs(d.width/d.height-c.width/c.height)>.1),o&&(c.opacity=0),s.scaleX=s.width/c.width,s.scaleY=s.height/c.height,s.width=c.width,s.height=c.height,n.fancybox.setTranslate(d.$content,s),n.fancybox.animate(d.$content,c,r,f),!0):(i&&r?!0===t?setTimeout(f,r):n.fancybox.animate(d.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+i,r,f):f(),!0)))},cleanUp:function(t){var e;this.current.$slide.trigger("onReset"),this.$refs.container.empty().remove(),this.trigger("afterClose",t),this.$lastFocus&&!this.current.focusBack&&this.$lastFocus.focus(),this.current=null,(e=n.fancybox.getInstance())?e.activate():(o.scrollTop(this.scrollTop).scrollLeft(this.scrollLeft),n("html").removeClass("fancybox-enabled"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var i,r=Array.prototype.slice.call(arguments,1),a=this,o=e&&e.opts?e:a.current;if(o?r.unshift(o):o=a,r.unshift(a),n.isFunction(o.opts[t])&&(i=o.opts[t].apply(o,r)),!1===i)return i;"afterClose"===t?s.trigger(t+".fb",r):a.$refs.container.trigger(t+".fb",r)},updateControls:function(t){var e=this.current,i=e.index,r=e.opts,a=r.caption,o=this.$refs.caption;e.$slide.trigger("refresh"),this.$caption=a&&a.length?o.html(a):null,this.isHiddenControls||this.showControls(),n("[data-fancybox-count]").html(this.group.length),n("[data-fancybox-index]").html(i+1),n("[data-fancybox-prev]").prop("disabled",!r.loop&&i<=0),n("[data-fancybox-next]").prop("disabled",!r.loop&&i>=this.group.length-1)},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var t=this.current?this.current.opts:this.opts,e=this.$refs.container;this.isHiddenControls=!1,this.idleSecondsCounter=0,e.toggleClass("fancybox-show-toolbar",!(!t.toolbar||!t.buttons)).toggleClass("fancybox-show-infobar",!!(t.infobar&&this.group.length>1)).toggleClass("fancybox-show-nav",!!(t.arrows&&this.group.length>1)).toggleClass("fancybox-is-modal",!!t.modal),this.$caption?e.addClass("fancybox-show-caption "):e.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.1.20",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox"),i=Array.prototype.slice.call(arguments,1);return e instanceof d&&("string"===n.type(t)?e[t].apply(e,i):"function"===n.type(t)&&t.apply(e,i),e)},open:function(t,e,n){return new d(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),s.off("click.fb-start")},isMobile:void 0!==e.createTouch&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:(r=e.createElement("div"),t.getComputedStyle&&t.getComputedStyle(r).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)),getTranslate:function(t){var e;if(!t||!t.length)return!1;if((e=(e=t.eq(0).css("transform"))&&-1!==e.indexOf("matrix")?(e=(e=e.split("(")[1]).split(")")[0]).split(","):[]).length)e=(e=e.length>10?[e[13],e[12],e[0],e[5]]:[e[5],e[4],e[0],e[3]]).map(parseFloat);else{e=[0,0,1,1];var n=/\.*translate\((.*)px,(.*)px\)/i.exec(t.eq(0).attr("style"));n&&(e[0]=parseFloat(n[2]),e[1]=parseFloat(n[1]))}return{top:e[0],left:e[1],scaleX:e[2],scaleY:e[3],opacity:parseFloat(t.css("opacity")),width:t.width(),height:t.height()}},setTranslate:function(t,e){var n="",i={};if(t&&e)return void 0===e.left&&void 0===e.top||(n=(void 0===e.left?t.position().left:e.left)+"px, "+(void 0===e.top?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),void 0!==e.scaleX&&void 0!==e.scaleY&&(n=(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),n.length&&(i.transform=n),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.width&&(i.width=e.width),void 0!==e.height&&(i.height=e.height),t.css(i)},animate:function(t,e,i,r,a){var o=u||"transitionend";n.isFunction(i)&&(r=i,i=null),n.isPlainObject(e)||t.removeAttr("style"),t.on(o,(function(i){(!i||!i.originalEvent||t.is(i.originalEvent.target)&&"z-index"!=i.originalEvent.propertyName)&&(t.off(o),n.isPlainObject(e)?void 0!==e.scaleX&&void 0!==e.scaleY&&(t.css("transition-duration","0ms"),e.width=t.width()*e.scaleX,e.height=t.height()*e.scaleY,e.scaleX=1,e.scaleY=1,n.fancybox.setTranslate(t,e)):!0!==a&&t.removeClass(e),n.isFunction(r)&&r(i))})),n.isNumeric(i)&&t.css("transition-duration",i+"ms"),n.isPlainObject(e)?n.fancybox.setTranslate(t,e):t.addClass(e),t.data("timer",setTimeout((function(){t.trigger("transitionend")}),i+16))},stop:function(t){clearTimeout(t.data("timer")),t.off(u)}},n.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?n("body").off("click.fb-start",e).on("click.fb-start",e,{items:n(e),options:t},f):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},f),this},s.on("click.fb-start","[data-fancybox]",f)}function f(t){var e=t.currentTarget,i=t.data?t.data.options:{},r=t.data?t.data.items:[],a=n(e).attr("data-fancybox")||"",o=0;t.preventDefault(),t.stopPropagation(),a?(o=(r=r.length?r.filter('[data-fancybox="'+a+'"]'):n('[data-fancybox="'+a+'"]')).index(e))<0&&(o=0):r=[e],n.fancybox.open(r,i,o)}}(window,document,t),function(t){"use strict";var e=function(e,n,i){if(e)return i=i||"","object"===t.type(i)&&(i=t.param(i,!0)),t.each(n,(function(t,n){e=e.replace("$"+t,n||"")})),i.length&&(e+=(e.indexOf("?")>0?"&":"?")+i),e},n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12])+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}}};t(document).on("onInit.fb",(function(i,r){t.each(r.group,(function(i,r){var a,o,s,c,l,u,h,d=r.src||"",f=!1;r.type||(a=t.extend(!0,{},n,r.opts.media),t.each(a,(function(n,i){if(s=d.match(i.matcher),u={},h=n,s){if(f=i.type,i.paramPlace&&s[i.paramPlace]){"?"==(l=s[i.paramPlace])[0]&&(l=l.substring(1)),l=l.split("&");for(var a=0;a<l.length;++a){var p=l[a].split("=",2);2==p.length&&(u[p[0]]=decodeURIComponent(p[1].replace(/\+/g," ")))}}return c=t.extend(!0,{},i.params,r.opts[n],u),d="function"===t.type(i.url)?i.url.call(this,s,c,r):e(i.url,s,c),o="function"===t.type(i.thumb)?i.thumb.call(this,s,c,r):e(i.thumb,s),"vimeo"===h&&(d=d.replace("&%23","#")),!1}})),f?(r.src=d,r.type=f,r.opts.thumb||r.opts.$thumb&&r.opts.$thumb.length||(r.opts.thumb=o),"iframe"===f&&(t.extend(!0,r.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}}),r.contentProvider=h,r.opts.slideClass+=" fancybox-slide--"+("google_maps"==h?"map":"video"))):r.type="image")}))}))}(t),function(t,e,n){"use strict";var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)},a=function(e){var n=[];for(var i in e=(e=e.originalEvent||e||t.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[i].pageX?n.push({x:e[i].pageX,y:e[i].pageY}):e[i].clientX&&n.push({x:e[i].clientX,y:e[i].clientY});return n},o=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},s=function(t){if(t.is("a,button,input,select,textarea")||n.isFunction(t.get(0).onclick))return!0;for(var e=0,i=t[0].attributes,r=i.length;e<r;e++)if("data-fancybox-"===i[e].nodeName.substr(0,14))return!0;return!1},c=function(e){for(var n,i,r,a,o,s=!1;n=e.get(0),i=void 0,r=void 0,a=void 0,o=void 0,i=t.getComputedStyle(n)["overflow-y"],r=t.getComputedStyle(n)["overflow-x"],a=("scroll"===i||"auto"===i)&&n.scrollHeight>n.clientHeight,o=("scroll"===r||"auto"===r)&&n.scrollWidth>n.clientWidth,!(s=a||o)&&(e=e.parent()).length&&!e.hasClass("fancybox-stage")&&!e.is("body"););return s},l=function(t){this.instance=t,this.$bg=t.$refs.bg,this.$stage=t.$refs.stage,this.$container=t.$refs.container,this.destroy(),this.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(this,"ontouchstart"))};l.prototype.destroy=function(){this.$container.off(".fb.touch")},l.prototype.ontouchstart=function(i){var r=n(i.target),l=this.instance,u=l.current,h=u.$content,d="touchstart"==i.type;if(d&&this.$container.off("mousedown.fb.touch"),!u||this.instance.isAnimating||this.instance.isClosing)return i.stopPropagation(),void i.preventDefault();i.originalEvent&&2==i.originalEvent.button||!r.length||s(r)||s(r.parent())||i.originalEvent.clientX>r[0].clientWidth+r.offset().left||(this.startPoints=a(i),!this.startPoints||this.startPoints.length>1&&l.isSliding||(this.$target=r,this.$content=h,this.canTap=!0,n(e).off(".fb.touch"),n(e).on(d?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(this,"ontouchend")),n(e).on(d?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(this,"ontouchmove")),i.stopPropagation(),(l.current.opts.touch||l.canPan())&&(r.is(this.$stage)||this.$stage.find(r).length)?(n.fancybox.isMobile&&(c(this.$target)||c(this.$target.parent()))||i.preventDefault(),this.canvasWidth=Math.round(u.$slide[0].clientWidth),this.canvasHeight=Math.round(u.$slide[0].clientHeight),this.startTime=(new Date).getTime(),this.distanceX=this.distanceY=this.distance=0,this.isPanning=!1,this.isSwiping=!1,this.isZooming=!1,this.sliderStartPos=this.sliderLastPos||{top:0,left:0},this.contentStartPos=n.fancybox.getTranslate(this.$content),this.contentLastPos=null,1!==this.startPoints.length||this.isZooming||(this.canTap=!l.isSliding,"image"===u.type&&(this.contentStartPos.width>this.canvasWidth+1||this.contentStartPos.height>this.canvasHeight+1)?(n.fancybox.stop(this.$content),this.$content.css("transition-duration","0ms"),this.isPanning=!0):this.isSwiping=!0,this.$container.addClass("fancybox-controls--isGrabbing")),2!==this.startPoints.length||l.isAnimating||u.hasError||"image"!==u.type||!u.isLoaded&&!u.$ghost||(this.isZooming=!0,this.isSwiping=!1,this.isPanning=!1,n.fancybox.stop(this.$content),this.$content.css("transition-duration","0ms"),this.centerPointStartX=.5*(this.startPoints[0].x+this.startPoints[1].x)-n(t).scrollLeft(),this.centerPointStartY=.5*(this.startPoints[0].y+this.startPoints[1].y)-n(t).scrollTop(),this.percentageOfImageAtPinchPointX=(this.centerPointStartX-this.contentStartPos.left)/this.contentStartPos.width,this.percentageOfImageAtPinchPointY=(this.centerPointStartY-this.contentStartPos.top)/this.contentStartPos.height,this.startDistanceBetweenFingers=o(this.startPoints[0],this.startPoints[1]))):r.is("img")&&i.preventDefault()))},l.prototype.ontouchmove=function(t){if(this.newPoints=a(t),n.fancybox.isMobile&&(c(this.$target)||c(this.$target.parent())))return t.stopPropagation(),void(this.canTap=!1);if((this.instance.current.opts.touch||this.instance.canPan())&&this.newPoints&&this.newPoints.length&&(this.distanceX=o(this.newPoints[0],this.startPoints[0],"x"),this.distanceY=o(this.newPoints[0],this.startPoints[0],"y"),this.distance=o(this.newPoints[0],this.startPoints[0]),this.distance>0)){if(!this.$target.is(this.$stage)&&!this.$stage.find(this.$target).length)return;t.stopPropagation(),t.preventDefault(),this.isSwiping?this.onSwipe():this.isPanning?this.onPan():this.isZooming&&this.onZoom()}},l.prototype.onSwipe=function(){var e,a=this,o=a.isSwiping,s=a.sliderStartPos.left||0;!0===o?Math.abs(a.distance)>10&&(a.canTap=!1,a.instance.group.length<2&&a.instance.opts.touch.vertical?a.isSwiping="y":a.instance.isSliding||!1===a.instance.opts.touch.vertical||"auto"===a.instance.opts.touch.vertical&&n(t).width()>800?a.isSwiping="x":(e=Math.abs(180*Math.atan2(a.distanceY,a.distanceX)/Math.PI),a.isSwiping=e>45&&e<135?"y":"x"),a.instance.isSliding=a.isSwiping,a.startPoints=a.newPoints,n.each(a.instance.slides,(function(t,e){n.fancybox.stop(e.$slide),e.$slide.css("transition-duration","0ms"),e.inTransition=!1,e.pos===a.instance.current.pos&&(a.sliderStartPos.left=n.fancybox.getTranslate(e.$slide).left)})),a.instance.SlideShow&&a.instance.SlideShow.isActive&&a.instance.SlideShow.stop()):("x"==o&&(a.distanceX>0&&(a.instance.group.length<2||0===a.instance.current.index&&!a.instance.current.opts.loop)?s+=Math.pow(a.distanceX,.8):a.distanceX<0&&(a.instance.group.length<2||a.instance.current.index===a.instance.group.length-1&&!a.instance.current.opts.loop)?s-=Math.pow(-a.distanceX,.8):s+=a.distanceX),a.sliderLastPos={top:"x"==o?0:a.sliderStartPos.top+a.distanceY,left:s},a.requestId&&(r(a.requestId),a.requestId=null),a.requestId=i((function(){a.sliderLastPos&&(n.each(a.instance.slides,(function(t,e){var i=e.pos-a.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:a.sliderLastPos.top,left:a.sliderLastPos.left+i*a.canvasWidth+i*e.opts.gutter})})),a.$container.addClass("fancybox-is-sliding"))})))},l.prototype.onPan=function(){var t,e,a,o=this;o.canTap=!1,t=o.contentStartPos.width>o.canvasWidth?o.contentStartPos.left+o.distanceX:o.contentStartPos.left,e=o.contentStartPos.top+o.distanceY,(a=o.limitMovement(t,e,o.contentStartPos.width,o.contentStartPos.height)).scaleX=o.contentStartPos.scaleX,a.scaleY=o.contentStartPos.scaleY,o.contentLastPos=a,o.requestId&&(r(o.requestId),o.requestId=null),o.requestId=i((function(){n.fancybox.setTranslate(o.$content,o.contentLastPos)}))},l.prototype.limitMovement=function(t,e,n,i){var r,a,o,s,c=this.canvasWidth,l=this.canvasHeight,u=this.contentStartPos.left,h=this.contentStartPos.top,d=this.distanceX,f=this.distanceY;return r=Math.max(0,.5*c-.5*n),a=Math.max(0,.5*l-.5*i),o=Math.min(c-n,.5*c-.5*n),s=Math.min(l-i,.5*l-.5*i),n>c&&(d>0&&t>r&&(t=r-1+Math.pow(-r+u+d,.8)||0),d<0&&t<o&&(t=o+1-Math.pow(o-u-d,.8)||0)),i>l&&(f>0&&e>a&&(e=a-1+Math.pow(-a+h+f,.8)||0),f<0&&e<s&&(e=s+1-Math.pow(s-h-f,.8)||0)),{top:e,left:t}},l.prototype.limitPosition=function(t,e,n,i){var r=this.canvasWidth,a=this.canvasHeight;return t=n>r?(t=t>0?0:t)<r-n?r-n:t:Math.max(0,r/2-n/2),{top:e=i>a?(e=e>0?0:e)<a-i?a-i:e:Math.max(0,a/2-i/2),left:t}},l.prototype.onZoom=function(){var e=this,a=e.contentStartPos.width,s=e.contentStartPos.height,c=e.contentStartPos.left,l=e.contentStartPos.top,u=o(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,h=Math.floor(a*u),d=Math.floor(s*u),f=(a-h)*e.percentageOfImageAtPinchPointX,p=(s-d)*e.percentageOfImageAtPinchPointY,g=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),m=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),v=g-e.centerPointStartX,y={top:l+(p+(m-e.centerPointStartY)),left:c+(f+v),scaleX:e.contentStartPos.scaleX*u,scaleY:e.contentStartPos.scaleY*u};e.canTap=!1,e.newWidth=h,e.newHeight=d,e.contentLastPos=y,e.requestId&&(r(e.requestId),e.requestId=null),e.requestId=i((function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)}))},l.prototype.ontouchend=function(t){var i=Math.max((new Date).getTime()-this.startTime,1),o=this.isSwiping,s=this.isPanning,c=this.isZooming;if(this.endPoints=a(t),this.$container.removeClass("fancybox-controls--isGrabbing"),n(e).off(".fb.touch"),this.requestId&&(r(this.requestId),this.requestId=null),this.isSwiping=!1,this.isPanning=!1,this.isZooming=!1,this.canTap)return this.onTap(t);this.speed=366,this.velocityX=this.distanceX/i*.5,this.velocityY=this.distanceY/i*.5,this.speedX=Math.max(.5*this.speed,Math.min(1.5*this.speed,1/Math.abs(this.velocityX)*this.speed)),s?this.endPanning():c?this.endZooming():this.endSwiping(o)},l.prototype.endSwiping=function(t){var e=!1;this.instance.isSliding=!1,this.sliderLastPos=null,"y"==t&&Math.abs(this.distanceY)>50?(n.fancybox.animate(this.instance.current.$slide,{top:this.sliderStartPos.top+this.distanceY+150*this.velocityY,opacity:0},150),e=this.instance.close(!0,300)):"x"==t&&this.distanceX>50&&this.instance.group.length>1?e=this.instance.previous(this.speedX):"x"==t&&this.distanceX<-50&&this.instance.group.length>1&&(e=this.instance.next(this.speedX)),!1!==e||"x"!=t&&"y"!=t||this.instance.jumpTo(this.instance.current.index,150),this.$container.removeClass("fancybox-is-sliding")},l.prototype.endPanning=function(){var t,e,i;this.contentLastPos&&(!1===this.instance.current.opts.touch.momentum?(t=this.contentLastPos.left,e=this.contentLastPos.top):(t=this.contentLastPos.left+this.velocityX*this.speed,e=this.contentLastPos.top+this.velocityY*this.speed),(i=this.limitPosition(t,e,this.contentStartPos.width,this.contentStartPos.height)).width=this.contentStartPos.width,i.height=this.contentStartPos.height,n.fancybox.animate(this.$content,i,330))},l.prototype.endZooming=function(){var t,e,i,r,a=this.instance.current,o=this.newWidth,s=this.newHeight;this.contentLastPos&&(t=this.contentLastPos.left,r={top:e=this.contentLastPos.top,left:t,width:o,height:s,scaleX:1,scaleY:1},n.fancybox.setTranslate(this.$content,r),o<this.canvasWidth&&s<this.canvasHeight?this.instance.scaleToFit(150):o>a.width||s>a.height?this.instance.scaleToActual(this.centerPointStartX,this.centerPointStartY,150):(i=this.limitPosition(t,e,o,s),n.fancybox.setTranslate(this.content,n.fancybox.getTranslate(this.$content)),n.fancybox.animate(this.$content,i,150)))},l.prototype.onTap=function(t){var e,i=this,r=n(t.target),o=i.instance,s=o.current,c=t&&a(t)||i.startPoints,l=c[0]?c[0].x-i.$stage.offset().left:0,u=c[0]?c[0].y-i.$stage.offset().top:0,h=function(e){var r=s.opts[e];if(n.isFunction(r)&&(r=r.apply(o,[s,t])),r)switch(r){case"close":o.close(i.startEvent);break;case"toggleControls":o.toggleControls(!0);break;case"next":o.next();break;case"nextOrClose":o.group.length>1?o.next():o.close(i.startEvent);break;case"zoom":"image"==s.type&&(s.isLoaded||s.$ghost)&&(o.canPan()?o.scaleToFit():o.isScaledDown()?o.scaleToActual(l,u):o.group.length<2&&o.close(i.startEvent))}};if(!(t.originalEvent&&2==t.originalEvent.button||o.isSliding||l>r[0].clientWidth+r.offset().left)){if(r.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))e="Outside";else if(r.is(".fancybox-slide"))e="Slide";else{if(!o.current.$content||!o.current.$content.has(t.target).length)return;e="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(l-i.tapX)>50||Math.abs(u-i.tapY)>50||o.isSliding)return this;h("dblclick"+e)}else i.tapX=l,i.tapY=u,s.opts["dblclick"+e]&&s.opts["dblclick"+e]!==s.opts["click"+e]?i.tapped=setTimeout((function(){i.tapped=null,h("click"+e)}),300):h("click"+e);return this}},n(e).on("onActivate.fb",(function(t,e){e&&!e.Guestures&&(e.Guestures=new l(e))})),n(e).on("beforeClose.fb",(function(t,e){e&&e.Guestures&&e.Guestures.destroy()}))}(window,document,t),function(t,e){"use strict";var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",(function(){t.toggle()})),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(){var t=this;t.instance&&t.instance.current&&(t.instance.current.opts.loop||t.instance.currIndex<t.instance.group.length-1)?t.timer=setTimeout((function(){t.instance.next()}),t.instance.current.opts.slideShow.speed||t.speed):(t.stop(),t.instance.idleSecondsCounter=0,t.instance.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null},start:function(){var t=this.instance.current;this.instance&&t&&(t.opts.loop||t.index<this.instance.group.length-1)&&(this.isActive=!0,this.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"),t.isComplete&&this.set())},stop:function(){var t=this.instance.current;this.clear(),this.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_START).removeClass("fancybox-button--pause"),this.isActive=!1},toggle:function(){this.isActive?this.stop():this.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,i){var r=e&&e.SlideShow;i?r&&n.opts.slideShow.autoStart&&r.start():r&&r.isActive&&r.clear()},"afterShow.fb":function(t,e,n){var i=e&&e.SlideShow;i&&i.isActive&&i.set()},"afterKeydown.fb":function(n,i,r,a,o){var s=i&&i.SlideShow;!s||!r.opts.slideShow||80!==o&&32!==o||e(t.activeElement).is("button,a,input")||(a.preventDefault(),s.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",(function(){var n=e.fancybox.getInstance(),i=n&&n.SlideShow;i&&i.isActive&&(t.hidden?i.clear():i.set())}))}(document,t),function(t,e){"use strict";var n=function(){var e,n,i,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a={};for(n=0;n<r.length;n++)if((e=r[n])&&e[1]in t){for(i=0;i<e.length;i++)a[r[0][i]]=e[i];return a}return!1}();if(n){var i={request:function(e){(e=e||t.documentElement)[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e(t).on({"onInit.fb":function(t,e){var n,r=e.$refs.toolbar.find("[data-fancybox-fullscreen]");e&&!e.FullScreen&&e.group[e.currIndex].opts.fullScreen?((n=e.$refs.container).on("click.fb-fullscreen","[data-fancybox-fullscreen]",(function(t){t.stopPropagation(),t.preventDefault(),i.toggle(n[0])})),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&i.request(n[0]),e.FullScreen=i):r.hide()},"afterKeydown.fb":function(t,e,n,i,r){e&&e.FullScreen&&70===r&&(i.preventDefault(),e.FullScreen.toggle(e.$refs.container[0]))},"beforeClose.fb":function(t){t&&t.FullScreen&&i.exit()}}),e(t).on(n.fullscreenchange,(function(){var t=e.fancybox.getInstance();t.current&&"image"===t.current.type&&t.isAnimating&&(t.current.$content.css("transition","none"),t.isAnimating=!1,t.update(!0,!0,0))}))}else e.fancybox.defaults.btnTpl.fullScreen=!1}(document,t),function(t,e){"use strict";var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var t=this,e=t.instance.group[0],n=t.instance.group[1];t.$button=t.instance.$refs.toolbar.find("[data-fancybox-thumbs]"),t.instance.group.length>1&&t.instance.group[t.instance.currIndex].opts.thumbs&&("image"==e.type||e.opts.thumb||e.opts.$thumb)&&("image"==n.type||n.opts.thumb||n.opts.$thumb)?(t.$button.on("click",(function(){t.toggle()})),t.isActive=!0):(t.$button.hide(),t.isActive=!1)},create:function(){var t,n,i=this.instance;this.$grid=e('<div class="fancybox-thumbs"></div>').appendTo(i.$refs.container),t="<ul>",e.each(i.group,(function(e,i){(n=i.opts.thumb||(i.opts.$thumb?i.opts.$thumb.attr("src"):null))||"image"!==i.type||(n=i.src),n&&n.length&&(t+='<li data-index="'+e+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+n+'" /></li>')})),t+="</ul>",this.$list=e(t).appendTo(this.$grid).on("click","li",(function(){i.jumpTo(e(this).data("index"))})),this.$list.find("img").hide().one("load",(function(){var t,n,i,r,a=e(this).parent().removeClass("fancybox-thumbs-loading"),o=a.outerWidth(),s=a.outerHeight();t=this.naturalWidth||this.width,r=(n=this.naturalHeight||this.height)/s,(i=t/o)>=1&&r>=1&&(i>r?(t/=r,n=s):(t=o,n/=i)),e(this).css({width:Math.floor(t),height:Math.floor(n),"margin-top":Math.min(0,Math.floor(.3*s-.3*n)),"margin-left":Math.min(0,Math.floor(.5*o-.5*t))}).show()})).each((function(){this.src=e(this).data("src")}))},focus:function(){this.instance.current&&this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus()):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.Thumbs&&(e.Thumbs=new n(e))},"beforeShow.fb":function(t,e,n,i){var r=e&&e.Thumbs;if(r&&r.isActive){if(n.modal)return r.$button.hide(),void r.hide();i&&!0===e.opts.thumbs.autoStart&&r.show(),r.isVisible&&r.focus()}},"afterKeydown.fb":function(t,e,n,i,r){var a=e&&e.Thumbs;a&&a.isActive&&71===r&&(i.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==e.opts.thumbs.hideOnClose&&n.close()}})}(document,t),function(t,e,n){"use strict";n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}))});var i=null,r=null;function a(){var t=e.location.hash.substr(1),n=t.split("-"),i=n.length>1&&/^\+?\d+$/.test(n[n.length-1])&&parseInt(n.pop(-1),10)||1;return i<1&&(i=1),{hash:t,index:i,gallery:n.join("-")}}function o(t){var e;""!==t.gallery&&((e=n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1)).length?e.trigger("click"):n("#"+n.escapeSelector(t.gallery)).trigger("click"))}function s(t){var e;return!!t&&((e=t.current?t.current.opts:t.opts).$orig?e.$orig.data("fancybox"):e.hash||"")}n((function(){setTimeout((function(){!1!==n.fancybox.defaults.hash&&(n(t).on({"onInit.fb":function(t,e){var n,i;!1!==e.group[e.currIndex].opts.hash&&(n=a(),(i=s(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,a,o,c){var l;!1!==o.opts.hash&&(l=s(a))&&""!==l&&(e.location.hash.indexOf(l)<0&&(a.opts.origHash=e.location.hash),i=l+(a.group.length>1?"-"+(o.index+1):""),"replaceState"in e.history?(r&&clearTimeout(r),r=setTimeout((function(){e.history[c?"pushState":"replaceState"]({},t.title,e.location.pathname+e.location.search+"#"+i),r=null}),300)):e.location.hash=i)},"beforeClose.fb":function(a,o,c){var l,u;r&&clearTimeout(r),!1!==c.opts.hash&&(l=s(o),u=o&&o.opts.origHash?o.opts.origHash:"",l&&""!==l&&("replaceState"in history?e.history.replaceState({},t.title,e.location.pathname+e.location.search+u):(e.location.hash=u,n(e).scrollTop(o.scrollTop).scrollLeft(o.scrollLeft))),i=null)}}),n(e).on("hashchange.fb",(function(){var t=a();n.fancybox.getInstance()?!i||i===t.gallery+"-"+t.index||1===t.index&&i==t.gallery||(i=null,n.fancybox.close()):""!==t.gallery&&o(t)})),n(e).one("unload.fb popstate.fb",(function(){n.fancybox.getInstance("close",!0,0)})),o(a()))}),50)}))}(document,window,t)}).call(this,n(0))},202:function(t,e,n){(function(t){n(203),window.angular,window.c3;
/**
 * angular-ui-sortable - This directive allows you to jQueryUI Sortable.
 * @version v0.17.2 - 2017-08-17
 * @link http://angular-ui.github.com
 * @license MIT
 */
!function(t,e,n){"use strict";e.module("ui.sortable",[]).value("uiSortableConfig",{items:"> [ng-repeat],> [data-ng-repeat],> [x-ng-repeat]"}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(t,n,i){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"=",create:"&uiSortableCreate",start:"&uiSortableStart",activate:"&uiSortableActivate",beforeStop:"&uiSortableBeforeStop",update:"&uiSortableUpdate",remove:"&uiSortableRemove",receive:"&uiSortableReceive",deactivate:"&uiSortableDeactivate",stop:"&uiSortableStop"},link:function(r,a,o,s){var c,l;function u(t,e){var n="function"==typeof e;return"function"==typeof t&&n?function(){t.apply(this,arguments),e.apply(this,arguments)}:n?e:t}function h(t){var e=t.data("ui-sortable");return e&&"object"==typeof e&&"ui-sortable"===e.widgetFullName?e:null}function d(e,n){return b[e]?("stop"===e&&(n=u(n,(function(){r.$apply()})),n=u(n,g)),n=u(b[e],n)):w[e]&&(n=w[e](n)),n||"items"!==e&&"ui-model-items"!==e||(n=t.items),n}function f(t,n,i){e.forEach(b,(function(t,e){e in v||(v[e]=null)}));var r,a=null;n&&e.forEach(n,(function(n,i){if(!t||!(i in t)){if(i in y)return void(v[i]="ui-floating"===i?"auto":d(i,void 0));r||(r=e.element.ui.sortable().options);var o=r[i];o=d(i,o),a||(a={}),a[i]=o,v[i]=o}}));return e.forEach(t,(function(t,e){if(e in y)return"ui-floating"!==e||!1!==t&&!0!==t||!i||(i.floating=t),void(v[e]=d(e,t));t=d(e,t),a||(a={}),a[e]=t,v[e]=t})),a}function p(t,e){var n=null;return function(t,e){var n=t.sortable("option","helper");return"clone"===n||"function"==typeof n&&e.item.sortable.isCustomHelperUsed()}(t,e)&&"parent"===t.sortable("option","appendTo")&&(n=l),n}function g(t,e){e.item.sortable._destroy()}function m(t){return t.parent().find(v["ui-model-items"]).index(t)}var v={},y={"ui-floating":void 0,"ui-model-items":t.items},b={create:null,start:null,activate:null,beforeStop:null,update:null,remove:null,receive:null,deactivate:null,stop:null},w={helper:null};function _(){r.$watchCollection("ngModel",(function(){n((function(){h(a)&&a.sortable("refresh")}),0,!1)})),b.start=function(t,n){if("auto"===v["ui-floating"]){var i=n.item.siblings();h(e.element(t.target)).floating=/left|right/.test((r=i).css("float"))||/inline|table-cell/.test(r.css("display"))}var r,o=m(n.item);n.item.sortable={model:s.$modelValue[o],index:o,source:a,sourceList:n.item.parent(),sourceModel:s.$modelValue,cancel:function(){n.item.sortable._isCanceled=!0},isCanceled:function(){return n.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!n.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:n.item.sortable._isCustomHelperUsed,_destroy:function(){e.forEach(n.item.sortable,(function(t,e){n.item.sortable[e]=void 0}))},_connectedSortables:[],_getElementContext:function(t){return function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.element[0]===e[0])return i}}(this._connectedSortables,t)}}},b.activate=function(t,n){var i=n.item.sortable.source===a,o=i?n.item.sortable.sourceList:a,s={element:a,scope:r,isSourceContext:i,savedNodesOrigin:o};n.item.sortable._connectedSortables.push(s),c=o.contents(),l=n.helper;var u=function(t){var n=t.sortable("option","placeholder");if(n&&n.element&&"function"==typeof n.element){var i=n.element();return i=e.element(i)}return null}(a);if(u&&u.length){var h=function(t,e){var n=v["ui-model-items"].replace(/[^,]*>/g,"");return t.find('[class="'+e.attr("class")+'"]:not('+n+")")}(a,u);c=c.not(h)}},b.update=function(t,e){if(!e.item.sortable.received){e.item.sortable.dropindex=m(e.item);var n=e.item.parent().closest("[ui-sortable], [data-ui-sortable], [x-ui-sortable]");e.item.sortable.droptarget=n,e.item.sortable.droptargetList=e.item.parent();var i=e.item.sortable._getElementContext(n);e.item.sortable.droptargetModel=i.scope.ngModel,a.sortable("cancel")}var o=!e.item.sortable.received&&p(a,e);o&&o.length&&(c=c.not(o));var l=e.item.sortable._getElementContext(a);c.appendTo(l.savedNodesOrigin),e.item.sortable.received&&(c=null),e.item.sortable.received&&!e.item.sortable.isCanceled()&&(r.$apply((function(){s.$modelValue.splice(e.item.sortable.dropindex,0,e.item.sortable.moved)})),r.$emit("ui-sortable:moved",e))},b.stop=function(t,n){var i="dropindex"in n.item.sortable&&!n.item.sortable.isCanceled();if(i&&!n.item.sortable.received)r.$apply((function(){s.$modelValue.splice(n.item.sortable.dropindex,0,s.$modelValue.splice(n.item.sortable.index,1)[0])})),r.$emit("ui-sortable:moved",n);else if(!i&&!e.equals(a.contents().toArray(),c.toArray())){var o=p(a,n);o&&o.length&&(c=c.not(o));var u=n.item.sortable._getElementContext(a);c.appendTo(u.savedNodesOrigin)}c=null,l=null},b.receive=function(t,e){e.item.sortable.received=!0},b.remove=function(t,e){"dropindex"in e.item.sortable||(a.sortable("cancel"),e.item.sortable.cancel()),e.item.sortable.isCanceled()||r.$apply((function(){e.item.sortable.moved=s.$modelValue.splice(e.item.sortable.index,1)[0]}))},e.forEach(b,(function(t,e){b[e]=u(b[e],(function(){var t,n=r[e];"function"==typeof n&&("uiSortable"+e.substring(0,1).toUpperCase()+e.substring(1)).length&&"function"==typeof(t=n())&&t.apply(this,arguments)}))})),w.helper=function(t){return t&&"function"==typeof t?function(n,i){var r=i.sortable,o=m(i);i.sortable={model:s.$modelValue[o],index:o,source:a,sourceList:i.parent(),sourceModel:s.$modelValue,_restore:function(){e.forEach(i.sortable,(function(t,e){i.sortable[e]=void 0})),i.sortable=r}};var c=t.apply(this,arguments);return i.sortable._restore(),i.sortable._isCustomHelperUsed=i!==c,c}:t},r.$watchCollection("uiSortable",(function(t,e){var n=h(a);if(n){var i=f(t,e,n);i&&a.sortable("option",i)}}),!0),f(v)}function x(){return(!r.uiSortable||!r.uiSortable.disabled)&&(s?_():i.info("ui.sortable: ngModel not provided!",a),a.sortable(v),x.cancelWatcher(),x.cancelWatcher=e.noop,!0)}e.extend(v,y,t,r.uiSortable),e.element.fn&&e.element.fn.jquery?(x.cancelWatcher=e.noop,x()||(x.cancelWatcher=r.$watch("uiSortable.disabled",x))):i.error("ui.sortable: jQuery should be included before AngularJS!")}}}])}(window,window.angular)}).call(this,n(0))},203:function(t,e,n){(function(i){var r,a,o;window.angular,window.c3;a=[n(0),n(204),n(205),n(79),n(206),n(16),n(80)],void 0===(o="function"==typeof(r=function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,a=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,a.widgetName+"-item")===a)return i=t(this),!1})),t.data(e.target,a.widgetName+"-item")===a&&(i=t(e.target)),!i||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each((function(){this===e.target&&(r=!0)})),!r)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,n,i){var r,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,a,o=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(a=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===a?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,(function(){i._clear(e)}))}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each((function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))})),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each((function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")})),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,a=t.left,o=a+t.width,s=t.top,c=s+t.height,l=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+l>s&&i+l<c,d="y"===this.options.axis||e+u>a&&e+u<o,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:a<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<c},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,a,o=[],s=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(i=(r=t(c[n],this.document[0])).length-1;i>=0;i--)(a=t.data(r[i],this.widgetFullName))&&a!==this&&!a.options.disabled&&s.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);function l(){o.push(this)}for(s.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(l);return t(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,a,o,s,c,l,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(i=(r=t(d[n],this.document[0])).length-1;i>=0;i--)(a=t.data(r[i],this.widgetFullName))&&a!==this&&!a.options.disabled&&(h.push([t.isFunction(a.options.items)?a.options.items.call(a.element[0],e,{item:this.currentItem}):t(a.options.items,a.element),a]),this.containers.push(a));for(n=h.length-1;n>=0;n--)for(o=h[n][1],i=0,l=(s=h[n][0]).length;i<l;i++)(c=t(s[i])).data(this.widgetName+"-item",o),u.push({item:c,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,a;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),a=r.offset(),i.left=a.left,i.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)a=this.containers[n].element.offset(),this.containers[n].containerCache.left=a.left,this.containers[n].containerCache.top=a.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each((function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(e){var n,i,r,a,o,s,c,l,u,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,a=null,o=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",s=u?"width":"height",h=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(c=this.items[i].item.offset()[o],l=!1,e[h]-c>this.items[i][s]/2&&(l=!0),Math.abs(e[h]-c)<r&&(r=Math.abs(e[h]-c),a=this.items[i],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,a=e.pageX,o=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0],a=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():c?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():c?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!i)}))},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(i.push((function(t){this._trigger("remove",t,this._uiHash())})),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})})?r.apply(e,a):r)||(t.exports=o)}).call(this,n(0))},204:function(t,e,n){(function(i){var r,a,o;window.angular,window.c3;a=[n(0),n(79),n(16),n(80)],void 0===(o="function"==typeof(r=function(t){var e=!1;return t(document).on("mouseup",(function(){e=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,a=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(r&&!a&&this._mouseCapture(n)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?r.apply(e,a):r)||(t.exports=o)}).call(this,n(0))},205:function(t,e,n){(function(i){var r,a,o;window.angular,window.c3;a=[n(0),n(16)],void 0===(o="function"==typeof(r=function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(n){return!!t.data(n,e)}})):function(e,n,i){return!!t.data(e,i[3])}})})?r.apply(e,a):r)||(t.exports=o)}).call(this,n(0))},206:function(t,e,n){(function(i){var r,a,o;window.angular,window.c3;a=[n(0),n(16)],void 0===(o="function"==typeof(r=function(t){return t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter((function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==n&&a.length?a:t(this[0].ownerDocument||document)}})?r.apply(e,a):r)||(t.exports=o)}).call(this,n(0))},209:function(t,e,n){(function(e,i){window.angular,window.c3;t.exports=i.c3=n(210)}).call(this,n(0),n(7))},210:function(t,e,n){t.exports=function(){"use strict";var t,e,i={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t){return t||0===t},o=function(t){return"function"==typeof t},s=function(t){return Array.isArray(t)},c=function(t){return"string"==typeof t},l=function(t){return void 0===t},u=function(t){return void 0!==t},h=function(t){return 10*Math.ceil(t/10)},d=function(t){return Math.ceil(t)+.5},f=function(t){return t[1]-t[0]},p=function(t){return null==t||c(t)&&0===t.length||"object"===(void 0===t?"undefined":r(t))&&0===Object.keys(t).length},g=function(t){return!k.isEmpty(t)},m=function(t,e,n){return u(t[e])?t[e]:n},v=function(t,e){var n=!1;return Object.keys(t).forEach((function(i){t[i]===e&&(n=!0)})),n},y=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},b=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:e.width,height:e.height}};function w(t,e){this.component=t,this.params=e||{},this.d3=t.d3,this.scale=this.d3.scale.linear(),this.range,this.orient="bottom",this.innerTickSize=6,this.outerTickSize=this.params.withOuterTick?6:0,this.tickPadding=3,this.tickValues=null,this.tickFormat,this.tickArguments,this.tickOffset=0,this.tickCulling=!0,this.tickCentered,this.tickTextCharSize,this.tickTextRotate=this.params.tickTextRotate,this.tickLength,this.axis=this.generateAxis()}(e=w.prototype).axisX=function(t,e,n){t.attr("transform",(function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"}))},e.axisY=function(t,e){t.attr("transform",(function(t){return"translate(0,"+Math.ceil(e(t))+")"}))},e.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},e.generateTicks=function(t){var e,n,i=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)i.push(e);return i.length>0&&i[0]>0&&i.unshift(i[0]-(i[1]-i[0])),i},e.copyScale=function(){var t,e=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),e.domain([t[0],t[1]-1])),e},e.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:""},e.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range()),this.range},e.updateTickTextCharSize=function(t){var e=this;if(e.tickTextCharSize)return e.tickTextCharSize;var n={h:11.5,w:5.5};return t.select("text").text((function(t){return e.textFormatted(t)})).each((function(t){var i=this.getBoundingClientRect(),r=e.textFormatted(t),a=i.height,o=r?i.width/r.length:void 0;a&&o&&(n.h=a,n.w=o)})).text(""),e.tickTextCharSize=n,n},e.transitionise=function(t){return this.params.withoutTransition?t:this.d3.transition(t)},e.isVertical=function(){return"left"===this.orient||"right"===this.orient},e.tspanData=function(t,e,n,i){var r=this.params.tickMultiline?this.splitTickText(t,n,i):[].concat(this.textFormatted(t));return r.map((function(t){return{index:e,splitted:t,length:r.length}}))},e.splitTickText=function(t,e,n){var i,r,a,o=this,s=o.textFormatted(t),c=o.params.tickWidth;return"[object Array]"===Object.prototype.toString.call(s)?s:((!c||c<=0)&&(c=o.isVertical()?95:o.params.isCategory?Math.ceil(n(e[1])-n(e[0]))-12:110),function t(e,n){r=void 0;for(var s=1;s<n.length;s++)if(" "===n.charAt(s)&&(r=s),i=n.substr(0,s+1),a=o.tickTextCharSize.w*i.length,c<a)return t(e.concat(n.substr(0,r||s)),n.slice(r?r+1:s));return e.concat(n)}([],s+""))},e.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},e.lineY2=function(t){var e=this.scale(t)+(this.tickCentered?0:this.tickOffset);return this.range[0]<e&&e<this.range[1]?this.innerTickSize:0},e.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(t>0?1:-1):this.tickLength},e.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},e.textTextAnchor=function(){var t=this.tickTextRotate;return t?t>0?"start":"end":"middle"},e.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},e.tspanDy=function(t,e){var n=this.tickTextCharSize.h;return 0===e&&(n=this.isVertical()?-((t.length-1)*(this.tickTextCharSize.h/2)-3):".71em"),n},e.generateAxis=function(){var t=this,e=t.d3,n=t.params;function i(r){r.each((function(){var r,a,o,s=i.g=e.select(this),c=this.__chart__||t.scale,l=this.__chart__=t.copyScale(),u=t.tickValues?t.tickValues:t.generateTicks(l),h=s.selectAll(".tick").data(u,l),d=h.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),f=h.exit().remove(),p=t.transitionise(h).style("opacity",1);n.isCategory?(t.tickOffset=Math.ceil((l(1)-l(0))/2),a=t.tickCentered?0:t.tickOffset,o=t.tickCentered?t.tickOffset:0):t.tickOffset=a=0,d.append("line"),d.append("text"),t.updateRange(),t.updateTickLength(),t.updateTickTextCharSize(s.select(".tick"));var g=p.select("line"),m=p.select("text"),v=h.select("text").selectAll("tspan").data((function(e,n){return t.tspanData(e,n,u,l)}));v.enter().append("tspan"),v.exit().remove(),v.text((function(t){return t.splitted}));var y=s.selectAll(".domain").data([0]),b=(y.enter().append("path").attr("class","domain"),t.transitionise(y));switch(t.orient){case"bottom":r=t.axisX,g.attr("x1",a).attr("x2",a).attr("y2",(function(e,n){return t.lineY2(e,n)})),m.attr("x",0).attr("y",(function(e,n){return t.textY(e,n)})).attr("transform",(function(e,n){return t.textTransform(e,n)})).style("text-anchor",(function(e,n){return t.textTextAnchor(e,n)})),v.attr("x",0).attr("dy",(function(e,n){return t.tspanDy(e,n)})).attr("dx",(function(e,n){return t.tspanDx(e,n)})),b.attr("d","M"+t.range[0]+","+t.outerTickSize+"V0H"+t.range[1]+"V"+t.outerTickSize);break;case"top":r=t.axisX,g.attr("x2",0).attr("y2",-t.innerTickSize),m.attr("x",0).attr("y",-t.tickLength).style("text-anchor","middle"),v.attr("x",0).attr("dy","0em"),b.attr("d","M"+t.range[0]+","+-t.outerTickSize+"V0H"+t.range[1]+"V"+-t.outerTickSize);break;case"left":r=t.axisY,g.attr("x2",-t.innerTickSize).attr("y1",o).attr("y2",o),m.attr("x",-t.tickLength).attr("y",t.tickOffset).style("text-anchor","end"),v.attr("x",-t.tickLength).attr("dy",(function(e,n){return t.tspanDy(e,n)})),b.attr("d","M"+-t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+-t.outerTickSize);break;case"right":r=t.axisY,g.attr("x2",t.innerTickSize).attr("y2",0),m.attr("x",t.tickLength).attr("y",0).style("text-anchor","start"),v.attr("x",t.tickLength).attr("dy",(function(e,n){return t.tspanDy(e,n)})),b.attr("d","M"+t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+t.outerTickSize)}if(l.rangeBand){var w=l,_=w.rangeBand()/2;c=l=function(t){return w(t)+_}}else c.rangeBand?c=l:f.call(r,l,t.tickOffset);d.call(r,c,t.tickOffset),p.call(r,l,t.tickOffset)}))}return i.scale=function(e){return arguments.length?(t.scale=e,i):t.scale},i.orient=function(e){return arguments.length?(t.orient=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",i):t.orient},i.tickFormat=function(e){return arguments.length?(t.tickFormat=e,i):t.tickFormat},i.tickCentered=function(e){return arguments.length?(t.tickCentered=e,i):t.tickCentered},i.tickOffset=function(){return t.tickOffset},i.tickInterval=function(){var e;return(e=n.isCategory?2*t.tickOffset:(i.g.select("path.domain").node().getTotalLength()-2*t.outerTickSize)/i.g.selectAll("line").size())==1/0?0:e},i.ticks=function(){return arguments.length?(t.tickArguments=arguments,i):t.tickArguments},i.tickCulling=function(e){return arguments.length?(t.tickCulling=e,i):t.tickCulling},i.tickValues=function(e){if("function"==typeof e)t.tickValues=function(){return e(t.scale.domain())};else{if(!arguments.length)return t.tickValues;t.tickValues=e}return i},i};var _=function(n){function i(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var r={fn:t,internal:{fn:e}},a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,"axis",r));return a.d3=n.d3,a.internal=w,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),i}((function(t,e,n){this.owner=t,S.chart.internal[e]=n}));(t=_.prototype).init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",i.axis+" "+i.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",i.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",i.axis+" "+i.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",i.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",i.axis+" "+i.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",i.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},t.getXAxis=function(t,e,n,i,r,a,o){var s=this.owner,c=s.config,l={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:c.axis_x_tick_multiline,tickWidth:c.axis_x_tick_width,tickTextRotate:o?0:c.axis_x_tick_rotate,withoutTransition:a},u=new this.internal(this,l).axis.scale(t).orient(e);return s.isTimeSeries()&&i&&"function"!=typeof i&&(i=i.map((function(t){return s.parseDate(t)}))),u.tickFormat(n).tickValues(i),s.isCategorized()&&(u.tickCentered(c.axis_x_tick_centered),p(c.axis_x_tick_culling)&&(c.axis_x_tick_culling=!1)),u},t.updateXAxisTickValues=function(t,e){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),r.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},t.getYAxis=function(t,e,n,i,r,a,o){var s=this.owner,c=s.config,l={withOuterTick:r,withoutTransition:a,tickTextRotate:o?0:c.axis_y_tick_rotate},u=new this.internal(this,l).axis.scale(t).orient(e).tickFormat(n);return s.isTimeSeriesY()?u.ticks(s.d3.time[c.axis_y_tick_time_value],c.axis_y_tick_time_interval):u.tickValues(i),u},t.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},t.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t<0?t.toFixed(0):t};return e.axis_x_tick_format&&(o(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),o(n)?function(e){return n.call(t,e)}:n},t.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},t.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},t.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},t.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},t.getLabelOptionByAxisId=function(t){var e,n=this.owner.config;return"y"===t?e=n.axis_y_label:"y2"===t?e=n.axis_y2_label:"x"===t&&(e=n.axis_x_label),e},t.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return c(e)?e:e?e.text:null},t.setLabelText=function(t,e){var n=this.owner.config,i=this.getLabelOptionByAxisId(t);c(i)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):i&&(i.text=e)},t.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=n&&"object"===(void 0===n?"undefined":r(n))&&n.position?n.position:e;return{isInner:i.indexOf("inner")>=0,isOuter:i.indexOf("outer")>=0,isLeft:i.indexOf("left")>=0,isCenter:i.indexOf("center")>=0,isRight:i.indexOf("right")>=0,isTop:i.indexOf("top")>=0,isMiddle:i.indexOf("middle")>=0,isBottom:i.indexOf("bottom")>=0}},t.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},t.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},t.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},t.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},t.textForXAxisLabel=function(){return this.getLabelText("x")},t.textForYAxisLabel=function(){return this.getLabelText("y")},t.textForY2AxisLabel=function(){return this.getLabelText("y2")},t.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},t.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},t.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},t.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.dyForXAxisLabel=function(){var t=this.owner.config,e=this.getXAxisLabelPosition();return t.axis_rotated?e.isInner?"1.2em":-25-this.getMaxTickWidth("x"):e.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},t.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},t.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},t.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},t.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},t.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},t.getMaxTickWidth=function(t,e){var n,i,r,a,o=this.owner,s=o.config,c=0;return e&&o.currentMaxTickWidths[t]||(o.svg&&(n=o.filterTargetsToShow(o.data.targets),"y"===t?(i=o.y.copy().domain(o.getYDomain(n,"y")),r=this.getYAxis(i,o.yOrient,s.axis_y_tick_format,o.yAxisTickValues,!1,!0,!0)):"y2"===t?(i=o.y2.copy().domain(o.getYDomain(n,"y2")),r=this.getYAxis(i,o.y2Orient,s.axis_y2_tick_format,o.y2AxisTickValues,!1,!0,!0)):(i=o.x.copy().domain(o.getXDomain(n)),r=this.getXAxis(i,o.xOrient,o.xAxisTickFormat,o.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),(a=o.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(r).each((function(){o.d3.select(this).selectAll("text").each((function(){var t=this.getBoundingClientRect();c<t.width&&(c=t.width)})),a.remove()}))),o.currentMaxTickWidths[t]=c<=0?o.currentMaxTickWidths[t]:c),o.currentMaxTickWidths[t]},t.updateLabels=function(t){var e=this.owner,n=e.main.select("."+i.axisX+" ."+i.axisXLabel),r=e.main.select("."+i.axisY+" ."+i.axisYLabel),a=e.main.select("."+i.axisY2+" ."+i.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?a.transition():a).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},t.getPadding=function(t,e,n,i){var r="number"==typeof t?t:t[e];return a(r)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(r,i):n},t.convertPixelsToAxisPadding=function(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},t.generateTickValues=function(t,e,n){var i,r,a,s,c,l,u,h=t;if(e)if(1===(i=o(e)?e():e))h=[t[0]];else if(2===i)h=[t[0],t[t.length-1]];else if(i>2){for(s=i-2,r=t[0],c=((a=t[t.length-1])-r)/(s+1),h=[r],l=0;l<s;l++)u=+r+c*(l+1),h.push(n?new Date(u):u);h.push(a)}return n||(h=h.sort((function(t,e){return t-e}))),h},t.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},t.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)};var x,k,S={version:"0.4.18"};function C(t){var e=this.internal=new T(this);e.loadConfig(t),e.beforeInit(t),e.init(),e.afterInit(t),function t(e,n,i){Object.keys(e).forEach((function(r){n[r]=e[r].bind(i),Object.keys(e[r]).length>0&&t(e[r],n[r],i)}))}(x,this,this)}function T(t){var e=this;e.d3=window.d3?window.d3:n(211),e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}return S.generate=function(t){return new C(t)},S.chart={fn:C.prototype,internal:{fn:T.prototype}},x=S.chart.fn,(k=S.chart.internal.fn).beforeInit=function(){},k.afterInit=function(){},k.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},k.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},k.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},k.initWithData=function(t){var e,n,r=this,a=r.d3,o=r.config,s=!0;r.axis=new _(r),r.initPie&&r.initPie(),r.initBrush&&r.initBrush(),r.initZoom&&r.initZoom(),o.bindto?"function"==typeof o.bindto.node?r.selectChart=o.bindto:r.selectChart=a.select(o.bindto):r.selectChart=a.selectAll([]),r.selectChart.empty()&&(r.selectChart=a.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),s=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(t),o.data_filter&&(r.data.targets=r.data.targets.filter(o.data_filter)),o.data_hide&&r.addHiddenTargetIds(!0===o.data_hide?r.mapToIds(r.data.targets):o.data_hide),o.legend_hide&&r.addHiddenLegendIds(!0===o.legend_hide?r.mapToIds(r.data.targets):o.legend_hide),r.hasType("gauge")&&(o.legend_show=!1),r.updateSizes(),r.updateScales(),r.x.domain(a.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.brush&&r.brush.scale(r.subX),o.zoom_enabled&&r.zoom.scale(r.x),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",(function(){return o.onmouseover.call(r)})).on("mouseleave",(function(){return o.onmouseout.call(r)})),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),e=r.svg.append("defs"),r.clipChart=r.appendClip(e,r.clipId),r.clipXAxis=r.appendClip(e,r.clipIdForXAxis),r.clipYAxis=r.appendClip(e,r.clipIdForYAxis),r.clipGrid=r.appendClip(e,r.clipIdForGrid),r.clipSubchart=r.appendClip(e,r.clipIdForSubchart),r.updateSvgSize(),n=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),n.append("text").attr("class",i.text+" "+i.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),n.append("g").attr("clip-path",r.clipPath).attr("class",i.chart),o.grid_lines_front&&r.initGridLines(),r.initEventRect(),r.initChartElements(),n.insert("rect",o.zoom_privileged?null:"g."+i.regions).attr("class",i.zoomRect).attr("width",r.width).attr("height",r.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&r.brush.extent(r.getDefaultExtent()),r.axis.init(),r.updateTargets(r.data.targets),s&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.api.element=r.selectChart.node()},k.smoothLines=function(t,e){var n=this;"grid"===e&&t.each((function(){var t=n.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),r=t.attr("y1"),a=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(r),y2:Math.ceil(a)})}))},k.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:n,a=t.hasArcType(),o=e.axis_rotated||a?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!a?e.subchart_size_height+o:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(a?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:o+s+r+t.getCurrentPaddingBottom(),left:a?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:NaN,bottom:o+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&a&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},k.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},k.showTargets=function(){var t=this;t.svg.selectAll("."+i.target).filter((function(e){return t.isTargetToShow(e.id)})).transition().duration(t.config.transition_duration).style("opacity",1)},k.redraw=function(t,e){var n,r,a,o,s,c,l,u,h,d,f,p,g,v,y,b,w,_,x,k,S,C,T,P,A,D,E,L,M,I=this,O=I.main,$=I.d3,j=I.config,R=I.getShapeIndices(I.isAreaType),F=I.getShapeIndices(I.isBarType),N=I.getShapeIndices(I.isLineType),V=I.hasArcType(),H=I.filterTargetsToShow(I.data.targets),z=I.xv.bind(I);if(n=m(t=t||{},"withY",!0),r=m(t,"withSubchart",!0),a=m(t,"withTransition",!0),c=m(t,"withTransform",!1),l=m(t,"withUpdateXDomain",!1),u=m(t,"withUpdateOrgXDomain",!1),h=m(t,"withTrimXDomain",!0),g=m(t,"withUpdateXAxis",l),d=m(t,"withLegend",!1),f=m(t,"withEventRect",!0),p=m(t,"withDimension",!0),o=m(t,"withTransitionForExit",a),s=m(t,"withTransitionForAxis",a),x=a?j.transition_duration:0,k=o?x:0,S=s?x:0,e=e||I.axis.generateTransitions(S),d&&j.legend_show?I.updateLegend(I.mapToIds(I.data.targets),t,e):p&&I.updateDimension(!0),I.isCategorized()&&0===H.length&&I.x.domain([0,I.axes.x.selectAll(".tick").size()]),H.length?(I.updateXDomain(H,l,u,h),j.axis_x_tick_values||(P=I.axis.updateXAxisTickValues(H))):(I.xAxis.tickValues([]),I.subXAxis.tickValues([])),j.zoom_rescale&&!t.flow&&(E=I.x.orgDomain()),I.y.domain(I.getYDomain(H,"y",E)),I.y2.domain(I.getYDomain(H,"y2",E)),!j.axis_y_tick_values&&j.axis_y_tick_count&&I.yAxis.tickValues(I.axis.generateTickValues(I.y.domain(),j.axis_y_tick_count)),!j.axis_y2_tick_values&&j.axis_y2_tick_count&&I.y2Axis.tickValues(I.axis.generateTickValues(I.y2.domain(),j.axis_y2_tick_count)),I.axis.redraw(e,V),I.axis.updateLabels(a),(l||g)&&H.length)if(j.axis_x_tick_culling&&P){for(A=1;A<P.length;A++)if(P.length/A<j.axis_x_tick_culling_max){D=A;break}I.svg.selectAll("."+i.axisX+" .tick text").each((function(t){var e=P.indexOf(t);e>=0&&$.select(this).style("display",e%D?"none":"block")}))}else I.svg.selectAll("."+i.axisX+" .tick text").style("display","block");v=I.generateDrawArea?I.generateDrawArea(R,!1):void 0,y=I.generateDrawBar?I.generateDrawBar(F):void 0,b=I.generateDrawLine?I.generateDrawLine(N,!1):void 0,w=I.generateXYForText(R,F,N,!0),_=I.generateXYForText(R,F,N,!1),n&&(I.subY.domain(I.getYDomain(H,"y")),I.subY2.domain(I.getYDomain(H,"y2"))),I.updateXgridFocus(),O.select("text."+i.text+"."+i.empty).attr("x",I.width/2).attr("y",I.height/2).text(j.data_empty_label_text).transition().style("opacity",H.length?0:1),I.updateGrid(x),I.updateRegion(x),I.updateBar(k),I.updateLine(k),I.updateArea(k),I.updateCircle(),I.hasDataLabel()&&I.updateText(k),I.redrawTitle&&I.redrawTitle(),I.redrawArc&&I.redrawArc(x,k,c),I.redrawSubchart&&I.redrawSubchart(r,e,x,k,R,F,N),O.selectAll("."+i.selectedCircles).filter(I.isBarType.bind(I)).selectAll("circle").remove(),j.interaction_enabled&&!t.flow&&f&&(I.redrawEventRect(),I.updateZoom&&I.updateZoom()),I.updateCircleY(),L=(I.config.axis_rotated?I.circleY:I.circleX).bind(I),M=(I.config.axis_rotated?I.circleX:I.circleY).bind(I),t.flow&&(T=I.generateFlow({targets:H,flow:t.flow,duration:t.flow.duration,drawBar:y,drawLine:b,drawArea:v,cx:L,cy:M,xv:z,xForText:w,yForText:_})),(x||T)&&I.isTabVisible()?$.transition().duration(x).each((function(){var e=[];[I.redrawBar(y,!0),I.redrawLine(b,!0),I.redrawArea(v,!0),I.redrawCircle(L,M,!0),I.redrawText(w,_,t.flow,!0),I.redrawRegion(!0),I.redrawGrid(!0)].forEach((function(t){t.forEach((function(t){e.push(t)}))})),C=I.generateWait(),e.forEach((function(t){C.add(t)}))})).call(C,(function(){T&&T(),j.onrendered&&j.onrendered.call(I)})):(I.redrawBar(y),I.redrawLine(b),I.redrawArea(v),I.redrawCircle(L,M),I.redrawText(w,_,t.flow),I.redrawRegion(),I.redrawGrid(),j.onrendered&&j.onrendered.call(I)),I.mapToIds(I.data.targets).forEach((function(t){I.withoutFadeIn[t]=!0}))},k.updateAndRedraw=function(t){var e,n=this,i=n.config;(t=t||{}).withTransition=m(t,"withTransition",!0),t.withTransform=m(t,"withTransform",!1),t.withLegend=m(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=m(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&i.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},k.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},k.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},k.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},k.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||g(t.data_xs))},k.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},k.getTranslate=function(t){var e,n,i=this,r=i.config;return"main"===t?(e=d(i.margin.left),n=d(i.margin.top)):"context"===t?(e=d(i.margin2.left),n=d(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=r.axis_rotated?0:i.height):"y"===t?(e=0,n=r.axis_rotated?i.height:0):"y2"===t?(e=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===t?(e=0,n=r.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2),"translate("+e+","+n+")"},k.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},k.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},k.opacityForCircle=function(t){var e=(o(this.config.point_show)?this.config.point_show(t):this.config.point_show)?1:0;return a(t.value)?this.isScatterType(t)?.5:e:0},k.opacityForText=function(){return this.hasDataLabel()?1:0},k.xx=function(t){return t?this.x(t.x):null},k.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},k.yv=function(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(t.value))},k.subxx=function(t){return t?this.subX(t.x):null},k.transformMain=function(t,e){var n,r,a,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+i.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=o.main.select("."+i.axisY),t&&(r=r.transition())),e&&e.axisY2?a=e.axisY2:(a=o.main.select("."+i.axisY2),t&&(a=a.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),r.attr("transform",o.getTranslate("y")),a.attr("transform",o.getTranslate("y2")),o.main.select("."+i.chartArcs).attr("transform",o.getTranslate("arc"))},k.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},k.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+i.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},k.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},k.observeInserted=function(t){var e,n=this;"undefined"!=typeof MutationObserver?(e=new MutationObserver((function(i){i.forEach((function(i){"childList"===i.type&&i.previousSibling&&(e.disconnect(),n.intervalForObserveInserted=window.setInterval((function(){t.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))}),10))}))}))).observe(t.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},k.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add((function(){e.onresize.call(t)})),e.resize_auto&&t.resizeFunction.add((function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout((function(){delete t.resizeTimeout,t.api.flush()}),100)})),t.resizeFunction.add((function(){e.onresized.call(t)})),window.attachEvent)window.attachEvent("onresize",t.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",t.resizeFunction,!1);else{var n=window.onresize;n?n.add&&n.remove||(n=t.generateResize()).add(window.onresize):n=t.generateResize(),n.add(t.resizeFunction),window.onresize=n}},k.generateResize=function(){var t=[];function e(){t.forEach((function(t){t()}))}return e.add=function(e){t.push(e)},e.remove=function(e){for(var n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}},e},k.endall=function(t,e){var n=0;t.each((function(){++n})).each("end",(function(){--n||e.apply(this,arguments)}))},k.generateWait=function(){var t=[],e=function(e,n){var i=setInterval((function(){var e=0;t.forEach((function(t){if(t.empty())e+=1;else try{t.transition()}catch(t){e+=1}})),e===t.length&&(clearInterval(i),n&&n())}),10)};return e.add=function(e){t.push(e)},e},k.parseDate=function(t){var e;return t instanceof Date?e=t:"string"==typeof t?e=this.dataTimeFormat(this.config.data_xFormat).parse(t):"object"===(void 0===t?"undefined":r(t))?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},k.isTabVisible=function(){var t;return void 0!==document.hidden?t="hidden":void 0!==document.mozHidden?t="mozHidden":void 0!==document.msHidden?t="msHidden":void 0!==document.webkitHidden&&(t="webkitHidden"),!document[t]},k.isValue=a,k.isFunction=o,k.isString=c,k.isUndefined=l,k.isDefined=u,k.ceil10=h,k.asHalfPixel=d,k.diffDomain=f,k.isEmpty=p,k.notEmpty=g,k.notEmpty=g,k.getOption=m,k.hasValue=v,k.sanitise=y,k.getPathBox=b,k.CLASS=i,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,a,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=a,this._y2=o},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,i,r,a,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=a,this._y2=o},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,i,r,a,o,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=a,this._largeArcFlag=o,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,i,r,a,o,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=a,this._largeArcFlag=o,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,a){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,i,r,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,r,a){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,i,r,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,r,a,o){return new window.SVGPathSegArcAbs(void 0,t,e,n,i,r,a,o)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,r,a,o){return new window.SVGPathSegArcRel(void 0,t,e,n,i,r,a,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach((function(t){"d"==t.attributeName&&(e=!0)})),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach((function(t){t._owningPathSegList=null})),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach((function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()})),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(t){this.pathSegList.push(t)};var i=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},i.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var t=0,e=0,n=1,i=0,r=1,a=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var c=this._currentIndex-1,l=1;c>=s;)e+=l*(this._string.charAt(c--)-"0"),l*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n*=10,i+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,a=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=e+i;if(u*=r,t&&(u*=Math.pow(10,a*t)),o!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},i.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((n=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var r=new n,a=new i(t);if(!a.initialCommandIsMoveTo())return[];for(;a.hasMoreData();){var o=a.parseSegment();if(!o)return[];r.appendSegment(o)}return r.pathSegList}),x.axis=function(){},x.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach((function(n){e.axis.setLabelText(n,t[n])})),e.axis.updateLabels())},x.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"===(void 0===t?"undefined":r(t))?(a(t.x)&&(n.axis_x_max=t.x),a(t.y)&&(n.axis_y_max=t.y),a(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},x.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"===(void 0===t?"undefined":r(t))?(a(t.x)&&(n.axis_x_min=t.x),a(t.y)&&(n.axis_y_min=t.y),a(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},x.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};u(t.max)&&this.axis.max(t.max),u(t.min)&&this.axis.min(t.min)},x.category=function(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},x.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},x.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},x.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},x.destroy=function(){var t=this.internal;if(window.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),window.detachEvent)window.detachEvent("onresize",t.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",t.resizeFunction);else{var e=window.onresize;e&&e.add&&e.remove&&e.remove(t.resizeFunction)}return t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach((function(e){t[e]=null})),null},x.color=function(t){return this.internal.color(t)},x.data=function(t){var e=this.internal.data.targets;return void 0===t?e:e.filter((function(e){return[].concat(t).indexOf(e.id)>=0}))},x.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},x.data.values=function(t){var e,n=null;return t&&(n=(e=this.data(t))[0]?e[0].values.map((function(t){return t.value})):null),n},x.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},x.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},x.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},x.flow=function(t){var e,n,i,r,o,s,c,l=this.internal,h=[],d=l.getMaxDataCount(),f=0,p=0;if(t.json)n=l.convertJsonToData(t.json,t.keys);else if(t.rows)n=l.convertRowsToData(t.rows);else{if(!t.columns)return;n=l.convertColumnsToData(t.columns)}e=l.convertDataToTargets(n,!0),l.data.targets.forEach((function(t){var n,i,r=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(r=!0,t.values[t.values.length-1]&&(p=t.values[t.values.length-1].index+1),f=e[n].values.length,i=0;i<f;i++)e[n].values[i].index=p+i,l.isTimeSeries()||(e[n].values[i].x=p+i);t.values=t.values.concat(e[n].values),e.splice(n,1);break}r||h.push(t.id)})),l.data.targets.forEach((function(t){var e,n;for(e=0;e<h.length;e++)if(t.id===h[e])for(p=t.values[t.values.length-1].index+1,n=0;n<f;n++)t.values.push({id:t.id,index:p+n,x:l.isTimeSeries()?l.getOtherTargetX(p+n):p+n,value:null})})),l.data.targets.length&&e.forEach((function(t){var e,n=[];for(e=l.data.targets[0].values[0].index;e<p;e++)n.push({id:t.id,index:e,x:l.isTimeSeries()?l.getOtherTargetX(e):e,value:null});t.values.forEach((function(t){t.index+=p,l.isTimeSeries()||(t.x+=p)})),t.values=n.concat(t.values)})),l.data.targets=l.data.targets.concat(e),l.getMaxDataCount(),o=(r=l.data.targets[0]).values[0],u(t.to)?(f=0,c=l.isTimeSeries()?l.parseDate(t.to):t.to,r.values.forEach((function(t){t.x<c&&f++}))):u(t.length)&&(f=t.length),d?1===d&&l.isTimeSeries()&&(s=(r.values[r.values.length-1].x-o.x)/2,i=[new Date(+o.x-s),new Date(+o.x+s)],l.updateXDomain(null,!0,!0,!1,i)):(s=l.isTimeSeries()?r.values.length>1?r.values[r.values.length-1].x-o.x:o.x-l.getXDomain(l.data.targets)[0]:1,i=[o.x-s,o.x],l.updateXDomain(null,!0,!0,!1,i)),l.updateTargets(l.data.targets),l.redraw({flow:{index:o.index,length:f,duration:a(t.duration)?t.duration:l.config.transition_duration,done:t.done,orgDataCount:d},withLegend:!0,withTransition:d>1,withTrimXDomain:!1,withUpdateXAxis:!0})},k.generateFlow=function(t){var e=this,n=e.config,r=e.d3;return function(){var a,o,s,c,l=t.targets,u=t.flow,h=t.drawBar,d=t.drawLine,p=t.drawArea,g=t.cx,m=t.cy,v=t.xv,y=t.xForText,b=t.yForText,w=t.duration,_=u.index,x=u.length,k=e.getValueOnIndex(e.data.targets[0].values,_),S=e.getValueOnIndex(e.data.targets[0].values,_+x),C=e.x.domain(),T=u.duration||w,P=u.done||function(){},A=e.generateWait(),D=e.xgrid||r.selectAll([]),E=e.xgridLines||r.selectAll([]),L=e.mainRegion||r.selectAll([]),M=e.mainText||r.selectAll([]),I=e.mainBar||r.selectAll([]),O=e.mainLine||r.selectAll([]),$=e.mainArea||r.selectAll([]),j=e.mainCircle||r.selectAll([]);e.flowing=!0,e.data.targets.forEach((function(t){t.values.splice(0,x)})),c=e.updateXDomain(l,!0,!0),e.updateXGrid&&e.updateXGrid(!0),u.orgDataCount?a=1===u.orgDataCount||(k&&k.x)===(S&&S.x)||e.isTimeSeries()?e.x(C[0])-e.x(c[0]):e.x(k.x)-e.x(S.x):1!==e.data.targets[0].values.length?a=e.x(C[0])-e.x(c[0]):e.isTimeSeries()?(k=e.getValueOnIndex(e.data.targets[0].values,0),S=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),a=e.x(k.x)-e.x(S.x)):a=f(c)/2,o=f(C)/f(c),s="translate("+a+",0) scale("+o+",1)",e.hideXGridFocus(),r.transition().ease("linear").duration(T).each((function(){A.add(e.axes.x.transition().call(e.xAxis)),A.add(I.transition().attr("transform",s)),A.add(O.transition().attr("transform",s)),A.add($.transition().attr("transform",s)),A.add(j.transition().attr("transform",s)),A.add(M.transition().attr("transform",s)),A.add(L.filter(e.isRegionOnX).transition().attr("transform",s)),A.add(D.transition().attr("transform",s)),A.add(E.transition().attr("transform",s))})).call(A,(function(){var t,r=[],a=[],o=[];if(x){for(t=0;t<x;t++)r.push("."+i.shape+"-"+(_+t)),a.push("."+i.text+"-"+(_+t)),o.push("."+i.eventRect+"-"+(_+t));e.svg.selectAll("."+i.shapes).selectAll(r).remove(),e.svg.selectAll("."+i.texts).selectAll(a).remove(),e.svg.selectAll("."+i.eventRects).selectAll(o).remove(),e.svg.select("."+i.xgrid).remove()}D.attr("transform",null).attr(e.xgridAttr),E.attr("transform",null),E.select("line").attr("x1",n.axis_rotated?0:v).attr("x2",n.axis_rotated?e.width:v),E.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",v),I.attr("transform",null).attr("d",h),O.attr("transform",null).attr("d",d),$.attr("transform",null).attr("d",p),j.attr("transform",null).attr("cx",g).attr("cy",m),M.attr("transform",null).attr("x",y).attr("y",b).style("fill-opacity",e.opacityForText.bind(e)),L.attr("transform",null),L.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),P(),e.flowing=!1}))}},x.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(i.focused,!0).classed(i.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter((function(e){return t.indexOf(e)<0}))},x.defocus=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))).classed(i.focused,!1).classed(i.defocused,!0),e.hasArcType()&&e.unexpandArc(t),e.toggleFocusLegend(t,!1),e.focusedTargetIds=e.focusedTargetIds.filter((function(e){return t.indexOf(e)<0})),e.defocusedTargetIds=t},x.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(i.focused,!1).classed(i.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter((function(){return e.d3.select(this).classed(i.legendItemFocused)})).classed(i.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},x.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},x.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},x.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},x.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},x.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},x.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},x.groups=function(t){var e=this.internal,n=e.config;return l(t)||(n.data_groups=t,e.redraw()),n.data_groups},x.legend=function(){},x.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},x.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},x.load=function(t){var e=this.internal,n=e.config;t.xs&&e.addXs(t.xs),"names"in t&&x.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach((function(e){n.data_classes[e]=t.classes[e]})),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach((function(e){n.data_axes[e]=t.axes[e]})),"colors"in t&&Object.keys(t.colors).forEach((function(e){n.data_colors[e]=t.colors[e]})),"cacheIds"in t&&e.hasCaches(t.cacheIds)?e.load(e.getCaches(t.cacheIds),t.done):"unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),(function(){e.loadFromArgs(t)})):e.loadFromArgs(t)},x.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),(function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()}))},x.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},x.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},x.regions.remove=function(t){var e,n,r,a=this.internal,o=a.config;return t=t||{},e=a.getOption(t,"duration",o.transition_duration),n=a.getOption(t,"classes",[i.region]),r=a.main.select("."+i.regions).selectAll(n.map((function(t){return"."+t}))),(e?r.transition().duration(e):r).style("opacity",0).remove(),o.regions=o.regions.filter((function(t){var e=!1;return!t.class||(t.class.split(" ").forEach((function(t){n.indexOf(t)>=0&&(e=!0)})),!e)})),o.regions},x.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+i.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+i.shape).filter((function(){return n.select(this).classed(i.SELECTED)})).map((function(t){return t.map((function(t){var e=t.__data__;return e.data?e.data:e}))})))},x.select=function(t,e,n){var r=this.internal,a=r.d3,o=r.config;o.data_selection_enabled&&r.main.selectAll("."+i.shapes).selectAll("."+i.shape).each((function(s,c){var l=a.select(this),h=s.data?s.data.id:s.id,d=r.getToggle(this,s).bind(r),f=o.data_selection_grouped||!t||t.indexOf(h)>=0,p=!e||e.indexOf(c)>=0,g=l.classed(i.SELECTED);l.classed(i.line)||l.classed(i.area)||(f&&p?o.data_selection_isselectable(s)&&!g&&d(!0,l.classed(i.SELECTED,!0),s,c):u(n)&&n&&g&&d(!1,l.classed(i.SELECTED,!1),s,c))}))},x.unselect=function(t,e){var n=this.internal,r=n.d3,a=n.config;a.data_selection_enabled&&n.main.selectAll("."+i.shapes).selectAll("."+i.shape).each((function(o,s){var c=r.select(this),l=o.data?o.data.id:o.id,u=n.getToggle(this,o).bind(n),h=a.data_selection_grouped||!t||t.indexOf(l)>=0,d=!e||e.indexOf(s)>=0,f=c.classed(i.SELECTED);c.classed(i.line)||c.classed(i.area)||h&&d&&a.data_selection_isselectable(o)&&f&&u(!1,c.classed(i.SELECTED,!1),o,s)}))},x.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",1,"important").call(i.endall,(function(){n.style("opacity",null).style("opacity",1)})),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},x.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",0,"important").call(i.endall,(function(){n.style("opacity",null).style("opacity",0)})),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},x.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach((function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)}))},x.tooltip=function(){},x.tooltip.show=function(t){var e,n,i=this.internal;t.mouse&&(n=t.mouse),t.data?i.isMultipleX()?(n=[i.x(t.data.x),i.getYScale(t.data.id)(t.data.value)],e=null):e=a(t.data.index)?t.data.index:i.getIndexByX(t.data.x):void 0!==t.x?e=i.getIndexByX(t.x):void 0!==t.index&&(e=t.index),i.dispatchEvent("mouseover",e,n),i.dispatchEvent("mousemove",e,n),i.config.tooltip_onshow.call(i,t.data)},x.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},x.transform=function(t,e){var n=this.internal,i=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,i)},k.transformTo=function(t,e,n){var i=this,r=!i.hasArcType(),a=n||{withTransitionForAxis:r};a.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(a)},x.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},x.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},x.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map((function(t){return e.parseDate(t)}))),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},x.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},x.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},x.zoom.max=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=i.max([e.orgXDomain[1],t])},x.zoom.min=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=i.min([e.orgXDomain[0],t])},x.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};u(t.max)&&this.domain.max(t.max),u(t.min)&&this.domain.min(t.min)},k.initPie=function(){var t=this.d3;this.pie=t.layout.pie().value((function(t){return t.values.reduce((function(t,e){return t+e.value}),0)})),this.pie.sort(this.getOrderFunction()||null)},k.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},k.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},k.updateAngle=function(t){var e,n,i,r,a=this,o=a.config,s=!1,c=0;return o?(a.pie(a.filterTargetsToShow(a.data.targets)).forEach((function(e){s||e.data.id!==t.data.id||(s=!0,(t=e).index=c),c++})),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),a.isGaugeType(t.data)&&(e=o.gauge_min,n=o.gauge_max,i=Math.PI*(o.gauge_fullCircle?2:1)/(n-e),r=t.value<e?0:t.value<n?t.value-e:n-e,t.startAngle=o.gauge_startingAngle,t.endAngle=t.startAngle+i*r),s?t:null):null},k.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),n=function(n,i){var r;return i?e(n):(r=t.updateAngle(n))?e(r):"M 0 0"};return n.centroid=e.centroid,n},k.getSvgArcExpanded=function(t){var e=this,n=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t||1)).innerRadius(e.innerRadius);return function(t){var i=e.updateAngle(t);return i?n(i):"M 0 0"}},k.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},k.transformForArcLabel=function(t){var e,n,i,r,a,s=this,c=s.config,l=s.updateAngle(t),u="";return l&&!s.hasType("gauge")&&(e=this.svgArc.centroid(l),n=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1],r=Math.sqrt(n*n+i*i),u="translate("+n*(a=s.hasType("donut")&&c.donut_label_ratio?o(c.donut_label_ratio)?c.donut_label_ratio(t,s.radius,r):c.donut_label_ratio:s.hasType("pie")&&c.pie_label_ratio?o(c.pie_label_ratio)?c.pie_label_ratio(t,s.radius,r):c.pie_label_ratio:s.radius&&r?(36/s.radius>.375?1.175-36/s.radius:.8)*s.radius/r:0)+","+i*a+")"),u},k.getArcRatio=function(t){var e=this.config,n=Math.PI*(this.hasType("gauge")&&!e.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/n:null},k.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},k.textForArcLabel=function(t){var e,n,i,r,a,o=this;return o.shouldShowArcLabel()?(n=(e=o.updateAngle(t))?e.value:null,i=o.getArcRatio(e),r=t.data.id,o.hasType("gauge")||o.meetsArcLabelThreshold(i)?(a=o.getArcLabelFormat())?a(n,i,r):o.defaultArcValueFormat(n,i):""):""},k.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},k.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval((function(){n.transiting||(window.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))}),10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+i.chartArc)).each((function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each((function(t){n.isDonutType(t.data)}))})))},k.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+i.chartArc)).selectAll("path").transition().duration((function(t){return e.expandDuration(t.data.id)})).attr("d",e.svgArc),e.svg.selectAll("."+i.arc))},k.expandDuration=function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},k.shouldExpand=function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},k.shouldShowArcLabel=function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},k.meetsArcLabelThreshold=function(t){var e=this.config;return t>=(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)},k.getArcLabelFormat=function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},k.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},k.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},k.updateTargetsForArc=function(t){var e,n=this,r=n.main,a=n.classChartArc.bind(n),o=n.classArcs.bind(n),s=n.classFocus.bind(n);(e=r.select("."+i.chartArcs).selectAll("."+i.chartArc).data(n.pie(t)).attr("class",(function(t){return a(t)+s(t.data)})).enter().append("g").attr("class",a)).append("g").attr("class",o),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},k.initArc=function(){var t=this;t.arcs=t.main.select("."+i.chart).append("g").attr("class",i.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",i.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},k.redrawArc=function(t,e,n){var r,a=this,o=a.d3,s=a.config,c=a.main;(r=c.selectAll("."+i.arcs).selectAll("."+i.arc).data(a.arcData.bind(a))).enter().append("path").attr("class",a.classArc.bind(a)).style("fill",(function(t){return a.color(t.data)})).style("cursor",(function(t){return s.interaction_enabled&&s.data_selection_isselectable(t)?"pointer":null})).each((function(t){a.isGaugeType(t.data)&&(t.startAngle=t.endAngle=s.gauge_startingAngle),this._current=t})),r.attr("transform",(function(t){return!a.isGaugeType(t.data)&&n?"scale(0)":""})).on("mouseover",s.interaction_enabled?function(t){var e,n;a.transiting||(e=a.updateAngle(t))&&(n=a.convertToArcData(e),a.expandArc(e.data.id),a.api.focus(e.data.id),a.toggleFocusLegend(e.data.id,!0),a.config.data_onmouseover(n,this))}:null).on("mousemove",s.interaction_enabled?function(t){var e,n=a.updateAngle(t);n&&(e=[a.convertToArcData(n)],a.showTooltip(e,this))}:null).on("mouseout",s.interaction_enabled?function(t){var e,n;a.transiting||(e=a.updateAngle(t))&&(n=a.convertToArcData(e),a.unexpandArc(e.data.id),a.api.revert(),a.revertLegend(),a.hideTooltip(),a.config.data_onmouseout(n,this))}:null).on("click",s.interaction_enabled?function(t,e){var n,i=a.updateAngle(t);i&&(n=a.convertToArcData(i),a.toggleShape&&a.toggleShape(this,n,e),a.config.data_onclick.call(a.api,n,this))}:null).each((function(){a.transiting=!0})).transition().duration(t).attrTween("d",(function(t){var e,n=a.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=o.interpolate(this._current,n),this._current=e(0),function(n){var i=e(n);return i.data=t.data,a.getArc(i,!0)}):function(){return"M 0 0"}})).attr("transform",n?"scale(1)":"").style("fill",(function(t){return a.levelColor?a.levelColor(t.data.values[0].value):a.color(t.data.id)})).call(a.endall,(function(){a.transiting=!1})),r.exit().transition().duration(e).style("opacity",0).remove(),c.selectAll("."+i.chartArc).select("text").style("opacity",0).attr("class",(function(t){return a.isGaugeType(t.data)?i.gaugeValue:""})).text(a.textForArcLabel.bind(a)).attr("transform",a.transformForArcLabel.bind(a)).style("font-size",(function(t){return a.isGaugeType(t.data)?Math.round(a.radius/5)+"px":""})).transition().duration(t).style("opacity",(function(t){return a.isTargetToShow(t.data.id)&&a.isArcType(t.data)?1:0})),c.select("."+i.chartArcsTitle).style("opacity",a.hasType("donut")||a.hasType("gauge")?1:0),a.hasType("gauge")&&(a.arcs.select("."+i.chartArcsBackground).attr("d",(function(){var t={data:[{value:s.gauge_max}],startAngle:s.gauge_startingAngle,endAngle:-1*s.gauge_startingAngle};return a.getArc(t,!0,!0)})),a.arcs.select("."+i.chartArcsGaugeUnit).attr("dy",".75em").text(s.gauge_label_show?s.gauge_units:""),a.arcs.select("."+i.chartArcsGaugeMin).attr("dx",-1*(a.innerRadius+(a.radius-a.innerRadius)/(s.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(s.gauge_label_show?a.textForGaugeMinMax(s.gauge_min,!1):""),a.arcs.select("."+i.chartArcsGaugeMax).attr("dx",a.innerRadius+(a.radius-a.innerRadius)/(s.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(s.gauge_label_show?a.textForGaugeMinMax(s.gauge_max,!0):""))},k.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",i.chartArcsBackground),t.append("text").attr("class",i.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",i.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",i.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},k.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},k.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},k.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},k.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n},k.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},k.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},k.classText=function(t){return this.generateClass(i.text,t.index)},k.classTexts=function(t){return this.generateClass(i.texts,t.id)},k.classShape=function(t){return this.generateClass(i.shape,t.index)},k.classShapes=function(t){return this.generateClass(i.shapes,t.id)},k.classLine=function(t){return this.classShape(t)+this.generateClass(i.line,t.id)},k.classLines=function(t){return this.classShapes(t)+this.generateClass(i.lines,t.id)},k.classCircle=function(t){return this.classShape(t)+this.generateClass(i.circle,t.index)},k.classCircles=function(t){return this.classShapes(t)+this.generateClass(i.circles,t.id)},k.classBar=function(t){return this.classShape(t)+this.generateClass(i.bar,t.index)},k.classBars=function(t){return this.classShapes(t)+this.generateClass(i.bars,t.id)},k.classArc=function(t){return this.classShape(t.data)+this.generateClass(i.arc,t.data.id)},k.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(i.arcs,t.data.id)},k.classArea=function(t){return this.classShape(t)+this.generateClass(i.area,t.id)},k.classAreas=function(t){return this.classShapes(t)+this.generateClass(i.areas,t.id)},k.classRegion=function(t,e){return this.generateClass(i.region,e)+" "+("class"in t?t.class:"")},k.classEvent=function(t){return this.generateClass(i.eventRect,t.index)},k.classTarget=function(t){var e=this.config.data_classes[t],n="";return e&&(n=" "+i.target+"-"+e),this.generateClass(i.target,t)+n},k.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},k.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?i.focused:"")},k.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?i.defocused:"")},k.classChartText=function(t){return i.chartText+this.classTarget(t.id)},k.classChartLine=function(t){return i.chartLine+this.classTarget(t.id)},k.classChartBar=function(t){return i.chartBar+this.classTarget(t.id)},k.classChartArc=function(t){return i.chartArc+this.classTarget(t.data.id)},k.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},k.selectorTarget=function(t,e){return(e||"")+"."+i.target+this.getTargetSelectorSuffix(t)},k.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map((function(t){return n.selectorTarget(t,e)})):null},k.selectorLegend=function(t){return"."+i.legendItem+this.getTargetSelectorSuffix(t)},k.selectorLegends=function(t){var e=this;return t&&t.length?t.map((function(t){return e.selectorLegend(t)})):null},k.getClipPath=function(t){return"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+t+")"},k.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},k.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},k.getAxisClipY=function(t){return t?-20:-this.margin.top},k.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},k.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},k.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},k.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},k.getAxisClipWidth=function(t){var e=Math.max(30,this.margin.left),n=Math.max(30,this.margin.right);return t?this.width+2+e+n:this.margin.left+20},k.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},k.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},k.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},k.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},k.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},k.generateColor=function(){var t=this.config,e=this.d3,n=t.data_colors,i=g(t.color_pattern)?t.color_pattern:e.scale.category10().range(),r=t.data_color,a=[];return function(t){var e,o=t.id||t.data&&t.data.id||t;return n[o]instanceof Function?e=n[o](t):n[o]?e=n[o]:(a.indexOf(o)<0&&a.push(o),e=i[a.indexOf(o)%i.length],n[o]=e),r instanceof Function?r(e,t):e}},k.generateLevelColor=function(){var t=this.config,e=t.color_pattern,n=t.color_threshold,i="value"===n.unit,r=n.values&&n.values.length?n.values:[],a=n.max||100;return g(t.color_threshold)?function(t){var n,o=e[e.length-1];for(n=0;n<r.length;n++)if((i?t:100*t/a)<r[n]){o=e[n];break}return o}:null},k.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach((function(e){t[e]=this.additionalConfig[e]}),this),t},k.additionalConfig={},k.loadConfig=function(t){var e,n,i,a=this.config;Object.keys(a).forEach((function(o){e=t,n=o.split("_"),i=function t(){var i=n.shift();return i&&e&&"object"===(void 0===e?"undefined":r(e))&&i in e?(e=e[i],t()):i?void 0:e}(),u(i)&&(a[o]=i)}))},k.convertUrlToData=function(t,e,n,i,r){var a=this,o=e||"csv",s=a.d3.xhr(t);n&&Object.keys(n).forEach((function(t){s.header(t,n[t])})),s.get((function(t,e){var n,s=e.response||e.responseText;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");n="json"===o?a.convertJsonToData(JSON.parse(s),i):"tsv"===o?a.convertTsvToData(s):a.convertCsvToData(s),r.call(a,n)}))},k.convertXsvToData=function(t,e){var n,i=e.parseRows(t);return 1===i.length?(n=[{}],i[0].forEach((function(t){n[0][t]=null}))):n=e.parse(t),n},k.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},k.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},k.convertJsonToData=function(t,e){var n,i,r=this,a=[];return e?(e.x?(n=e.value.concat(e.x),r.config.data_x=e.x):n=e.value,a.push(n),t.forEach((function(t){var e=[];n.forEach((function(n){var i=r.findValueInJson(t,n);l(i)&&(i=null),e.push(i)})),a.push(e)})),i=r.convertRowsToData(a)):(Object.keys(t).forEach((function(e){a.push([e].concat(t[e]))})),i=r.convertColumnsToData(a)),i},k.findValueInJson=function(t,e){for(var n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0;i<n.length;++i){var r=n[i];if(!(r in t))return;t=t[r]}return t},k.convertRowsToData=function(t){for(var e=[],n=t[0],i=1;i<t.length;i++){for(var r={},a=0;a<t[i].length;a++){if(l(t[i][a]))throw new Error("Source data is missing a component at ("+i+","+a+")!");r[n[a]]=t[i][a]}e.push(r)}return e},k.convertColumnsToData=function(t){for(var e=[],n=0;n<t.length;n++)for(var i=t[n][0],r=1;r<t[n].length;r++){if(l(e[r-1])&&(e[r-1]={}),l(t[n][r]))throw new Error("Source data is missing a component at ("+n+","+r+")!");e[r-1][i]=t[n][r]}return e},k.convertDataToTargets=function(t,e){var n,i=this,r=i.config,o=i.d3.keys(t[0]).filter(i.isNotX,i),s=i.d3.keys(t[0]).filter(i.isX,i);return o.forEach((function(n){var o=i.getXKey(n);i.isCustomX()||i.isTimeSeries()?s.indexOf(o)>=0?i.data.xs[n]=(e&&i.data.xs[n]?i.data.xs[n]:[]).concat(t.map((function(t){return t[o]})).filter(a).map((function(t,e){return i.generateTargetX(t,n,e)}))):r.data_x?i.data.xs[n]=i.getOtherTargetXs():g(r.data_xs)&&(i.data.xs[n]=i.getXValuesOfXKey(o,i.data.targets)):i.data.xs[n]=t.map((function(t,e){return e}))})),o.forEach((function(t){if(!i.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')})),(n=o.map((function(e,n){var a=r.data_idConverter(e);return{id:a,id_org:e,values:t.map((function(t,o){var s,c=t[i.getXKey(e)],u=null===t[e]||isNaN(t[e])?null:+t[e];return i.isCustomX()&&i.isCategorized()&&!l(c)?(0===n&&0===o&&(r.axis_x_categories=[]),-1===(s=r.axis_x_categories.indexOf(c))&&(s=r.axis_x_categories.length,r.axis_x_categories.push(c))):s=i.generateTargetX(c,e,o),(l(t[e])||i.data.xs[e].length<=o)&&(s=void 0),{x:s,value:u,id:a}})).filter((function(t){return u(t.x)}))}}))).forEach((function(t){var e;r.data_xSort&&(t.values=t.values.sort((function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)}))),e=0,t.values.forEach((function(t){t.index=e++})),i.data.xs[t.id].sort((function(t,e){return t-e}))})),i.hasNegativeValue=i.hasNegativeValueInTargets(n),i.hasPositiveValue=i.hasPositiveValueInTargets(n),r.data_type&&i.setTargetType(i.mapToIds(n).filter((function(t){return!(t in r.data_types)})),r.data_type),n.forEach((function(t){i.addCache(t.id_org,t)})),n},k.isX=function(t){var e=this.config;return e.data_x&&t===e.data_x||g(e.data_xs)&&v(e.data_xs,t)},k.isNotX=function(t){return!this.isX(t)},k.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:g(e.data_xs)?e.data_xs[t]:null},k.getXValuesOfXKey=function(t,e){var n,i=this;return(e&&g(e)?i.mapToIds(e):[]).forEach((function(e){i.getXKey(e)===t&&(n=i.data.xs[e])})),n},k.getIndexByX=function(t){var e=this.filterByX(this.data.targets,t);return e.length?e[0].index:null},k.getXValue=function(t,e){return t in this.data.xs&&this.data.xs[t]&&a(this.data.xs[t][e])?this.data.xs[t][e]:e},k.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},k.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},k.addXs=function(t){var e=this;Object.keys(t).forEach((function(n){e.config.data_xs[n]=t[n]}))},k.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map((function(e){return t[e]}))).size()>1},k.isMultipleX=function(){return g(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},k.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},k.getValueOnIndex=function(t,e){var n=t.filter((function(t){return t.index===e}));return n.length?n[0]:null},k.updateTargetX=function(t,e){var n=this;t.forEach((function(t){t.values.forEach((function(i,r){i.x=n.generateTargetX(e[r],t.id,r)})),n.data.xs[t.id]=e}))},k.updateTargetXs=function(t,e){var n=this;t.forEach((function(t){e[t.id]&&n.updateTargetX([t],e[t.id])}))},k.generateTargetX=function(t,e,n){var i=this;return i.isTimeSeries()?t?i.parseDate(t):i.parseDate(i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()?a(t)?+t:i.getXValue(e,n):n},k.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map((function(t){return{x:t.x,value:t.value,id:t.id}}))}},k.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach((function(e){t.xs[e.index]=e.x})))},k.getPrevX=function(t){var e=this.xs[t-1];return void 0!==e?e:null},k.getNextX=function(t){var e=this.xs[t+1];return void 0!==e?e:null},k.getMaxDataCount=function(){return this.d3.max(this.data.targets,(function(t){return t.values.length}))},k.getMaxDataCountTarget=function(t){var e,n=t.length,i=0;return n>1?t.forEach((function(t){t.values.length>i&&(e=t,i=t.values.length)})):e=n?t[0]:null,e},k.getEdgeX=function(t){return t.length?[this.d3.min(t,(function(t){return t.values[0].x})),this.d3.max(t,(function(t){return t.values[t.values.length-1].x}))]:[0,0]},k.mapToIds=function(t){return t.map((function(t){return t.id}))},k.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},k.hasTarget=function(t,e){var n,i=this.mapToIds(t);for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},k.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},k.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},k.filterTargetsToShow=function(t){var e=this;return t.filter((function(t){return e.isTargetToShow(t.id)}))},k.mapTargetsToUniqueXs=function(t){var e=this.d3.set(this.d3.merge(t.map((function(t){return t.values.map((function(t){return+t.x}))})))).values();return(e=this.isTimeSeries()?e.map((function(t){return new Date(+t)})):e.map((function(t){return+t}))).sort((function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}))},k.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]))},k.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter((function(e){return t.indexOf(e)<0}))},k.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},k.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter((function(e){return t.indexOf(e)<0}))},k.getValuesAsIdKeyed=function(t){var e={};return t.forEach((function(t){e[t.id]=[],t.values.forEach((function(n){e[t.id].push(n.value)}))})),e},k.checkValueInTargets=function(t,e){var n,i,r,a=Object.keys(t);for(n=0;n<a.length;n++)for(r=t[a[n]].values,i=0;i<r.length;i++)if(e(r[i].value))return!0;return!1},k.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,(function(t){return t<0}))},k.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,(function(t){return t>0}))},k.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},k.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},k.getOrderFunction=function(){var t=this.config,e=this.isOrderAsc(),n=this.isOrderDesc();if(e||n)return function(t,e){var i=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(i,0),a=e.values.reduce(i,0);return n?a-r:r-a};if(o(t.data_order))return t.data_order;if(s(t.data_order)){var i=t.data_order;return function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}},k.orderTargets=function(t){var e=this.getOrderFunction();return e&&(t.sort(e),(this.isOrderAsc()||this.isOrderDesc())&&t.reverse()),t},k.filterByX=function(t,e){return this.d3.merge(t.map((function(t){return t.values}))).filter((function(t){return t.x-e==0}))},k.filterRemoveNull=function(t){return t.filter((function(t){return a(t.value)}))},k.filterByXDomain=function(t,e){return t.map((function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter((function(t){return e[0]<=t.x&&t.x<=e[1]}))}}))},k.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!==r(t.data_labels)||!g(t.data_labels))},k.getDataLabelLength=function(t,e,n){var i=this,r=[0,0];return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text((function(t){return i.dataLabelFormat(t.id)(t)})).each((function(t,e){r[e]=1.3*this.getBoundingClientRect()[n]})).remove(),r},k.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},k.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},k.findSameXOfValues=function(t,e){var n,i=t[e].x,r=[];for(n=e-1;n>=0&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},k.findClosestFromTargets=function(t,e){var n,i=this;return n=t.map((function(t){return i.findClosest(t.values,e)})),i.findClosest(n,e)},k.findClosest=function(t,e){var n,r=this,a=r.config.point_sensitivity;return t.filter((function(t){return t&&r.isBarType(t.id)})).forEach((function(t){var e=r.main.select("."+i.bars+r.getTargetSelectorSuffix(t.id)+" ."+i.bar+"-"+t.index).node();!n&&r.isWithinBar(e)&&(n=t)})),t.filter((function(t){return t&&!r.isBarType(t.id)})).forEach((function(t){var i=r.dist(t,e);i<a&&(a=i,n=t)})),n},k.dist=function(t,e){var n=this.config,i=n.axis_rotated?1:0,r=n.axis_rotated?0:1,a=this.circleY(t,t.index),o=this.x(t.x);return Math.sqrt(Math.pow(o-e[i],2)+Math.pow(a-e[r],2))},k.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},k.updateDataAttributes=function(t,e){var n=this.config["data_"+t];return void 0===e||(Object.keys(e).forEach((function(t){n[t]=e[t]})),this.redraw({withLegend:!0})),n},k.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach((function(t){var i=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,i)})),n.data.targets.forEach((function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}})),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},k.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,(function(n){e.load(e.convertDataToTargets(n),t)})):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},k.unload=function(t,e){var n=this;e||(e=function(){}),(t=t.filter((function(t){return n.hasTarget(n.data.targets,t)})))&&0!==t.length?(n.svg.selectAll(t.map((function(t){return n.selectorTarget(t)}))).transition().style("opacity",0).remove().call(n.endall,e),t.forEach((function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+i.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter((function(e){return e.id!==t}))}))):e()},k.getYDomainMin=function(t){var e,n,i,r,a,o,s=this,c=s.config,l=s.mapToIds(t),u=s.getValuesAsIdKeyed(t);if(c.data_groups.length>0)for(o=s.hasNegativeValueInTargets(t),e=0;e<c.data_groups.length;e++)if(0!==(r=c.data_groups[e].filter((function(t){return l.indexOf(t)>=0}))).length)for(i=r[0],o&&u[i]&&u[i].forEach((function(t,e){u[i][e]=t<0?t:0})),n=1;n<r.length;n++)a=r[n],u[a]&&u[a].forEach((function(t,e){s.axis.getId(a)!==s.axis.getId(i)||!u[i]||o&&+t>0||(u[i][e]+=+t)}));return s.d3.min(Object.keys(u).map((function(t){return s.d3.min(u[t])})))},k.getYDomainMax=function(t){var e,n,i,r,a,o,s=this,c=s.config,l=s.mapToIds(t),u=s.getValuesAsIdKeyed(t);if(c.data_groups.length>0)for(o=s.hasPositiveValueInTargets(t),e=0;e<c.data_groups.length;e++)if(0!==(r=c.data_groups[e].filter((function(t){return l.indexOf(t)>=0}))).length)for(i=r[0],o&&u[i]&&u[i].forEach((function(t,e){u[i][e]=t>0?t:0})),n=1;n<r.length;n++)a=r[n],u[a]&&u[a].forEach((function(t,e){s.axis.getId(a)!==s.axis.getId(i)||!u[i]||o&&+t<0||(u[i][e]+=+t)}));return s.d3.max(Object.keys(u).map((function(t){return s.d3.max(u[t])})))},k.getYDomain=function(t,e,n){var i,r,o,s,c,l,u,h,d,p,m=this,v=m.config,y=t.filter((function(t){return m.axis.getId(t.id)===e})),b=n?m.filterByXDomain(y,n):y,w="y2"===e?v.axis_y2_min:v.axis_y_min,_="y2"===e?v.axis_y2_max:v.axis_y_max,x=m.getYDomainMin(b),k=m.getYDomainMax(b),S="y2"===e?v.axis_y2_center:v.axis_y_center,C=m.hasType("bar",b)&&v.bar_zerobased||m.hasType("area",b)&&v.area_zerobased,T="y2"===e?v.axis_y2_inverted:v.axis_y_inverted,P=m.hasDataLabel()&&v.axis_rotated,A=m.hasDataLabel()&&!v.axis_rotated;return x=a(w)?w:a(_)?x<_?x:_-10:x,k=a(_)?_:a(w)?w<k?k:w+10:k,0===b.length?"y2"===e?m.y2.domain():m.y.domain():(isNaN(x)&&(x=0),isNaN(k)&&(k=x),x===k&&(x<0?k=0:x=0),d=x>=0&&k>=0,p=x<=0&&k<=0,(a(w)&&d||a(_)&&p)&&(C=!1),C&&(d&&(x=0),p&&(k=0)),o=s=.1*(r=Math.abs(k-x)),void 0!==S&&(k=S+(c=Math.max(Math.abs(x),Math.abs(k))),x=S-c),P?(l=m.getDataLabelLength(x,k,"width"),u=f(m.y.range()),o+=r*((h=[l[0]/u,l[1]/u])[1]/(1-h[0]-h[1])),s+=r*(h[0]/(1-h[0]-h[1]))):A&&(l=m.getDataLabelLength(x,k,"height"),o+=m.axis.convertPixelsToAxisPadding(l[1],r),s+=m.axis.convertPixelsToAxisPadding(l[0],r)),"y"===e&&g(v.axis_y_padding)&&(o=m.axis.getPadding(v.axis_y_padding,"top",o,r),s=m.axis.getPadding(v.axis_y_padding,"bottom",s,r)),"y2"===e&&g(v.axis_y2_padding)&&(o=m.axis.getPadding(v.axis_y2_padding,"top",o,r),s=m.axis.getPadding(v.axis_y2_padding,"bottom",s,r)),C&&(d&&(s=x),p&&(o=-k)),i=[x-s,k+o],T?i.reverse():i)},k.getXDomainMin=function(t){var e=this,n=e.config;return u(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,(function(t){return e.d3.min(t.values,(function(t){return t.x}))}))},k.getXDomainMax=function(t){var e=this,n=e.config;return u(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,(function(t){return e.d3.max(t.values,(function(t){return t.x}))}))},k.getXDomainPadding=function(t){var e,n,i,o,s=this.config,c=t[1]-t[0];return n=this.isCategorized()?0:this.hasType("bar")?(e=this.getMaxDataCount())>1?c/(e-1)/2:.5:.01*c,"object"===r(s.axis_x_padding)&&g(s.axis_x_padding)?(i=a(s.axis_x_padding.left)?s.axis_x_padding.left:n,o=a(s.axis_x_padding.right)?s.axis_x_padding.right:n):i=o="number"==typeof s.axis_x_padding?s.axis_x_padding:n,{left:i,right:o}},k.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],a=e.getXDomainPadding(n),o=0,s=0;return i-r!=0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(o=e.isTimeSeries()?new Date(i.getTime()-a.left):i-a.left),(r||0===r)&&(s=e.isTimeSeries()?new Date(r.getTime()+a.right):r+a.right),[o,s]},k.updateXDomain=function(t,e,n,i,r){var a=this,o=a.config;return n&&(a.x.domain(r||a.d3.extent(a.getXDomain(t))),a.orgXDomain=a.x.domain(),o.zoom_enabled&&a.zoom.scale(a.x).updateScaleExtent(),a.subX.domain(a.x.domain()),a.brush&&a.brush.scale(a.subX)),e&&(a.x.domain(r||(!a.brush||a.brush.empty()?a.orgXDomain:a.brush.extent())),o.zoom_enabled&&a.zoom.scale(a.x).updateScaleExtent()),i&&a.x.domain(a.trimXDomain(a.x.orgDomain())),a.x.domain()},k.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t},k.drag=function(t){var e,n,r,a,o,s,c,l,u=this,h=u.config,d=u.main,f=u.d3;u.hasArcType()||h.data_selection_enabled&&(h.zoom_enabled&&!u.zoom.altDomain||h.data_selection_multiple&&(e=u.dragStart[0],n=u.dragStart[1],r=t[0],a=t[1],o=Math.min(e,r),s=Math.max(e,r),c=h.data_selection_grouped?u.margin.top:Math.min(n,a),l=h.data_selection_grouped?u.height:Math.max(n,a),d.select("."+i.dragarea).attr("x",o).attr("y",c).attr("width",s-o).attr("height",l-c),d.selectAll("."+i.shapes).selectAll("."+i.shape).filter((function(t){return h.data_selection_isselectable(t)})).each((function(t,e){var n,r,a,h,d,p,g=f.select(this),m=g.classed(i.SELECTED),v=g.classed(i.INCLUDED),y=!1;if(g.classed(i.circle))n=1*g.attr("cx"),r=1*g.attr("cy"),d=u.togglePoint,y=o<n&&n<s&&c<r&&r<l;else{if(!g.classed(i.bar))return;n=(p=b(this)).x,r=p.y,a=p.width,h=p.height,d=u.togglePath,y=!(s<n||n+a<o||l<r||r+h<c)}y^v&&(g.classed(i.INCLUDED,!v),g.classed(i.SELECTED,!m),d.call(u,!m,g,t,e))}))))},k.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+i.chart).append("rect").attr("class",i.dragarea).style("opacity",.1),e.dragging=!0)},k.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+i.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+i.shape).classed(i.INCLUDED,!1),t.dragging=!1)},k.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,r,a){return("y2"===e.axis.getId(a)?i:n).call(e,t,r)}},k.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},k.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},k.defaultValueFormat=function(t){return a(t)?+t:""},k.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},k.dataLabelFormat=function(t){var e=this.config.data_labels,n=function(t){return a(t)?+t:""};return"function"==typeof e.format?e.format:"object"===r(e.format)?e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}:n},k.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",i.grid),e.grid_x_show&&t.grid.append("g").attr("class",i.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",i.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",i.xgridFocus).append("line").attr("class",i.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},k.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",i.grid+" "+i.gridLines),t.gridLines.append("g").attr("class",i.xgridLines),t.gridLines.append("g").attr("class",i.ygridLines),t.xgridLines=e.selectAll([])},k.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,a=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+i.xgrids).selectAll("."+i.xgrid).data(a),e.xgrid.enter().append("line").attr("class",i.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",(function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1})),e.xgrid.exit().remove()},k.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+i.ygrids).selectAll("."+i.ygrid).data(n),t.ygrid.enter().append("line").attr("class",i.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},k.gridTextAnchor=function(t){return t.position?t.position:"end"},k.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},k.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},k.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},k.updateGrid=function(t){var e,n,r,a=this,o=a.main,s=a.config;a.grid.style("visibility",a.hasArcType()?"hidden":"visible"),o.select("line."+i.xgridFocus).style("visibility","hidden"),s.grid_x_show&&a.updateXGrid(),a.xgridLines=o.select("."+i.xgridLines).selectAll("."+i.xgridLine).data(s.grid_x_lines),(e=a.xgridLines.enter().append("g").attr("class",(function(t){return i.xgridLine+(t.class?" "+t.class:"")}))).append("line").style("opacity",0),e.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",s.axis_rotated?"":"rotate(-90)").attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),a.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),s.grid_y_show&&a.updateYGrid(),a.ygridLines=o.select("."+i.ygridLines).selectAll("."+i.ygridLine).data(s.grid_y_lines),(n=a.ygridLines.enter().append("g").attr("class",(function(t){return i.ygridLine+(t.class?" "+t.class:"")}))).append("line").style("opacity",0),n.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",s.axis_rotated?"rotate(-90)":"").attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),r=a.yv.bind(a),a.ygridLines.select("line").transition().duration(t).attr("x1",s.axis_rotated?r:0).attr("x2",s.axis_rotated?r:a.width).attr("y1",s.axis_rotated?0:r).attr("y2",s.axis_rotated?a.height:r).style("opacity",1),a.ygridLines.select("text").transition().duration(t).attr("x",s.axis_rotated?a.xGridTextX.bind(a):a.yGridTextX.bind(a)).attr("y",r).text((function(t){return t.text})).style("opacity",1),a.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},k.redrawGrid=function(t){var e=this,n=e.config,i=e.xv.bind(e),r=e.xgridLines.select("line"),a=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?e.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:e.height).style("opacity",1),(t?a.transition():a).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",i).text((function(t){return t.text})).style("opacity",1)]},k.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter((function(t){return t&&a(t.value)})),o=e.main.selectAll("line."+i.xgridFocus),s=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(o.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",s).attr(n.axis_rotated?"y2":"x2",s),e.smoothLines(o,"grid")))},k.hideXGridFocus=function(){this.main.select("line."+i.xgridFocus).style("visibility","hidden")},k.updateXgridFocus=function(){var t=this.config;this.main.select("line."+i.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?this.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:this.height)},k.generateGridData=function(t,e){var n,r,a,o,s=[],c=this.main.select("."+i.axisX).selectAll(".tick").size();if("year"===t)for(r=(n=this.getXDomain())[0].getFullYear(),a=n[1].getFullYear(),o=r;o<=a;o++)s.push(new Date(o+"-01-01 00:00:00"));else(s=e.ticks(10)).length>c&&(s=s.filter((function(t){return(""+t).indexOf(".")<0})));return s},k.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach((function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(n=!0)})),n}:function(){return!0}},k.removeGridLines=function(t,e){var n=this.config,r=this.getGridFilterToRemove(t),a=function(t){return!r(t)},o=e?i.xgridLines:i.ygridLines,s=e?i.xgridLine:i.ygridLine;this.main.select("."+o).selectAll("."+s).filter(r).transition().duration(n.transition_duration).style("opacity",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(a):n.grid_y_lines=n.grid_y_lines.filter(a)},k.initEventRect=function(){this.main.select("."+i.chart).append("g").attr("class",i.eventRects).style("fill-opacity",0)},k.redrawEventRect=function(){var t,e,n=this,r=n.config,a=n.isMultipleX(),o=n.main.select("."+i.eventRects).style("cursor",r.zoom_enabled?r.axis_rotated?"ns-resize":"ew-resize":null).classed(i.eventRectsMultiple,a).classed(i.eventRectsSingle,!a);o.selectAll("."+i.eventRect).remove(),n.eventRect=o.selectAll("."+i.eventRect),a?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),o.datum(e?e.values:[]),n.eventRect=o.selectAll("."+i.eventRect),t=n.eventRect.data((function(t){return t})),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},k.updateEventRect=function(t){var e,n,i,r,a,o,s=this,c=s.config;t=t||s.eventRect.data((function(t){return t})),s.isMultipleX()?(e=0,n=0,i=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(a=s.getEventRectWidth(),o=function(t){return s.x(t.x)-a/2}):(s.updateXs(),a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?c.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),i=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(i)+s.x(e))/2)}),e=c.axis_rotated?0:o,n=c.axis_rotated?o:0,i=c.axis_rotated?s.width:a,r=c.axis_rotated?a:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",i).attr("height",r)},k.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,r=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",r.data_selection_enabled&&r.data_selection_grouped?"pointer":null).on("mouseover",(function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(r.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+i.shape+"-"+n).each((function(t){r.data_onmouseover.call(e.api,t)})))})).on("mouseout",(function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+i.shape+"-"+n).each((function(t){r.data_onmouseout.call(e.api,t)}))))})).on("mousemove",(function(t){var a,o=t.index,s=e.svg.select("."+i.eventRect+"-"+o);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,o))&&(o-=1),a=e.filterTargetsToShow(e.data.targets).map((function(t){return e.addName(e.getValueOnIndex(t.values,o))})),r.tooltip_grouped&&(e.showTooltip(a,this),e.showXGridFocus(a)),(!r.tooltip_grouped||r.data_selection_enabled&&!r.data_selection_grouped)&&e.main.selectAll("."+i.shape+"-"+o).each((function(){n.select(this).classed(i.EXPANDED,!0),r.data_selection_enabled&&s.style("cursor",r.data_selection_grouped?"pointer":null),r.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),r.data_selection_grouped||(e.unexpandCircles(o),e.unexpandBars(o)))})).filter((function(t){return e.isWithinShape(this,t)})).each((function(t){r.data_selection_enabled&&(r.data_selection_grouped||r.data_selection_isselectable(t))&&s.style("cursor","pointer"),r.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),r.point_focus_expand_enabled&&e.expandCircles(o,t.id,!0),e.expandBars(o,t.id,!0))})))})).on("click",(function(t){var a=t.index;!e.hasArcType()&&e.toggleShape&&(e.cancelClick?e.cancelClick=!1:(e.isStepType(t)&&"step-after"===r.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,a))&&(a-=1),e.main.selectAll("."+i.shape+"-"+a).each((function(t){(r.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,a),e.config.data_onclick.call(e.api,t,this))}))))})).call(r.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",(function(){e.drag(n.mouse(this))})).on("dragstart",(function(){e.dragstart(n.mouse(this))})).on("dragend",(function(){e.dragend()})):function(){})},k.generateEventRectsForMultipleXs=function(t){var e=this,n=e.d3,r=e.config;function a(){e.svg.select("."+i.eventRect).style("cursor",null),e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars()}t.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class",i.eventRect).on("mouseout",(function(){e.config&&(e.hasArcType()||a())})).on("mousemove",(function(){var t,o,s,c=e.filterTargetsToShow(e.data.targets);e.dragging||e.hasArcType(c)||(t=n.mouse(this),o=e.findClosestFromTargets(c,t),!e.mouseover||o&&o.id===e.mouseover.id||(r.data_onmouseout.call(e.api,e.mouseover),e.mouseover=void 0),o?(s=(e.isScatterType(o)||!r.tooltip_grouped?[o]:e.filterByX(c,o.x)).map((function(t){return e.addName(t)})),e.showTooltip(s,this),r.point_focus_expand_enabled&&e.expandCircles(o.index,o.id,!0),e.expandBars(o.index,o.id,!0),e.showXGridFocus(s),(e.isBarType(o.id)||e.dist(o,t)<r.point_sensitivity)&&(e.svg.select("."+i.eventRect).style("cursor","pointer"),e.mouseover||(r.data_onmouseover.call(e.api,o),e.mouseover=o))):a())})).on("click",(function(){var t,a,o=e.filterTargetsToShow(e.data.targets);e.hasArcType(o)||(t=n.mouse(this),(a=e.findClosestFromTargets(o,t))&&(e.isBarType(a.id)||e.dist(a,t)<r.point_sensitivity)&&e.main.selectAll("."+i.shapes+e.getTargetSelectorSuffix(a.id)).selectAll("."+i.shape+"-"+a.index).each((function(){(r.data_selection_grouped||e.isWithinShape(this,a))&&(e.toggleShape(this,a,a.index),e.config.data_onclick.call(e.api,a,this))})))})).call(r.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",(function(){e.drag(n.mouse(this))})).on("dragstart",(function(){e.dragstart(n.mouse(this))})).on("dragend",(function(){e.dragend()})):function(){})},k.dispatchEvent=function(t,e,n){var r="."+i.eventRect+(this.isMultipleX()?"":"-"+e),a=this.main.select(r).node(),o=a.getBoundingClientRect(),s=o.left+(n?n[0]:0),c=o.top+(n?n[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(t,!0,!0,window,0,s,c,s,c,!1,!1,!1,!1,0,null),a.dispatchEvent(l)},k.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},k.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},k.updateSizeForLegend=function(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},k.transformLegend=function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},k.updateLegendStep=function(t){this.legendStep=t},k.updateLegendItemWidth=function(t){this.legendItemWidth=t},k.updateLegendItemHeight=function(t){this.legendItemHeight=t},k.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},k.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},k.opacityForLegend=function(t){return t.classed(i.legendItemHidden)?null:1},k.opacityForUnfocusedLegend=function(t){return t.classed(i.legendItemHidden)?null:.3},k.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+i.legendItem).filter((function(e){return t.indexOf(e)>=0})).classed(i.legendItemFocused,e).transition().duration(100).style("opacity",(function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))}))},k.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+i.legendItem).classed(i.legendItemFocused,!1).transition().duration(100).style("opacity",(function(){return t.opacityForLegend(e.select(this))}))},k.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",(function(){return e.opacityForLegend(e.d3.select(this))}))},k.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&p(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},k.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},k.updateLegend=function(t,e,n){var r,a,o,s,c,l,h,d,f,p,g,v,y,b,w,_,x=this,k=x.config,S=0,C=0,T=k.legend_item_tile_width+5,P=0,A={},D={},E={},L=[0],M={},I=0;function O(e,n,r){var a,o,s=0===r,c=r===t.length-1,l=function(t,e){return x.legendItemTextBox[e]||(x.legendItemTextBox[e]=x.getTextRect(t.textContent,i.legendItem,t)),x.legendItemTextBox[e]}(e,n),u=l.width+T+(!c||x.isLegendRight||x.isLegendInset?10:0)+k.legend_padding,h=l.height+4,d=x.isLegendRight||x.isLegendInset?h:u,f=x.isLegendRight||x.isLegendInset?x.getLegendHeight():x.getLegendWidth();function p(t,e){e||(a=(f-P-d)/2)<10&&(a=(f-d)/2,P=0,I++),M[t]=I,L[I]=x.isLegendInset?10:a,A[t]=P,P+=d}s&&(P=0,I=0,S=0,C=0),!k.legend_show||x.isLegendToShow(n)?(D[n]=u,E[n]=h,(!S||u>=S)&&(S=u),(!C||h>=C)&&(C=h),o=x.isLegendRight||x.isLegendInset?C:S,k.legend_equally?(Object.keys(D).forEach((function(t){D[t]=S})),Object.keys(E).forEach((function(t){E[t]=C})),(a=(f-o*t.length)/2)<10?(P=0,I=0,t.forEach((function(t){p(t)}))):p(n,!0)):p(n)):D[n]=E[n]=M[n]=A[n]=0}t=t.filter((function(t){return!u(k.data_names[t])||null!==k.data_names[t]})),g=m(e=e||{},"withTransition",!0),v=m(e,"withTransitionForTransform",!0),x.isLegendInset&&(I=k.legend_inset_step?k.legend_inset_step:t.length,x.updateLegendStep(I)),x.isLegendRight?(r=function(t){return S*M[t]},s=function(t){return L[M[t]]+A[t]}):x.isLegendInset?(r=function(t){return S*M[t]+10},s=function(t){return L[M[t]]+A[t]}):(r=function(t){return L[M[t]]+A[t]},s=function(t){return C*M[t]}),a=function(t,e){return r(t,e)+4+k.legend_item_tile_width},c=function(t,e){return s(t,e)+9},o=function(t,e){return r(t,e)},l=function(t,e){return s(t,e)-5},h=function(t,e){return r(t,e)-2},d=function(t,e){return r(t,e)-2+k.legend_item_tile_width},f=function(t,e){return s(t,e)+4},(p=x.legend.selectAll("."+i.legendItem).data(t).enter().append("g").attr("class",(function(t){return x.generateClass(i.legendItem,t)})).style("visibility",(function(t){return x.isLegendToShow(t)?"visible":"hidden"})).style("cursor","pointer").on("click",(function(t){k.legend_item_onclick?k.legend_item_onclick.call(x,t):x.d3.event.altKey?(x.api.hide(),x.api.show(t)):(x.api.toggle(t),x.isTargetToShow(t)?x.api.focus(t):x.api.revert())})).on("mouseover",(function(t){k.legend_item_onmouseover?k.legend_item_onmouseover.call(x,t):(x.d3.select(this).classed(i.legendItemFocused,!0),!x.transiting&&x.isTargetToShow(t)&&x.api.focus(t))})).on("mouseout",(function(t){k.legend_item_onmouseout?k.legend_item_onmouseout.call(x,t):(x.d3.select(this).classed(i.legendItemFocused,!1),x.api.revert())}))).append("text").text((function(t){return u(k.data_names[t])?k.data_names[t]:t})).each((function(t,e){O(this,t,e)})).style("pointer-events","none").attr("x",x.isLegendRight||x.isLegendInset?a:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:c),p.append("rect").attr("class",i.legendItemEvent).style("fill-opacity",0).attr("x",x.isLegendRight||x.isLegendInset?o:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:l),p.append("line").attr("class",i.legendItemTile).style("stroke",x.color).style("pointer-events","none").attr("x1",x.isLegendRight||x.isLegendInset?h:-200).attr("y1",x.isLegendRight||x.isLegendInset?-200:f).attr("x2",x.isLegendRight||x.isLegendInset?d:-200).attr("y2",x.isLegendRight||x.isLegendInset?-200:f).attr("stroke-width",k.legend_item_tile_height),_=x.legend.select("."+i.legendBackground+" rect"),x.isLegendInset&&S>0&&0===_.size()&&(_=x.legend.insert("g","."+i.legendItem).attr("class",i.legendBackground).append("rect")),y=x.legend.selectAll("text").data(t).text((function(t){return u(k.data_names[t])?k.data_names[t]:t})).each((function(t,e){O(this,t,e)})),(g?y.transition():y).attr("x",a).attr("y",c),b=x.legend.selectAll("rect."+i.legendItemEvent).data(t),(g?b.transition():b).attr("width",(function(t){return D[t]})).attr("height",(function(t){return E[t]})).attr("x",o).attr("y",l),w=x.legend.selectAll("line."+i.legendItemTile).data(t),(g?w.transition():w).style("stroke",x.color).attr("x1",h).attr("y1",f).attr("x2",d).attr("y2",f),_&&(g?_.transition():_).attr("height",x.getLegendHeight()-12).attr("width",S*(I+1)+10),x.legend.selectAll("."+i.legendItem).classed(i.legendItemHidden,(function(t){return!x.isTargetToShow(t)})),x.updateLegendItemWidth(S),x.updateLegendItemHeight(C),x.updateLegendStep(I),x.updateSizes(),x.updateScales(),x.updateSvgSize(),x.transformAll(v,n),x.legendHasRendered=!0},k.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",i.regions)},k.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+i.regions).selectAll("."+i.region).data(n.regions),e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),e.mainRegion.attr("class",e.classRegion.bind(e)),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},k.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect").each((function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)})),i=e.regionX.bind(e),r=e.regionY.bind(e),o=e.regionWidth.bind(e),s=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",i).attr("y",r).attr("width",o).attr("height",s).style("fill-opacity",(function(t){return a(t.opacity)?t.opacity:.1}))]},k.regionX=function(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?i(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},k.regionY=function(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?i(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},k.regionWidth=function(t){var e,n=this,i=n.config,r=n.regionX(t),a="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?a(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<r?0:e-r},k.regionHeight=function(t){var e,n=this,i=n.config,r=this.regionY(t),a="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?a(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<r?0:e-r},k.isRegionOnX=function(t){return!t.axis||"x"===t.axis},k.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},k.getX=function(t,e,n,i){var r,a=this.getScale(t,e,this.isTimeSeries()),o=n?a.domain(n):a;for(r in this.isCategorized()?(i=i||function(){return 0},a=function(t,e){var n=o(t)+i(t);return e?n:Math.ceil(n)}):a=function(t,e){var n=o(t);return e?n:Math.ceil(n)},o)a[r]=o[r];return a.orgDomain=function(){return o.domain()},this.isCategorized()&&(a.domain=function(t){return arguments.length?(o.domain(t),a):[(t=this.orgDomain())[0],t[1]+1]}),a},k.getY=function(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},k.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},k.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},k.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),(function(){return t.xAxis.tickOffset()})),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,(function(e){return e%1?0:t.subXAxis.tickOffset()})),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},k.selectPoint=function(t,e,n){var r=this,a=r.config,o=(a.axis_rotated?r.circleY:r.circleX).bind(r),s=(a.axis_rotated?r.circleX:r.circleY).bind(r),c=r.pointSelectR.bind(r);a.data_onselected.call(r.api,e,t.node()),r.main.select("."+i.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+i.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",(function(){return r.generateClass(i.selectedCircle,n)})).attr("cx",o).attr("cy",s).attr("stroke",(function(){return r.color(e)})).attr("r",(function(t){return 1.4*r.pointSelectR(t)})).transition().duration(100).attr("r",c)},k.unselectPoint=function(t,e,n){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select("."+i.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+i.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},k.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},k.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",(function(){return n.d3.rgb(n.color(e)).brighter(.75)}))},k.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",(function(){return n.color(e)}))},k.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},k.getToggle=function(t,e){var n;return"circle"===t.nodeName?n=this.isStepType(e)?function(){}:this.togglePoint:"path"===t.nodeName&&(n=this.togglePath),n},k.toggleShape=function(t,e,n){var r=this,a=r.d3,o=r.config,s=a.select(t),c=s.classed(i.SELECTED),l=r.getToggle(t,e).bind(r);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||r.main.selectAll("."+i.shapes+(o.data_selection_grouped?r.getTargetSelectorSuffix(e.id):"")).selectAll("."+i.shape).each((function(t,e){var n=a.select(this);n.classed(i.SELECTED)&&l(!1,n.classed(i.SELECTED,!1),t,e)})),s.classed(i.SELECTED,!c),l(!c,s,e,n))},k.initBar=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartBars)},k.updateTargetsForBar=function(t){var e=this,n=e.config,r=e.classChartBar.bind(e),a=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+i.chartBars).selectAll("."+i.chartBar).data(t).attr("class",(function(t){return r(t)+o(t)})).enter().append("g").attr("class",r).style("pointer-events","none").append("g").attr("class",a).style("cursor",(function(t){return n.data_selection_isselectable(t)?"pointer":null}))},k.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),a=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+i.bars).selectAll("."+i.bar).data(n),e.mainBar.enter().append("path").attr("class",r).style("stroke",o).style("fill",o),e.mainBar.style("opacity",a),e.mainBar.exit().transition().duration(t).remove()},k.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},k.getBarW=function(t,e){var n=this.config,i="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i},k.getBars=function(t,e){return(e?this.main.selectAll("."+i.bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+i.bar+(a(t)?"-"+t:""))},k.expandBars=function(t,e,n){n&&this.unexpandBars(),this.getBars(t,e).classed(i.EXPANDED,!0)},k.unexpandBars=function(t){this.getBars(t).classed(i.EXPANDED,!1)},k.generateDrawBar=function(t,e){var n=this.config,i=this.generateGetBarPoints(t,e);return function(t,e){var r=i(t,e),a=n.axis_rotated?1:0,o=n.axis_rotated?0:1;return"M "+r[0][a]+","+r[0][o]+" L"+r[1][a]+","+r[1][o]+" L"+r[2][a]+","+r[2][o]+" L"+r[3][a]+","+r[3][o]+" z"}},k.generateGetBarPoints=function(t,e){var n=this,i=e?n.subXAxis:n.xAxis,r=t.__max__+1,a=n.getBarW(i,r),o=n.getShapeX(a,r,t,!!e),s=n.getShapeY(!!e),c=n.getShapeOffset(n.isBarType,t,!!e),l=a*(n.config.bar_space/2),u=e?n.getSubYScale:n.getYScale;return function(t,e){var i=u.call(n,t.id)(0),r=c(t,e)||i,h=o(t),d=s(t);return n.config.axis_rotated&&(0<t.value&&d<i||t.value<0&&i<d)&&(d=i),[[h+l,r],[h+l,d-(i-r)],[h+a-l,d-(i-r)],[h+a-l,r]]}},k.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),i=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),a=Math.min(i.x,r.x),o=Math.min(i.y,r.y),s=a+n.width+2,c=o+n.height+2,l=o-2;return a-2<e[0]&&e[0]<s&&l<e[1]&&e[1]<c},k.getShapeIndices=function(t){var e,n,i=this.config,r={},a=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach((function(t){for(e=0;e<i.data_groups.length;e++)if(!(i.data_groups[e].indexOf(t.id)<0))for(n=0;n<i.data_groups[e].length;n++)if(i.data_groups[e][n]in r){r[t.id]=r[i.data_groups[e][n]];break}l(r[t.id])&&(r[t.id]=a++)})),r.__max__=a-1,r},k.getShapeX=function(t,e,n,i){var r=i?this.subX:this.x;return function(i){var a=i.id in n?n[i.id]:0;return i.x||0===i.x?r(i.x)-t*(e/2-a):0}},k.getShapeY=function(t){var e=this;return function(n){return(t?e.getSubYScale(n.id):e.getYScale(n.id))(n.value)}},k.getShapeOffset=function(t,e,n){var i=this,r=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(t,i))),a=r.map((function(t){return t.id}));return function(t,o){var s=n?i.getSubYScale(t.id):i.getYScale(t.id),c=s(0),l=c;return r.forEach((function(n){var r=i.isStepType(t)?i.convertValuesToStep(n.values):n.values;n.id!==t.id&&e[n.id]===e[t.id]&&a.indexOf(n.id)<a.indexOf(t.id)&&(void 0!==r[o]&&+r[o].x==+t.x||(o=-1,r.forEach((function(e,n){e.x===t.x&&(o=n)}))),o in r&&r[o].value*t.value>=0&&(l+=s(r[o].value)-c))})),l}},k.isWithinShape=function(t,e){var n,r=this,a=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=!a.classed(i.bar)||r.isWithinBar(t)):n=!1,n},k.getInterpolate=function(t){var e=this,n=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"},k.initLine=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartLines)},k.updateTargetsForLine=function(t){var e,n=this,r=n.config,a=n.classChartLine.bind(n),o=n.classLines.bind(n),s=n.classAreas.bind(n),c=n.classCircles.bind(n),l=n.classFocus.bind(n);(e=n.main.select("."+i.chartLines).selectAll("."+i.chartLine).data(t).attr("class",(function(t){return a(t)+l(t)})).enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),e.append("g").attr("class",s),e.append("g").attr("class",(function(t){return n.generateClass(i.selectedCircles,t.id)})),e.append("g").attr("class",c).style("cursor",(function(t){return r.data_selection_isselectable(t)?"pointer":null})),t.forEach((function(t){n.main.selectAll("."+i.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+i.selectedCircle).each((function(e){e.value=t.values[e.index].value}))}))},k.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+i.lines).selectAll("."+i.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",(function(t){return e.isStepType(t)?"crispEdges":""})).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},k.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},k.generateDrawLine=function(t,e){var n=this,i=n.config,r=n.d3.svg.line(),a=n.generateGetLinePoints(t,e),o=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},c=function(t,e){return i.data_groups.length>0?a(t,e)[0][1]:o.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x(c).y(s):r.x(s).y(c),i.line_connectNull||(r=r.defined((function(t){return null!=t.value}))),function(t){var a,s=i.line_connectNull?n.filterRemoveNull(t.values):t.values,c=e?n.x:n.subX,l=o.call(n,t.id),u=0,h=0;return n.isLineType(t)?i.data_regions[t.id]?a=n.lineWithRegions(s,c,l,i.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),a=r.interpolate(n.getInterpolate(t))(s)):(s[0]&&(u=c(s[0].x),h=l(s[0].value)),a=i.axis_rotated?"M "+h+" "+u:"M "+u+" "+h),a||"M 0 0"}},k.generateGetLinePoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,a=n.getShapeX(0,r,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),c=e?n.getSubYScale:n.getYScale;return function(t,e){var r=c.call(n,t.id)(0),l=s(t,e)||r,u=a(t),h=o(t);return i.axis_rotated&&(0<t.value&&h<r||t.value<0&&r<h)&&(h=r),[[u,h-(r-l)],[u,h-(r-l)],[u,h-(r-l)],[u,h-(r-l)]]}},k.lineWithRegions=function(t,e,n,i){var r,a,o,s,c,h,d,f,p,g,m,v=this,y=v.config,b="M",w=v.isCategorized()?.5:0,_=[];function x(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}if(u(i))for(r=0;r<i.length;r++)_[r]={},l(i[r].start)?_[r].start=t[0].x:_[r].start=v.isTimeSeries()?v.parseDate(i[r].start):i[r].start,l(i[r].end)?_[r].end=t[t.length-1].x:_[r].end=v.isTimeSeries()?v.parseDate(i[r].end):i[r].end;function k(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(g=y.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},m=y.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},o=v.isTimeSeries()?function(t,i,r,a){var o=t.x.getTime(),s=i.x-t.x,l=new Date(o+s*r),u=new Date(o+s*(r+a));return k(y.axis_rotated?[[n(c(r)),e(l)],[n(c(r+a)),e(u)]]:[[e(l),n(c(r))],[e(u),n(c(r+a))]])}:function(t,i,r,a){return k(y.axis_rotated?[[n(c(r),!0),e(s(r))],[n(c(r+a),!0),e(s(r+a))]]:[[e(s(r),!0),n(c(r))],[e(s(r+a),!0),n(c(r+a))]])},r=0;r<t.length;r++){if(l(_)||!x(t[r].x,_))b+=" "+g(t[r])+" "+m(t[r]);else for(s=v.getScale(t[r-1].x+w,t[r].x+w,v.isTimeSeries()),c=v.getScale(t[r-1].value,t[r].value),h=e(t[r].x)-e(t[r-1].x),d=n(t[r].value)-n(t[r-1].value),p=2*(f=2/Math.sqrt(Math.pow(h,2)+Math.pow(d,2))),a=f;a<=1;a+=p)b+=o(t[r-1],t[r],a,f);t[r].x}return b},k.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+i.areas).selectAll("."+i.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",(function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0})),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},k.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},k.generateDrawArea=function(t,e){var n=this,i=n.config,r=n.d3.svg.area(),a=n.generateGetAreaPoints(t,e),o=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},c=function(t,e){return i.data_groups.length>0?a(t,e)[0][1]:o.call(n,t.id)(n.getAreaBaseValue(t.id))},l=function(t,e){return i.data_groups.length>0?a(t,e)[1][1]:o.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x0(c).x1(l).y(s):r.x(s).y0(i.area_above?0:c).y1(l),i.line_connectNull||(r=r.defined((function(t){return null!==t.value}))),function(t){var e,a=i.line_connectNull?n.filterRemoveNull(t.values):t.values,o=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(a=n.convertValuesToStep(a)),e=r.interpolate(n.getInterpolate(t))(a)):(a[0]&&(o=n.x(a[0].x),s=n.getYScale(t.id)(a[0].value)),e=i.axis_rotated?"M "+s+" "+o:"M "+o+" "+s),e||"M 0 0"}},k.getAreaBaseValue=function(){return 0},k.generateGetAreaPoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,a=n.getShapeX(0,r,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),c=e?n.getSubYScale:n.getYScale;return function(t,e){var r=c.call(n,t.id)(0),l=s(t,e)||r,u=a(t),h=o(t);return i.axis_rotated&&(0<t.value&&h<r||t.value<0&&r<h)&&(h=r),[[u,l],[u,h-(r-l)],[u,h-(r-l)],[u,l]]}},k.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+i.circles).selectAll("."+i.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},k.redrawCircle=function(t,e,n){var r=this.main.selectAll("."+i.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?r.transition(Math.random().toString()):r).attr("cx",t).attr("cy",e)]},k.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},k.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},k.getCircles=function(t,e){return(e?this.main.selectAll("."+i.circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+i.circle+(a(t)?"-"+t:""))},k.expandCircles=function(t,e,n){var r=this.pointExpandedR.bind(this);n&&this.unexpandCircles(),this.getCircles(t,e).classed(i.EXPANDED,!0).attr("r",r)},k.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter((function(){return e.d3.select(this).classed(i.EXPANDED)})).classed(i.EXPANDED,!1).attr("r",n)},k.pointR=function(t){var e=this.config;return this.isStepType(t)?0:o(e.point_r)?e.point_r(t):e.point_r},k.pointExpandedR=function(t){var e=this.config;return e.point_focus_expand_enabled?o(e.point_focus_expand_r)?e.point_focus_expand_r(t):e.point_focus_expand_r?e.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},k.pointSelectR=function(t){var e=this.config;return o(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},k.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),r=n.select(t),a=+r.attr("cx"),o=+r.attr("cy");return Math.sqrt(Math.pow(a-i[0],2)+Math.pow(o-i[1],2))<e},k.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},k.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},k.getCurrentHeight=function(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return e>0?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},k.getCurrentPaddingTop=function(){var t=this.config,e=a(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},k.getCurrentPaddingBottom=function(){var t=this.config;return a(t.padding_bottom)?t.padding_bottom:0},k.getCurrentPaddingLeft=function(t){var e=this.config;return a(e.padding_left)?e.padding_left:e.axis_rotated?e.axis_x_show?Math.max(h(this.getAxisWidthByAxisId("x",t)),40):1:!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:h(this.getAxisWidthByAxisId("y",t))},k.getCurrentPaddingRight=function(){var t=this,e=t.config,n=t.isLegendRight?t.getLegendWidth()+20:0;return a(e.padding_right)?e.padding_right+1:e.axis_rotated?10+n:!e.axis_y2_show||e.axis_y2_inner?2+n+(t.axis.getY2AxisLabelPosition().isOuter?20:0):h(t.getAxisWidthByAxisId("y2"))+n},k.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(i){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},k.getParentWidth=function(){return this.getParentRectValue("width")},k.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},k.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,a=n.axis_rotated?i.axisX:i.axisY,o=e.main.select("."+a).node(),s=o&&r?o.getBoundingClientRect():{right:0},c=e.selectChart.node().getBoundingClientRect(),l=e.hasArcType(),u=s.right-c.left-(l?0:e.getCurrentPaddingLeft(t));return u>0?u:0},k.getAxisWidthByAxisId=function(t,e){var n=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},k.getHorizontalAxisHeight=function(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},k.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},k.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",(function(){t.redrawForBrush()})),t.brush.update=function(){return t.context&&t.context.select("."+i.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},k.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),r=e.subchart_show?"visible":"hidden";n.style("visibility",r),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",i.chart),n.select("."+i.chart).append("g").attr("class",i.chartBars),n.select("."+i.chart).append("g").attr("class",i.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",i.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",i.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?r:"hidden")},k.updateTargetsForSubchart=function(t){var e,n=this,r=n.context,a=n.config,o=n.classChartBar.bind(n),s=n.classBars.bind(n),c=n.classChartLine.bind(n),l=n.classLines.bind(n),u=n.classAreas.bind(n);a.subchart_show&&(r.select("."+i.chartBars).selectAll("."+i.chartBar).data(t).attr("class",o).enter().append("g").style("opacity",0).attr("class",o).append("g").attr("class",s),(e=r.select("."+i.chartLines).selectAll("."+i.chartLine).data(t).attr("class",c).enter().append("g").style("opacity",0).attr("class",c)).append("g").attr("class",l),e.append("g").attr("class",u),r.selectAll("."+i.brush+" rect").attr(a.axis_rotated?"width":"height",a.axis_rotated?n.width2:n.height2))},k.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+i.bars).selectAll("."+i.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},k.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},k.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+i.lines).selectAll("."+i.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},k.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},k.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+i.areas).selectAll("."+i.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",(function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0})),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},k.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},k.redrawSubchart=function(t,e,n,i,r,a,o){var s,c,l,u=this,h=u.d3,d=u.config;u.context.style("visibility",d.subchart_show?"visible":"hidden"),d.subchart_show&&(h.event&&"zoom"===h.event.type&&u.brush.extent(u.x.orgDomain()).update(),t&&(u.brush.empty()||u.brush.extent(u.x.orgDomain()).update(),s=u.generateDrawArea(r,!0),c=u.generateDrawBar(a,!0),l=u.generateDrawLine(o,!0),u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(c,n,n),u.redrawLineForSubchart(l,n,n),u.redrawAreaForSubchart(s,n,n)))},k.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},k.transformContext=function(t,e){var n;e&&e.axisSubX?n=e.axisSubX:(n=this.context.select("."+i.axisX),t&&(n=n.transition())),this.context.attr("transform",this.getTranslate("context")),n.attr("transform",this.getTranslate("subx"))},k.getDefaultExtent=function(){var t=this,e=t.config,n=o(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},k.initText=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartTexts),this.mainText=this.d3.selectAll([])},k.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),r=e.classTexts.bind(e),a=e.classFocus.bind(e);e.main.select("."+i.chartTexts).selectAll("."+i.chartText).data(t).attr("class",(function(t){return n(t)+a(t)})).enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none").append("g").attr("class",r)},k.updateText=function(t){var e=this,n=e.config,r=e.barOrLineData.bind(e),a=e.classText.bind(e);e.mainText=e.main.selectAll("."+i.texts).selectAll("."+i.text).data(r),e.mainText.enter().append("text").attr("class",a).attr("text-anchor",(function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"})).style("stroke","none").style("fill",(function(t){return e.color(t)})).style("fill-opacity",0),e.mainText.text((function(t,n,i){return e.dataLabelFormat(t.id)(t.value,t.id,n,i)})),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},k.redrawText=function(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},k.getTextRect=function(t,e,n){var i,r=this.d3.select("body").append("div").classed("c3",!0),a=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),o=this.d3.select(n).style("font");return a.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",o).text(t).each((function(){i=this.getBoundingClientRect()})),r.remove(),i},k.generateXYForText=function(t,e,n,i){var r=this,a=r.generateGetAreaPoints(t,!1),o=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(n,!1),c=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)?a:r.isBarType(t)?o:s;return c.call(r,n(t,e),t,this)}},k.getXForText=function(t,e,n){var i,r,a=this,o=n.getBoundingClientRect();return a.config.axis_rotated?(r=a.isBarType(e)?4:6,i=t[2][1]+r*(e.value<0?-1:1)):i=a.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>a.width?i=a.width-o.width:i<0&&(i=4)),i},k.getYForText=function(t,e,n){var i,r=this,a=n.getBoundingClientRect();return r.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*a.height)/2:(i=t[2][1],e.value<0||0===e.value&&!r.hasPositiveValue?(i+=a.height,r.isBarType(e)&&r.isSafari()?i-=3:!r.isBarType(e)&&r.isChrome()&&(i+=3)):i+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(i<a.height?i=a.height:i>this.height&&(i=this.height-4)),i},k.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},k.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},k.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return n.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:n.indexOf("center")>=0?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:e.title_padding.left},k.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},k.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},k.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",i.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&c(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map((function(t){return e.addName(t.values[n.tooltip_init_x])})),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},k.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var n=t.orderTargets(t.data.targets).map((function(t){return t.id}));return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}var i=e.tooltip_order;void 0===i&&(i=e.data_order);var r=function(t){return t?t.value:null};if(c(i)&&"asc"===i.toLowerCase())return function(t,e){return r(t)-r(e)};if(c(i)&&"desc"===i.toLowerCase())return function(t,e){return r(e)-r(t)};if(o(i)){var a=i;return void 0===e.tooltip_order&&(a=function(t,e){return i(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),a}return s(i)?function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}:void 0},k.getTooltipContent=function(t,e,n,i){var r,a,o,s,c,l,u=this,h=u.config,d=h.tooltip_format_title||e,f=h.tooltip_format_name||function(t){return t},p=h.tooltip_format_value||n,g=this.getTooltipSortFunction();for(g&&t.sort(g),a=0;a<t.length;a++)if(t[a]&&(t[a].value||0===t[a].value)&&(r||(o=y(d?d(t[a].x):t[a].x),r="<table class='"+u.CLASS.tooltip+"'>"+(o||0===o?"<tr><th colspan='2'>"+o+"</th></tr>":"")),void 0!==(s=y(p(t[a].value,t[a].ratio,t[a].id,t[a].index,t))))){if(null===t[a].name)continue;c=y(f(t[a].name,t[a].ratio,t[a].id,t[a].index)),l=u.levelColor?u.levelColor(t[a].value):i(t[a].id),r+="<tr class='"+u.CLASS.tooltipName+"-"+u.getTargetSelectorSuffix(t[a].id)+"'>",r+="<td class='name'><span style='background-color:"+l+"'></span>"+c+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"}return r+"</table>"},k.tooltipPosition=function(t,e,n,i){var r,a,o,s,c,l=this,u=l.config,h=l.d3,d=l.hasArcType(),f=h.mouse(i);return d?(a=(l.width-(l.isLegendRight?l.getLegendWidth():0))/2+f[0],s=l.height/2+f[1]+20):(r=l.getSvgLeft(!0),u.axis_rotated?(o=(a=r+f[0]+100)+e,c=l.currentWidth-l.getCurrentPaddingRight(),s=l.x(t[0].x)+20):(o=(a=r+l.getCurrentPaddingLeft(!0)+l.x(t[0].x)+20)+e,c=r+l.currentWidth-l.getCurrentPaddingRight(),s=f[1]+15),o>c&&(a-=o-c+20),s+n>l.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:a}},k.showTooltip=function(t,e){var n,i,r,o=this,s=o.config,c=o.hasArcType(),l=t.filter((function(t){return t&&a(t.value)})),u=s.tooltip_position||k.tooltipPosition;0!==l.length&&s.tooltip_show&&(o.tooltip.html(s.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(c),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),i=o.tooltip.property("offsetHeight"),r=u.call(this,l,n,i,e),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},k.hideTooltip=function(){this.tooltip.style("display","none")},k.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach((function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e})),t||(i.data_type=e)},k.hasType=function(t,e){var n=this.config.data_types,i=!1;return(e=e||this.data.targets)&&e.length?e.forEach((function(e){var r=n[e.id];(r&&r.indexOf(t)>=0||!r&&"line"===t)&&(i=!0)})):Object.keys(n).length?Object.keys(n).forEach((function(e){n[e]===t&&(i=!0)})):i=this.config.data_type===t,i},k.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},k.isLineType=function(t){var e=this.config,n=c(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},k.isStepType=function(t){var e=c(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},k.isSplineType=function(t){var e=c(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},k.isAreaType=function(t){var e=c(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},k.isBarType=function(t){var e=c(t)?t:t.id;return"bar"===this.config.data_types[e]},k.isScatterType=function(t){var e=c(t)?t:t.id;return"scatter"===this.config.data_types[e]},k.isPieType=function(t){var e=c(t)?t:t.id;return"pie"===this.config.data_types[e]},k.isGaugeType=function(t){var e=c(t)?t:t.id;return"gauge"===this.config.data_types[e]},k.isDonutType=function(t){var e=c(t)?t:t.id;return"donut"===this.config.data_types[e]},k.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},k.lineData=function(t){return this.isLineType(t)?[t]:[]},k.arcData=function(t){return this.isArcType(t.data)?[t]:[]},k.barData=function(t){return this.isBarType(t)?t.values:[]},k.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},k.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},k.isInterpolationType=function(t){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)>=0},k.isSafari=function(){var t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},k.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},k.initZoom=function(){var t,e=this,n=e.d3,i=e.config;e.zoom=n.behavior.zoom().on("zoomstart",(function(){t=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,i.zoom_onzoomstart.call(e.api,n.event.sourceEvent)})).on("zoom",(function(){e.redrawForZoom.call(e)})).on("zoomend",(function(){var r=n.event.sourceEvent;r&&t.clientX===r.clientX&&t.clientY===r.clientY||(e.redrawEventRect(),e.updateZoom(),i.zoom_onzoomend.call(e.api,e.x.orgDomain()))})),e.zoom.scale=function(t){return i.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=i.zoom_extent?i.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=f(e.x.orgDomain())/f(e.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},k.getZoomDomain=function(){var t=this.config,e=this.d3;return[e.min([this.orgXDomain[0],t.zoom_x_min]),e.max([this.orgXDomain[1],t.zoom_x_max])]},k.updateZoom=function(){var t=this.config.zoom_enabled?this.zoom:function(){};this.main.select("."+i.zoomRect).call(t).on("dblclick.zoom",null),this.main.selectAll("."+i.eventRect).call(t).on("dblclick.zoom",null)},k.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,r=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,r.orgDomain())}},S}()},211:function(t,e,n){(function(i){var r,a;window.angular,window.c3;!function(){var i={version:"3.5.17"},o=[].slice,s=function(t){return o.call(t)},c=this.document;function l(t){return t&&(t.ownerDocument||t.document||t).documentElement}function u(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(c)try{s(c.documentElement.childNodes)[0].nodeType}catch(t){s=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),c)try{c.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var h=this.Element.prototype,d=h.setAttribute,f=h.setAttributeNS,p=this.CSSStyleDeclaration.prototype,g=p.setProperty;h.setAttribute=function(t,e){d.call(this,t,e+"")},h.setAttributeNS=function(t,e,n){f.call(this,t,e,n+"")},p.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function v(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function b(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}i.ascending=m,i.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},i.min=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},i.max=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},i.extent=function(t,e){var n,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=t[a])&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=t[a])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++a<o;)if(null!=(i=e.call(t,t[a],a))&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=e.call(t,t[a],a))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},i.sum=function(t,e){var n,i=0,r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)y(n=+t[a])&&(i+=n);else for(;++a<r;)y(n=+e.call(t,t[a],a))&&(i+=n);return i},i.mean=function(t,e){var n,i=0,r=t.length,a=-1,o=r;if(1===arguments.length)for(;++a<r;)y(n=v(t[a]))?i+=n:--o;else for(;++a<r;)y(n=v(e.call(t,t[a],a)))?i+=n:--o;if(o)return i/o},i.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},i.median=function(t,e){var n,r=[],a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)y(n=v(t[o]))&&r.push(n);else for(;++o<a;)y(n=v(e.call(t,t[o],o)))&&r.push(n);if(r.length)return i.quantile(r.sort(m),.5)},i.variance=function(t,e){var n,i,r=t.length,a=0,o=0,s=-1,c=0;if(1===arguments.length)for(;++s<r;)y(n=v(t[s]))&&(o+=(i=n-a)*(n-(a+=i/++c)));else for(;++s<r;)y(n=v(e.call(t,t[s],s)))&&(o+=(i=n-a)*(n-(a+=i/++c)));if(c>1)return o/(c-1)},i.deviation=function(){var t=i.variance.apply(this,arguments);return t?Math.sqrt(t):t};var w=b(m);function _(t){return t.length}i.bisectLeft=w.left,i.bisect=i.bisectRight=w.right,i.bisector=function(t){return b(1===t.length?function(e,n){return m(t(e),n)}:t)},i.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var i,r,a=n-e;a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},i.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},i.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},i.transpose=function(t){if(!(a=t.length))return[];for(var e=-1,n=i.min(t,_),r=new Array(n);++e<n;)for(var a,o=-1,s=r[e]=new Array(a);++o<a;)s[o]=t[o][e];return r},i.zip=function(){return i.transpose(arguments)},i.keys=function(t){var e=[];for(var n in t)e.push(n);return e},i.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},i.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},i.merge=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--o]=i[e];return n};var x=Math.abs;function k(t){for(var e=1;t*e%1;)e*=10;return e}function S(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function C(){this._=Object.create(null)}i.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],a=k(x(n)),o=-1;if(t*=a,e*=a,(n*=a)<0)for(;(i=t+n*++o)>e;)r.push(i/a);else for(;(i=t+n*++o)<e;)r.push(i/a);return r},i.map=function(t,e){var n=new C;if(t instanceof C)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var i,r=-1,a=t.length;if(1===arguments.length)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e.call(t,i=t[r],r),i)}else for(var o in t)n.set(o,t[o]);return n};function T(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function P(t){return"\0"===(t+="")[0]?t.slice(1):t}function A(t){return T(t)in this._}function D(t){return(t=T(t))in this._&&delete this._[t]}function E(){var t=[];for(var e in this._)t.push(P(e));return t}function L(){var t=0;for(var e in this._)++t;return t}function M(){for(var t in this._)return!1;return!0}function I(){this._=Object.create(null)}function O(t){return t}function $(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function j(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=R.length;n<i;++n){var r=R[n]+e;if(r in t)return r}}S(C,{has:A,get:function(t){return this._[T(t)]},set:function(t,e){return this._[T(t)]=e},remove:D,keys:E,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:P(e),value:this._[e]});return t},size:L,empty:M,forEach:function(t){for(var e in this._)t.call(this,P(e),this._[e])}}),i.nest=function(){var t,e,n={},r=[],a=[];function o(i,a,s){if(s>=r.length)return e?e.call(n,a):t?a.sort(t):a;for(var c,l,u,h,d=-1,f=a.length,p=r[s++],g=new C;++d<f;)(h=g.get(c=p(l=a[d])))?h.push(l):g.set(c,[l]);return i?(l=i(),u=function(t,e){l.set(t,o(i,e,s))}):(l={},u=function(t,e){l[t]=o(i,e,s)}),g.forEach(u),l}return n.map=function(t,e){return o(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var i=[],o=a[n++];return e.forEach((function(e,r){i.push({key:e,values:t(r,n)})})),o?i.sort((function(t,e){return o(t.key,e.key)})):i}(o(i.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return a[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},i.set=function(t){var e=new I;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},S(I,{has:A,add:function(t){return this._[T(t+="")]=!0,t},remove:D,values:E,size:L,empty:M,forEach:function(t){for(var e in this._)t.call(this,P(e))}}),i.behavior={},i.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=$(t,e,e[n]);return t};var R=["webkit","ms","moz","Moz","o","O"];function F(){}function N(){}function V(t){var e=[],n=new C;function i(){for(var n,i=e,r=-1,a=i.length;++r<a;)(n=i[r].on)&&n.apply(this,arguments);return t}return i.on=function(i,r){var a,o=n.get(i);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,a=e.indexOf(o)).concat(e.slice(a+1)),n.remove(i)),r&&e.push(n.set(i,{on:r})),t)},i}function H(){i.event.preventDefault()}function z(){for(var t,e=i.event;t=e.sourceEvent;)e=t;return e}function G(t){for(var e=new N,n=0,r=arguments.length;++n<r;)e[arguments[n]]=V(e);return e.of=function(n,r){return function(a){try{var o=a.sourceEvent=i.event;a.target=t,i.event=a,e[a.type].apply(n,r)}finally{i.event=o}}},e}i.dispatch=function(){for(var t=new N,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=V(t);return t},N.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},i.event=null,i.requote=function(t){return t.replace(B,"\\$&")};var B=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Y={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function U(t){return Y(t,J),t}var q=function(t,e){return e.querySelector(t)},X=function(t,e){return e.querySelectorAll(t)},W=function(t,e){var n=t.matches||t[j(t,"matchesSelector")];return(W=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(q=function(t,e){return Sizzle(t,e)[0]||null},X=Sizzle,W=Sizzle.matchesSelector),i.selection=function(){return i.select(c.documentElement)};var J=i.selection.prototype=[];function Z(t){return"function"==typeof t?t:function(){return q(t,this)}}function K(t){return"function"==typeof t?t:function(){return X(t,this)}}J.select=function(t){var e,n,i,r,a=[];t=Z(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var c=-1,l=i.length;++c<l;)(r=i[c])?(e.push(n=t.call(r,r.__data__,c,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return U(a)},J.selectAll=function(t){var e,n,i=[];t=K(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],c=-1,l=o.length;++c<l;)(n=o[c])&&(i.push(e=s(t.call(n,n.__data__,c,r))),e.parentNode=n);return U(i)};var Q="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function et(t,e){return t=i.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function nt(t){return t.trim().replace(/\s+/g," ")}function it(t){return new RegExp("(?:^|\\s+)"+i.requote(t)+"(?:\\s+|$)","g")}function rt(t){return(t+"").trim().split(/^|\s+/)}function at(t,e){var n=(t=rt(t).map(ot)).length;return"function"==typeof e?function(){for(var i=-1,r=e.apply(this,arguments);++i<n;)t[i](this,r)}:function(){for(var i=-1;++i<n;)t[i](this,e)}}function ot(t){var e=it(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",nt(r+" "+t))):n.setAttribute("class",nt(r.replace(e," ")))}}function st(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}:function(){this.style.setProperty(t,e,n)}}function ct(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function lt(t){return"function"==typeof t?t:(t=i.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Q&&e.documentElement.namespaceURI===Q?e.createElement(t):e.createElementNS(n,t)}}function ut(){var t=this.parentNode;t&&t.removeChild(this)}function ht(t){return{__data__:t}}function dt(t){return function(){return W(this,t)}}function ft(t){return arguments.length||(t=m),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function pt(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,a=t[n],o=0,s=a.length;o<s;o++)(r=a[o])&&e(r,o,n);return t}function gt(t){return Y(t,mt),t}i.ns={prefix:tt,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),tt.hasOwnProperty(n)?{space:tt[n],local:t}:t}},J.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=i.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},J.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=rt(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!it(t[r]).test(e))return!1;return!0}for(e in t)this.each(at(e,t[e]));return this}return this.each(at(t,e))},J.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(st(n,t[n],e));return this}if(i<2){var r=this.node();return u(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(st(t,e,n))},J.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(ct(e,t[e]));return this}return this.each(ct(t,e))},J.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},J.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},J.append=function(t){return t=lt(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},J.insert=function(t,e){return t=lt(t),e=Z(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},J.remove=function(){return this.each(ut)},J.data=function(t,e){var n,i,r=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++r<a;)(i=n[r])&&(t[r]=i.__data__);return t}function o(t,n){var i,r,a,o=t.length,u=n.length,h=Math.min(o,u),d=new Array(u),f=new Array(u),p=new Array(o);if(e){var g,m=new C,v=new Array(o);for(i=-1;++i<o;)(r=t[i])&&(m.has(g=e.call(r,r.__data__,i))?p[i]=r:m.set(g,r),v[i]=g);for(i=-1;++i<u;)(r=m.get(g=e.call(n,a=n[i],i)))?!0!==r&&(d[i]=r,r.__data__=a):f[i]=ht(a),m.set(g,!0);for(i=-1;++i<o;)i in v&&!0!==m.get(v[i])&&(p[i]=t[i])}else{for(i=-1;++i<h;)r=t[i],a=n[i],r?(r.__data__=a,d[i]=r):f[i]=ht(a);for(;i<u;++i)f[i]=ht(n[i]);for(;i<o;++i)p[i]=t[i]}f.update=d,f.parentNode=d.parentNode=p.parentNode=t.parentNode,s.push(f),c.push(d),l.push(p)}var s=gt([]),c=U([]),l=U([]);if("function"==typeof t)for(;++r<a;)o(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<a;)o(n=this[r],t);return c.enter=function(){return s},c.exit=function(){return l},c},J.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},J.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=dt(t));for(var a=0,o=this.length;a<o;a++){r.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,c=n.length;s<c;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return U(r)},J.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},J.sort=function(t){t=ft.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},J.each=function(t){return pt(this,(function(e,n,i){t.call(e,e.__data__,n,i)}))},J.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},J.empty=function(){return!this.node()},J.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var a=n[i];if(a)return a}return null},J.size=function(){var t=0;return pt(this,(function(){++t})),t};var mt=[];function vt(t){var e,n;return function(i,r,a){var o,s=t[a].update,c=s.length;for(a!=n&&(n=a,e=0),r>=e&&(e=r+1);!(o=s[e])&&++e<c;);return o}}function yt(t,e,n){var r="__on"+t,a=t.indexOf("."),o=wt;a>0&&(t=t.slice(0,a));var c=bt.get(t);function l(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return c&&(t=c,o=_t),a?e?function(){var i=o(e,s(arguments));l.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:l:e?F:function(){var e,n=new RegExp("^__on([^.]+)"+i.requote(t)+"$");for(var r in this)if(e=r.match(n)){var a=this[r];this.removeEventListener(e[1],a,a.$),delete this[r]}}}i.selection.enter=gt,i.selection.enter.prototype=mt,mt.append=J.append,mt.empty=J.empty,mt.node=J.node,mt.call=J.call,mt.size=J.size,mt.select=function(t){for(var e,n,i,r,a,o=[],s=-1,c=this.length;++s<c;){i=(r=this[s]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,u=r.length;++l<u;)(a=r[l])?(e.push(i[l]=n=t.call(r.parentNode,a.__data__,l,s)),n.__data__=a.__data__):e.push(null)}return U(o)},mt.insert=function(t,e){return arguments.length<2&&(e=vt(this)),J.insert.call(this,t,e)},i.select=function(t){var e;return"string"==typeof t?(e=[q(t,c)]).parentNode=c.documentElement:(e=[t]).parentNode=l(t),U([e])},i.selectAll=function(t){var e;return"string"==typeof t?(e=s(X(t,c))).parentNode=c.documentElement:(e=s(t)).parentNode=null,U([e])},J.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(yt(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(yt(t,e,n))};var bt=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});function wt(t,e){return function(n){var r=i.event;i.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{i.event=r}}}function _t(t,e){var n=wt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}c&&bt.forEach((function(t){"on"+t in c&&bt.remove(t)}));var xt,kt=0;function St(t){var e=".dragsuppress-"+ ++kt,n="click"+e,r=i.select(u(t)).on("touchmove"+e,H).on("dragstart"+e,H).on("selectstart"+e,H);if(null==xt&&(xt=!("onselectstart"in t)&&j(t.style,"userSelect")),xt){var a=l(t).style,o=a[xt];a[xt]="none"}return function(t){if(r.on(e,null),xt&&(a[xt]=o),t){var i=function(){r.on(n,null)};r.on(n,(function(){H(),i()}),!0),setTimeout(i,0)}}}i.mouse=function(t){return Tt(t,z())};var Ct=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Tt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ct<0){var a=u(t);if(a.scrollX||a.scrollY){var o=(n=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ct=!(o.f||o.e),n.remove()}}return Ct?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function Pt(){return i.event.changedTouches[0].identifier}i.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=z().changedTouches),e)for(var i,r=0,a=e.length;r<a;++r)if((i=e[r]).identifier===n)return Tt(t,i)},i.behavior.drag=function(){var t=G(a,"drag","dragstart","dragend"),e=null,n=o(F,i.mouse,u,"mousemove","mouseup"),r=o(Pt,i.touch,O,"touchmove","touchend");function a(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function o(n,r,a,o,s){return function(){var c,l=this,u=i.event.target.correspondingElement||i.event.target,h=l.parentNode,d=t.of(l,arguments),f=0,p=n(),g=".drag"+(null==p?"":"-"+p),m=i.select(a(u)).on(o+g,b).on(s+g,w),v=St(u),y=r(h,p);function b(){var t,e,n=r(h,p);n&&(t=n[0]-y[0],e=n[1]-y[1],f|=t|e,y=n,d({type:"drag",x:n[0]+c[0],y:n[1]+c[1],dx:t,dy:e}))}function w(){r(h,p)&&(m.on(o+g,null).on(s+g,null),v(f),d({type:"dragend"}))}c=e?[(c=e.apply(l,arguments)).x-y[0],c.y-y[1]]:[0,0],d({type:"dragstart"})}}return a.origin=function(t){return arguments.length?(e=t,a):e},i.rebind(a,t,"on")},i.touches=function(t,e){return arguments.length<2&&(e=z().touches),e?s(e).map((function(e){var n=Tt(t,e);return n.identifier=e.identifier,n})):[]};var At=1e-6,Dt=1e-12,Et=Math.PI,Lt=2*Et,Mt=Lt-At,It=Et/2,Ot=Et/180,$t=180/Et;function jt(t){return t>0?1:t<0?-1:0}function Rt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Ft(t){return t>1?0:t<-1?Et:Math.acos(t)}function Nt(t){return t>1?It:t<-1?-It:Math.asin(t)}function Vt(t){return((t=Math.exp(t))+1/t)/2}function Ht(t){return(t=Math.sin(t/2))*t}var zt=Math.SQRT2;i.interpolateZoom=function(t,e){var n,i,r=t[0],a=t[1],o=t[2],s=e[0],c=e[1],l=e[2],u=s-r,h=c-a,d=u*u+h*h;if(d<Dt)i=Math.log(l/o)/zt,n=function(t){return[r+t*u,a+t*h,o*Math.exp(zt*t*i)]};else{var f=Math.sqrt(d),p=(l*l-o*o+4*d)/(2*o*2*f),g=(l*l-o*o-4*d)/(2*l*2*f),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/zt,n=function(t){var e,n=t*i,s=Vt(m),c=o/(2*f)*(s*(e=zt*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[r+c*u,a+c*h,o*s/Vt(zt*n+m)]}}return n.duration=1e3*i,n},i.behavior.zoom=function(){var t,e,n,r,a,o,s,l,h,d={x:0,y:0,k:1},f=[960,500],p=Yt,g=250,m=0,v="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",w="touchstart.zoom",_=G(x,"zoomstart","zoom","zoomend");function x(t){t.on(v,L).on(Bt+".zoom",I).on("dblclick.zoom",O).on(w,M)}function k(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function S(t){d.k=Math.max(p[0],Math.min(p[1],t))}function C(t,e){e=function(t){return[t[0]*d.k+d.x,t[1]*d.k+d.y]}(e),d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function T(t,n,r,a){t.__chart__={x:d.x,y:d.y,k:d.k},S(Math.pow(2,a)),C(e=n,r),t=i.select(t),g>0&&(t=t.transition().duration(g)),t.call(x.event)}function P(){s&&s.domain(o.range().map((function(t){return(t-d.x)/d.k})).map(o.invert)),h&&h.domain(l.range().map((function(t){return(t-d.y)/d.k})).map(l.invert))}function A(t){m++||t({type:"zoomstart"})}function D(t){P(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function E(t){--m||(t({type:"zoomend"}),e=null)}function L(){var t=this,e=_.of(t,arguments),n=0,r=i.select(u(t)).on(y,s).on(b,c),a=k(i.mouse(t)),o=St(t);function s(){n=1,C(i.mouse(t),a),D(e)}function c(){r.on(y,null).on(b,null),o(n),E(e)}_s.call(t),A(e)}function M(){var t,e=this,n=_.of(e,arguments),r={},o=0,s=".zoom-"+i.event.changedTouches[0].identifier,c="touchmove"+s,l="touchend"+s,u=[],h=i.select(e),f=St(e);function p(){var n=i.touches(e);return t=d.k,n.forEach((function(t){t.identifier in r&&(r[t.identifier]=k(t))})),n}function g(){var t=i.event.target;i.select(t).on(c,m).on(l,y),u.push(t);for(var n=i.event.changedTouches,s=0,h=n.length;s<h;++s)r[n[s].identifier]=null;var f=p(),g=Date.now();if(1===f.length){if(g-a<500){var v=f[0];T(e,v,r[v.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),H()}a=g}else if(f.length>1){v=f[0];var b=f[1],w=v[0]-b[0],_=v[1]-b[1];o=w*w+_*_}}function m(){var s,c,l,u,h=i.touches(e);_s.call(e);for(var d=0,f=h.length;d<f;++d,u=null)if(l=h[d],u=r[l.identifier]){if(c)break;s=l,c=u}if(u){var p=(p=l[0]-s[0])*p+(p=l[1]-s[1])*p,g=o&&Math.sqrt(p/o);s=[(s[0]+l[0])/2,(s[1]+l[1])/2],c=[(c[0]+u[0])/2,(c[1]+u[1])/2],S(g*t)}a=null,C(s,c),D(n)}function y(){if(i.event.touches.length){for(var t=i.event.changedTouches,e=0,a=t.length;e<a;++e)delete r[t[e].identifier];for(var o in r)return void p()}i.selectAll(u).on(s,null),h.on(v,L).on(w,M),f(),E(n)}g(),A(n),h.on(v,null).on(w,g)}function I(){var a=_.of(this,arguments);r?clearTimeout(r):(_s.call(this),t=k(e=n||i.mouse(this)),A(a)),r=setTimeout((function(){r=null,E(a)}),50),H(),S(Math.pow(2,.002*Gt())*d.k),C(e,t),D(a)}function O(){var t=i.mouse(this),e=Math.log(d.k)/Math.LN2;T(this,t,k(t),i.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Bt||(Bt="onwheel"in c?(Gt=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in c?(Gt=function(){return i.event.wheelDelta},"mousewheel"):(Gt=function(){return-i.event.detail},"MozMousePixelScroll")),x.event=function(t){t.each((function(){var t=_.of(this,arguments),n=d;Ss?i.select(this).transition().each("start.zoom",(function(){d=this.__chart__||{x:0,y:0,k:1},A(t)})).tween("zoom:zoom",(function(){var r=f[0],a=f[1],o=e?e[0]:r/2,s=e?e[1]:a/2,c=i.interpolateZoom([(o-d.x)/d.k,(s-d.y)/d.k,r/d.k],[(o-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(e){var n=c(e),i=r/n[2];this.__chart__=d={x:o-n[0]*i,y:s-n[1]*i,k:i},D(t)}})).each("interrupt.zoom",(function(){E(t)})).each("end.zoom",(function(){E(t)})):(this.__chart__=d,A(t),D(t),E(t))}))},x.translate=function(t){return arguments.length?(d={x:+t[0],y:+t[1],k:d.k},P(),x):[d.x,d.y]},x.scale=function(t){return arguments.length?(d={x:d.x,y:d.y,k:null},S(+t),P(),x):d.k},x.scaleExtent=function(t){return arguments.length?(p=null==t?Yt:[+t[0],+t[1]],x):p},x.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],x):n},x.size=function(t){return arguments.length?(f=t&&[+t[0],+t[1]],x):f},x.duration=function(t){return arguments.length?(g=+t,x):g},x.x=function(t){return arguments.length?(s=t,o=t.copy(),d={x:0,y:0,k:1},x):s},x.y=function(t){return arguments.length?(h=t,l=t.copy(),d={x:0,y:0,k:1},x):h},i.rebind(x,_,"on")};var Gt,Bt,Yt=[0,1/0];function Ut(){}function qt(t,e,n){return this instanceof qt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof qt?new qt(t.h,t.s,t.l):de(""+t,fe,qt):new qt(t,e,n)}i.color=Ut,Ut.prototype.toString=function(){return this.rgb()+""},i.hsl=qt;var Xt=qt.prototype=new Ut;function Wt(t,e,n){var i,r;function a(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(r-i)*t/60:t<180?r:t<240?i+(r-i)*(240-t)/60:i}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,i=2*(n=n<0?0:n>1?1:n)-(r=n<=.5?n*(1+e):n+e-n*e),new se(a(t+120),a(t),a(t-120))}function Jt(t,e,n){return this instanceof Jt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Jt?new Jt(t.h,t.c,t.l):ie(t instanceof Qt?t.l:(t=pe((t=i.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Jt(t,e,n)}Xt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new qt(this.h,this.s,this.l/t)},Xt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new qt(this.h,this.s,t*this.l)},Xt.rgb=function(){return Wt(this.h,this.s,this.l)},i.hcl=Jt;var Zt=Jt.prototype=new Ut;function Kt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Qt(n,Math.cos(t*=Ot)*e,Math.sin(t)*e)}function Qt(t,e,n){return this instanceof Qt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Qt?new Qt(t.l,t.a,t.b):t instanceof Jt?Kt(t.h,t.c,t.l):pe((t=se(t)).r,t.g,t.b):new Qt(t,e,n)}Zt.brighter=function(t){return new Jt(this.h,this.c,Math.min(100,this.l+te*(arguments.length?t:1)))},Zt.darker=function(t){return new Jt(this.h,this.c,Math.max(0,this.l-te*(arguments.length?t:1)))},Zt.rgb=function(){return Kt(this.h,this.c,this.l).rgb()},i.lab=Qt;var te=18,ee=Qt.prototype=new Ut;function ne(t,e,n){var i=(t+16)/116,r=i+e/500,a=i-n/200;return new se(oe(3.2404542*(r=.95047*re(r))-1.5371385*(i=1*re(i))-.4985314*(a=1.08883*re(a))),oe(-.969266*r+1.8760108*i+.041556*a),oe(.0556434*r-.2040259*i+1.0572252*a))}function ie(t,e,n){return t>0?new Jt(Math.atan2(n,e)*$t,Math.sqrt(e*e+n*n),t):new Jt(NaN,NaN,t)}function re(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ae(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function oe(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function se(t,e,n){return this instanceof se?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof se?new se(t.r,t.g,t.b):de(""+t,se,Wt):new se(t,e,n)}function ce(t){return new se(t>>16,t>>8&255,255&t)}function le(t){return ce(t)+""}ee.brighter=function(t){return new Qt(Math.min(100,this.l+te*(arguments.length?t:1)),this.a,this.b)},ee.darker=function(t){return new Qt(Math.max(0,this.l-te*(arguments.length?t:1)),this.a,this.b)},ee.rgb=function(){return ne(this.l,this.a,this.b)},i.rgb=se;var ue=se.prototype=new Ut;function he(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function de(t,e,n){var i,r,a,o=0,s=0,c=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(me(r[0]),me(r[1]),me(r[2]))}return(a=ve.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,c=15&a,c|=c<<4):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,c=255&a)),e(o,s,c))}function fe(t,e,n){var i,r,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,c=(o+a)/2;return s?(r=c<.5?s/(o+a):s/(2-o-a),i=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=c>0&&c<1?0:i),new qt(i,r,c)}function pe(t,e,n){var i=ae((.4124564*(t=ge(t))+.3575761*(e=ge(e))+.1804375*(n=ge(n)))/.95047),r=ae((.2126729*t+.7151522*e+.072175*n)/1);return Qt(116*r-16,500*(i-r),200*(r-ae((.0193339*t+.119192*e+.9503041*n)/1.08883)))}function ge(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function me(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}ue.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new se(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new se(r,r,r)},ue.darker=function(t){return new se((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ue.hsl=function(){return fe(this.r,this.g,this.b)},ue.toString=function(){return"#"+he(this.r)+he(this.g)+he(this.b)};var ve=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ye(t){return"function"==typeof t?t:function(){return t}}function be(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),we(e,n,t,i)}}function we(t,e,n,r){var a={},o=i.dispatch("beforesend","progress","load","error"),c={},l=new XMLHttpRequest,u=null;function h(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||e>=200&&e<300||304===e){try{t=n.call(a,l)}catch(t){return void o.error.call(a,t)}o.load.call(a,t)}else o.error.call(a,l)}return this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=h:l.onreadystatechange=function(){l.readyState>3&&h()},l.onprogress=function(t){var e=i.event;i.event=t;try{o.progress.call(a,l)}finally{i.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c[t]:(null==e?delete c[t]:c[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(u=t,a):u},a.response=function(t){return n=t,a},["get","post"].forEach((function(t){a[t]=function(){return a.send.apply(a,[t].concat(s(arguments)))}})),a.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in c||(c.accept=e+",*/*"),l.setRequestHeader)for(var s in c)l.setRequestHeader(s,c[s]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&a.on("error",r).on("load",(function(t){r(null,t)})),o.beforesend.call(a,l),l.send(null==i?null:i),a},a.abort=function(){return l.abort(),a},i.rebind(a,o,"on"),null==r?a:a.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}ve.forEach((function(t,e){ve.set(t,ce(e))})),i.functor=ye,i.xhr=be(O),i.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),i=t.charCodeAt(0);function r(t,n,i){arguments.length<3&&(i=n,n=null);var r=we(t,e,null==n?a:o(n),i);return r.row=function(t){return arguments.length?r.response(null==(n=t)?a:o(t)):n},r}function a(t){return r.parse(t.responseText)}function o(t){return function(e){return r.parse(e.responseText,t)}}function s(e){return e.map(c).join(t)}function c(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return r.parse=function(t,e){var n;return r.parseRows(t,(function(t,i){if(n)return n(t,i-1);var r=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");n=e?function(t,n){return e(r(t),n)}:r}))},r.parseRows=function(t,e){var n,r,a={},o={},s=[],c=t.length,l=0,u=0;function h(){if(l>=c)return o;if(r)return r=!1,a;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<c;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return l=n+2,13===(s=t.charCodeAt(n+1))?(r=!0,10===t.charCodeAt(n+2)&&++l):10===s&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l<c;){var s,u=1;if(10===(s=t.charCodeAt(l++)))r=!0;else if(13===s)r=!0,10===t.charCodeAt(l)&&(++l,++u);else if(s!==i)continue;return t.slice(e,l-u)}return t.slice(e)}for(;(n=h())!==o;){for(var d=[];n!==a&&n!==o;)d.push(n),n=h();e&&null==(d=e(d,u++))||s.push(d)}return s},r.format=function(e){if(Array.isArray(e[0]))return r.formatRows(e);var n=new I,i=[];return e.forEach((function(t){for(var e in t)n.has(e)||i.push(n.add(e))})),[i.map(c).join(t)].concat(e.map((function(e){return i.map((function(t){return c(e[t])})).join(t)}))).join("\n")},r.formatRows=function(t){return t.map(s).join("\n")},r},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("\t","text/tab-separated-values");var _e,xe,ke,Se,Ce=this[j(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Te(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r=n+e,a={c:t,t:r,n:null};return xe?xe.n=a:_e=a,xe=a,ke||(Se=clearTimeout(Se),ke=1,Ce(Pe)),a}function Pe(){var t=Ae(),e=De()-t;e>24?(isFinite(e)&&(clearTimeout(Se),Se=setTimeout(Pe,e)),ke=0):(ke=1,Ce(Pe))}function Ae(){for(var t=Date.now(),e=_e;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function De(){for(var t,e=_e,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:_e=e.n;return xe=t,n}function Ee(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}i.timer=function(){Te.apply(this,arguments)},i.timer.flush=function(){Ae(),De()},i.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Le=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map((function(t,e){var n=Math.pow(10,3*x(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}));function Me(t){var e=t.decimal,n=t.thousands,r=t.grouping,a=t.currency,o=r&&n?function(t,e){for(var i=t.length,a=[],o=0,s=r[0],c=0;i>0&&s>0&&(c+s+1>e&&(s=Math.max(1,e-c)),a.push(t.substring(i-=s,i+s)),!((c+=s+1)>e));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:O;return function(t){var n=Ie.exec(t),r=n[1]||" ",s=n[2]||">",c=n[3]||"-",l=n[4]||"",u=n[5],h=+n[6],d=n[7],f=n[8],p=n[9],g=1,m="",v="",y=!1,b=!0;switch(f&&(f=+f.substring(1)),(u||"0"===r&&"="===s)&&(u=r="0",s="="),p){case"n":d=!0,p="g";break;case"%":g=100,v="%",p="f";break;case"p":g=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+p.toLowerCase());case"c":b=!1;case"d":y=!0,f=0;break;case"s":g=-1,p="r"}"$"===l&&(m=a[0],v=a[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=Oe.get(p)||$e;var w=u&&d;return function(t){var n=v;if(y&&t%1)return"";var a=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===c?"":c;if(g<0){var l=i.formatPrefix(t,f);t=l.scale(t),n=l.symbol+v}else t*=g;var _,x,k=(t=p(t,f)).lastIndexOf(".");if(k<0){var S=b?t.lastIndexOf("e"):-1;S<0?(_=t,x=""):(_=t.substring(0,S),x=t.substring(S))}else _=t.substring(0,k),x=e+t.substring(k+1);!u&&d&&(_=o(_,1/0));var C=m.length+_.length+x.length+(w?0:a.length),T=C<h?new Array(C=h-C+1).join(r):"";return w&&(_=o(T+_,T.length?h-x.length:1/0)),a+=m,t=_+x,("<"===s?a+t+T:">"===s?T+a+t:"^"===s?T.substring(0,C>>=1)+a+t+T.substring(C):a+(w?t:T+t))+n}}}i.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=i.round(t,Ee(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Le[8+n/3]};var Ie=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Oe=i.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=i.round(t,Ee(t,e))).toFixed(Math.max(0,Math.min(20,Ee(t*(1+1e-15),e))))}});function $e(t){return t+""}var je=i.time={},Re=Date;function Fe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Fe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ne.setUTCDate.apply(this._,arguments)},setDay:function(){Ne.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ne.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ne.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ne.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ne.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ne.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ne.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ne.setTime.apply(this._,arguments)}};var Ne=Date.prototype;function Ve(t,e,n){function i(e){var n=t(e),i=a(n,1);return e-n<i-e?n:i}function r(n){return e(n=t(new Re(n-1)),1),n}function a(t,n){return e(t=new Re(+t),n),t}function o(t,i,a){var o=r(t),s=[];if(a>1)for(;o<i;)n(o)%a||s.push(new Date(+o)),e(o,1);else for(;o<i;)s.push(new Date(+o)),e(o,1);return s}t.floor=t,t.round=i,t.ceil=r,t.offset=a,t.range=o;var s=t.utc=He(t);return s.floor=s,s.round=He(i),s.ceil=He(r),s.offset=He(a),s.range=function(t,e,n){try{Re=Fe;var i=new Fe;return i._=t,o(i,e,n)}finally{Re=Date}},t}function He(t){return function(e,n){try{Re=Fe;var i=new Fe;return i._=e,t(i,n)._}finally{Re=Date}}}function ze(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,o=t.days,s=t.shortDays,c=t.months,l=t.shortMonths;function u(t){var e=t.length;function n(n){for(var i,r,a,o=[],s=-1,c=0;++s<e;)37===t.charCodeAt(s)&&(o.push(t.slice(c,s)),null!=(r=Ge[i=t.charAt(++s)])&&(i=t.charAt(++s)),(a=_[i])&&(i=a(n,null==r?"e"===i?" ":"0":r)),o.push(i),c=s+1);return o.push(t.slice(c,s)),o.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&Re!==Fe,r=new(i?Fe:Re);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?r._:r},n.toString=function(){return t},n}function h(t,e,n,i){for(var r,a,o,s=0,c=e.length,l=n.length;s<c;){if(i>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(o=e.charAt(s++),!(a=x[o in Ge?e.charAt(s++):o])||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}u.utc=function(t){var e=u(t);function n(t){try{var n=new(Re=Fe);return n._=t,e(n)}finally{Re=Date}}return n.parse=function(t){try{Re=Fe;var n=e.parse(t);return n&&n._}finally{Re=Date}},n.toString=e.toString,n},u.multi=u.utc.multi=hn;var d=i.map(),f=qe(o),p=Xe(o),g=qe(s),m=Xe(s),v=qe(c),y=Xe(c),b=qe(l),w=Xe(l);a.forEach((function(t,e){d.set(t.toLowerCase(),e)}));var _={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:u(e),d:function(t,e){return Ue(t.getDate(),e,2)},e:function(t,e){return Ue(t.getDate(),e,2)},H:function(t,e){return Ue(t.getHours(),e,2)},I:function(t,e){return Ue(t.getHours()%12||12,e,2)},j:function(t,e){return Ue(1+je.dayOfYear(t),e,3)},L:function(t,e){return Ue(t.getMilliseconds(),e,3)},m:function(t,e){return Ue(t.getMonth()+1,e,2)},M:function(t,e){return Ue(t.getMinutes(),e,2)},p:function(t){return a[+(t.getHours()>=12)]},S:function(t,e){return Ue(t.getSeconds(),e,2)},U:function(t,e){return Ue(je.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ue(je.mondayOfYear(t),e,2)},x:u(n),X:u(r),y:function(t,e){return Ue(t.getFullYear()%100,e,2)},Y:function(t,e){return Ue(t.getFullYear()%1e4,e,4)},Z:ln,"%":function(){return"%"}},x={a:function(t,e,n){g.lastIndex=0;var i=g.exec(e.slice(n));return i?(t.w=m.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){f.lastIndex=0;var i=f.exec(e.slice(n));return i?(t.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.m=w.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){v.lastIndex=0;var i=v.exec(e.slice(n));return i?(t.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,n){return h(t,_.c.toString(),e,n)},d:nn,e:nn,H:an,I:an,j:rn,L:cn,m:en,M:on,p:function(t,e,n){var i=d.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:sn,U:Je,w:We,W:Ze,x:function(t,e,n){return h(t,_.x.toString(),e,n)},X:function(t,e,n){return h(t,_.X.toString(),e,n)},y:Qe,Y:Ke,Z:tn,"%":un};return u}je.year=Ve((function(t){return(t=je.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),je.years=je.year.range,je.years.utc=je.year.utc.range,je.day=Ve((function(t){var e=new Re(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),je.days=je.day.range,je.days.utc=je.day.utc.range,je.dayOfYear=function(t){var e=je.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=je[t]=Ve((function(t){return(t=je.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=je.year(t).getDay();return Math.floor((je.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));je[t+"s"]=n.range,je[t+"s"].utc=n.utc.range,je[t+"OfYear"]=function(t){var n=je.year(t).getDay();return Math.floor((je.dayOfYear(t)+(n+e)%7)/7)}})),je.week=je.sunday,je.weeks=je.sunday.range,je.weeks.utc=je.sunday.utc.range,je.weekOfYear=je.sundayOfYear;var Ge={"-":"",_:" ",0:"0"},Be=/^\s*\d+/,Ye=/^%/;function Ue(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function qe(t){return new RegExp("^(?:"+t.map(i.requote).join("|")+")","i")}function Xe(t){for(var e=new C,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function We(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Je(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Ze(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Ke(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Qe(t,e,n){Be.lastIndex=0;var i,r=Be.exec(e.slice(n,n+2));return r?(t.y=(i=+r[0])+(i>68?1900:2e3),n+r[0].length):-1}function tn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function en(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function nn(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function rn(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function an(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function on(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function sn(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function cn(t,e,n){Be.lastIndex=0;var i=Be.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ln(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=x(e)/60|0,r=x(e)%60;return n+Ue(i,"0",2)+Ue(r,"0",2)}function un(t,e,n){Ye.lastIndex=0;var i=Ye.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function hn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}i.locale=function(t){return{numberFormat:Me(t),timeFormat:ze(t)}};var dn=i.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fn(){}i.format=dn.numberFormat,i.geo={},fn.prototype={s:0,t:0,add:function(t){gn(t,this.t,pn),gn(pn.s,this.s,this),this.s?this.t+=pn.t:this.s=pn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pn=new fn;function gn(t,e,n){var i=n.s=t+e,r=i-t,a=i-r;n.t=t-a+(e-r)}function mn(t,e){t&&yn.hasOwnProperty(t.type)&&yn[t.type](t,e)}i.geo.stream=function(t,e){t&&vn.hasOwnProperty(t.type)?vn[t.type](t,e):mn(t,e)};var vn={Feature:function(t,e){mn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)mn(n[i].geometry,e)}},yn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){bn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)bn(n[i],e,0)},Polygon:function(t,e){wn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)wn(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)mn(n[i],e)}};function bn(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function wn(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)bn(t[n],e,1);e.polygonEnd()}i.geo.area=function(t){return _n=0,i.geo.stream(t,On),_n};var _n,xn,kn,Sn,Cn,Tn,Pn,An,Dn,En,Ln,Mn,In=new fn,On={sphere:function(){_n+=4*Et},point:F,lineStart:F,lineEnd:F,polygonStart:function(){In.reset(),On.lineStart=$n},polygonEnd:function(){var t=2*In;_n+=t<0?4*Et+t:t,On.lineStart=On.lineEnd=On.point=F}};function $n(){var t,e,n,i,r;function a(t,e){e=e*Ot/2+Et/4;var a=(t*=Ot)-n,o=a>=0?1:-1,s=o*a,c=Math.cos(e),l=Math.sin(e),u=r*l,h=i*c+u*Math.cos(s),d=u*o*Math.sin(s);In.add(Math.atan2(d,h)),n=t,i=c,r=l}On.point=function(o,s){On.point=a,n=(t=o)*Ot,i=Math.cos(s=(e=s)*Ot/2+Et/4),r=Math.sin(s)},On.lineEnd=function(){a(t,e)}}function jn(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function Rn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Fn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Nn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Vn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Hn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function zn(t){return[Math.atan2(t[1],t[0]),Nt(t[2])]}function Gn(t,e){return x(t[0]-e[0])<At&&x(t[1]-e[1])<At}i.geo.bounds=function(){var t,e,n,r,a,o,s,c,l,u,h,d={point:f,lineStart:g,lineEnd:m,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=b,l=0,On.polygonStart()},polygonEnd:function(){On.polygonEnd(),d.point=f,d.lineStart=g,d.lineEnd=m,In<0?(t=-(n=180),e=-(r=90)):l>At?r=90:l<-At&&(e=-90),h[0]=t,h[1]=n}};function f(i,a){u.push(h=[t=i,n=i]),a<e&&(e=a),a>r&&(r=a)}function p(i,o){var s=jn([i*Ot,o*Ot]);if(c){var l=Fn(c,s),u=Fn([l[1],-l[0],0],l);Hn(u),u=zn(u);var h=i-a,d=h>0?1:-1,p=u[0]*$t*d,g=x(h)>180;if(g^(d*a<p&&p<d*i))(m=u[1]*$t)>r&&(r=m);else if(g^(d*a<(p=(p+360)%360-180)&&p<d*i)){var m;(m=-u[1]*$t)<e&&(e=m)}else o<e&&(e=o),o>r&&(r=o);g?i<a?w(t,i)>w(t,n)&&(n=i):w(i,n)>w(t,n)&&(t=i):n>=t?(i<t&&(t=i),i>n&&(n=i)):i>a?w(t,i)>w(t,n)&&(n=i):w(i,n)>w(t,n)&&(t=i)}else f(i,o);c=s,a=i}function g(){d.point=p}function m(){h[0]=t,h[1]=n,d.point=f,c=null}function v(t,e){if(c){var n=t-a;l+=x(n)>180?n+(n>0?360:-360):n}else o=t,s=e;On.point(t,e),p(t,e)}function y(){On.lineStart()}function b(){v(o,s),On.lineEnd(),x(l)>At&&(t=-(n=180)),h[0]=t,h[1]=n,c=null}function w(t,e){return(e-=t)<0?e+360:e}function _(t,e){return t[0]-e[0]}function k(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(a){if(r=n=-(t=e=1/0),u=[],i.geo.stream(a,d),l=u.length){u.sort(_);for(var o=1,s=[g=u[0]];o<l;++o)k((f=u[o])[0],g)||k(f[1],g)?(w(g[0],f[1])>w(g[0],g[1])&&(g[1]=f[1]),w(f[0],g[1])>w(g[0],g[1])&&(g[0]=f[0])):s.push(g=f);for(var c,l,f,p=-1/0,g=(o=0,s[l=s.length-1]);o<=l;g=f,++o)f=s[o],(c=w(g[1],f[0]))>p&&(p=c,t=f[0],n=g[1])}return u=h=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),i.geo.centroid=function(t){xn=kn=Sn=Cn=Tn=Pn=An=Dn=En=Ln=Mn=0,i.geo.stream(t,Bn);var e=En,n=Ln,r=Mn,a=e*e+n*n+r*r;return a<Dt&&(e=Pn,n=An,r=Dn,kn<At&&(e=Sn,n=Cn,r=Tn),(a=e*e+n*n+r*r)<Dt)?[NaN,NaN]:[Math.atan2(n,e)*$t,Nt(r/Math.sqrt(a))*$t]};var Bn={sphere:F,point:Yn,lineStart:qn,lineEnd:Xn,polygonStart:function(){Bn.lineStart=Wn},polygonEnd:function(){Bn.lineStart=qn}};function Yn(t,e){t*=Ot;var n=Math.cos(e*=Ot);Un(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Un(t,e,n){++xn,Sn+=(t-Sn)/xn,Cn+=(e-Cn)/xn,Tn+=(n-Tn)/xn}function qn(){var t,e,n;function i(i,r){i*=Ot;var a=Math.cos(r*=Ot),o=a*Math.cos(i),s=a*Math.sin(i),c=Math.sin(r),l=Math.atan2(Math.sqrt((l=e*c-n*s)*l+(l=n*o-t*c)*l+(l=t*s-e*o)*l),t*o+e*s+n*c);kn+=l,Pn+=l*(t+(t=o)),An+=l*(e+(e=s)),Dn+=l*(n+(n=c)),Un(t,e,n)}Bn.point=function(r,a){r*=Ot;var o=Math.cos(a*=Ot);t=o*Math.cos(r),e=o*Math.sin(r),n=Math.sin(a),Bn.point=i,Un(t,e,n)}}function Xn(){Bn.point=Yn}function Wn(){var t,e,n,i,r;function a(t,e){t*=Ot;var a=Math.cos(e*=Ot),o=a*Math.cos(t),s=a*Math.sin(t),c=Math.sin(e),l=i*c-r*s,u=r*o-n*c,h=n*s-i*o,d=Math.sqrt(l*l+u*u+h*h),f=n*o+i*s+r*c,p=d&&-Ft(f)/d,g=Math.atan2(d,f);En+=p*l,Ln+=p*u,Mn+=p*h,kn+=g,Pn+=g*(n+(n=o)),An+=g*(i+(i=s)),Dn+=g*(r+(r=c)),Un(n,i,r)}Bn.point=function(o,s){t=o,e=s,Bn.point=a,o*=Ot;var c=Math.cos(s*=Ot);n=c*Math.cos(o),i=c*Math.sin(o),r=Math.sin(s),Un(n,i,r)},Bn.lineEnd=function(){a(t,e),Bn.lineEnd=Xn,Bn.point=Yn}}function Jn(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Zn(){return!0}function Kn(t,e,n,i,r){var a=[],o=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Gn(n,i)){r.lineStart();for(var s=0;s<e;++s)r.point((n=t[s])[0],n[1]);r.lineEnd()}else{var c=new ti(n,t,null,!0),l=new ti(n,null,c,!1);c.o=l,a.push(c),o.push(l),c=new ti(i,t,null,!1),l=new ti(i,null,c,!0),c.o=l,a.push(c),o.push(l)}}})),o.sort(e),Qn(a),Qn(o),a.length){for(var s=0,c=n,l=o.length;s<l;++s)o[s].e=c=!c;for(var u,h,d=a[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(s=0,l=u.length;s<l;++s)r.point((h=u[s])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(s=(u=f.p.z).length-1;s>=0;--s)r.point((h=u[s])[0],h[1]);else i(f.x,f.p.x,-1,r);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}}function Qn(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function ti(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ei(t,e,n,r){return function(a,o){var s,c=e(o),l=a.invert(r[0],r[1]),u={point:h,lineStart:f,lineEnd:p,polygonStart:function(){u.point=w,u.lineStart=_,u.lineEnd=x,s=[],g=[]},polygonEnd:function(){u.point=h,u.lineStart=f,u.lineEnd=p,s=i.merge(s);var t=function(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;In.reset();for(var s=0,c=e.length;s<c;++s){var l=e[s],u=l.length;if(u)for(var h=l[0],d=h[0],f=h[1]/2+Et/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===u&&(m=0);var v=(t=l[m])[0],y=t[1]/2+Et/4,b=Math.sin(y),w=Math.cos(y),_=v-d,x=_>=0?1:-1,k=x*_,S=k>Et,C=p*b;if(In.add(Math.atan2(C*x*Math.sin(k),g*w+C*Math.cos(k))),a+=S?_+x*Lt:_,S^d>=n^v>=n){var T=Fn(jn(h),jn(t));Hn(T);var P=Fn(r,T);Hn(P);var A=(S^_>=0?-1:1)*Nt(P[2]);(i>A||i===A&&(T[0]||T[1]))&&(o+=S^_>=0?1:-1)}if(!m++)break;d=v,p=b,g=w,h=t}}return(a<-At||a<At&&In<-At)^1&o}(l,g);s.length?(b||(o.polygonStart(),b=!0),Kn(s,ri,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),s=g=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(e,n){var i=a(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function d(t,e){var n=a(t,e);c.point(n[0],n[1])}function f(){u.point=d,c.lineStart()}function p(){u.point=h,c.lineEnd()}var g,m,v=ii(),y=e(v),b=!1;function w(t,e){m.push([t,e]);var n=a(t,e);y.point(n[0],n[1])}function _(){y.lineStart(),m=[]}function x(){w(m[0][0],m[0][1]),y.lineEnd();var t,e=y.clean(),n=v.buffer(),i=n.length;if(m.pop(),g.push(m),m=null,i)if(1&e){var r,a=-1;if((i=(t=n[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++a<i;)o.point((r=t[a])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(ni))}return u}}function ni(t){return t.length>1}function ii(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:F,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ri(t,e){return((t=t.x)[0]<0?t[1]-It-At:It-t[1])-((e=e.x)[0]<0?e[1]-It-At:It-e[1])}var ai=ei(Zn,(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Et:-Et,c=x(a-n);x(c-Et)<At?(t.point(n,i=(i+o)/2>0?It:-It),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),e=0):r!==s&&c>=Et&&(x(n-r)<At&&(n-=r*At),x(a-s)<At&&(a-=s*At),i=function(t,e,n,i){var r,a,o=Math.sin(t-n);return x(o)>At?Math.atan((Math.sin(e)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*a*o)):(e+i)/2}(n,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=a,i=o),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*It,i.point(-Et,r),i.point(0,r),i.point(Et,r),i.point(Et,0),i.point(Et,-r),i.point(0,-r),i.point(-Et,-r),i.point(-Et,0),i.point(-Et,r);else if(x(t[0]-e[0])>At){var a=t[0]<e[0]?Et:-Et;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}),[-Et,-Et/2]);function oi(t){var e=Math.cos(t),n=e>0,i=x(e)>At;return ei(r,(function(t){var e,s,c,l,u;return{lineStart:function(){l=c=!1,u=1},point:function(h,d){var f,p=[h,d],g=r(h,d),m=n?g?0:o(h,d):g?o(h+(h<0?Et:-Et),d):0;if(!e&&(l=c=g)&&t.lineStart(),g!==c&&(f=a(e,p),(Gn(e,f)||Gn(p,f))&&(p[0]+=At,p[1]+=At,g=r(p[0],p[1]))),g!==c)u=0,g?(t.lineStart(),f=a(p,e),t.point(f[0],f[1])):(f=a(e,p),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(i&&e&&n^g){var v;m&s||!(v=a(p,e,!0))||(u=0,n?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&Gn(e,p)||t.point(p[0],p[1]),e=p,c=g,s=m},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return u|(l&&c)<<1}}}),zi(t,6*Ot),n?[0,-t]:[-Et,t-Et]);function r(t,n){return Math.cos(t)*Math.cos(n)>e}function a(t,n,i){var r=[1,0,0],a=Fn(jn(t),jn(n)),o=Rn(a,a),s=a[0],c=o-s*s;if(!c)return!i&&t;var l=e*o/c,u=-e*s/c,h=Fn(r,a),d=Vn(r,l);Nn(d,Vn(a,u));var f=h,p=Rn(d,f),g=Rn(f,f),m=p*p-g*(Rn(d,d)-1);if(!(m<0)){var v=Math.sqrt(m),y=Vn(f,(-p-v)/g);if(Nn(y,d),y=zn(y),!i)return y;var b,w=t[0],_=n[0],k=t[1],S=n[1];_<w&&(b=w,w=_,_=b);var C=_-w,T=x(C-Et)<At;if(!T&&S<k&&(b=k,k=S,S=b),T||C<At?T?k+S>0^y[1]<(x(y[0]-w)<At?k:S):k<=y[1]&&y[1]<=S:C>Et^(w<=y[0]&&y[0]<=_)){var P=Vn(f,(-p+v)/g);return Nn(P,d),[y,zn(P)]}}}function o(e,i){var r=n?t:Et-t,a=0;return e<-r?a|=1:e>r&&(a|=2),i<-r?a|=4:i>r&&(a|=8),a}}function si(t,e,n,i){return function(r){var a,o=r.a,s=r.b,c=o.x,l=o.y,u=0,h=1,d=s.x-c,f=s.y-l;if(a=t-c,d||!(a>0)){if(a/=d,d<0){if(a<u)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>u&&(u=a)}if(a=n-c,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>u&&(u=a)}else if(d>0){if(a<u)return;a<h&&(h=a)}if(a=e-l,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>u&&(u=a)}if(a=i-l,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<h&&(h=a)}return u>0&&(r.a={x:c+u*d,y:l+u*f}),h<1&&(r.b={x:c+h*d,y:l+h*f}),r}}}}}}function ci(t,e,n,r){return function(c){var l,u,h,d,f,p,g,m,v,y,b,w=c,_=ii(),x=si(t,e,n,r),k={point:T,lineStart:function(){k.point=P,u&&u.push(h=[]);y=!0,v=!1,g=m=NaN},lineEnd:function(){l&&(P(d,f),p&&v&&_.rejoin(),l.push(_.buffer()));k.point=T,v&&c.lineEnd()},polygonStart:function(){c=_,l=[],u=[],b=!0},polygonEnd:function(){c=w,l=i.merge(l);var e=function(t){for(var e=0,n=u.length,i=t[1],r=0;r<n;++r)for(var a,o=1,s=u[r],c=s.length,l=s[0];o<c;++o)a=s[o],l[1]<=i?a[1]>i&&Rt(l,a,t)>0&&++e:a[1]<=i&&Rt(l,a,t)<0&&--e,l=a;return 0!==e}([t,r]),n=b&&e,a=l.length;(n||a)&&(c.polygonStart(),n&&(c.lineStart(),S(null,null,1,c),c.lineEnd()),a&&Kn(l,o,e,S,c),c.polygonEnd()),l=u=h=null}};function S(i,o,c,l){var u=0,h=0;if(null==i||(u=a(i,c))!==(h=a(o,c))||s(i,o)<0^c>0)do{l.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+c+4)%4)!==h);else l.point(o[0],o[1])}function C(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function T(t,e){C(t,e)&&c.point(t,e)}function P(t,e){var n=C(t=Math.max(-1e9,Math.min(1e9,t)),e=Math.max(-1e9,Math.min(1e9,e)));if(u&&h.push([t,e]),y)d=t,f=e,p=n,y=!1,n&&(c.lineStart(),c.point(t,e));else if(n&&v)c.point(t,e);else{var i={a:{x:g,y:m},b:{x:t,y:e}};x(i)?(v||(c.lineStart(),c.point(i.a.x,i.a.y)),c.point(i.b.x,i.b.y),n||c.lineEnd(),b=!1):n&&(c.lineStart(),c.point(t,e),b=!1)}g=t,m=e,v=n}return k};function a(i,r){return x(i[0]-t)<At?r>0?0:3:x(i[0]-n)<At?r>0?2:1:x(i[1]-e)<At?r>0?1:0:r>0?3:2}function o(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function li(t){var e=0,n=Et/3,i=Oi(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Et/180,n=t[1]*Et/180):[e/Et*180,n/Et*180]},r}function ui(t,e){var n=Math.sin(t),i=(n+Math.sin(e))/2,r=1+n*(2*i-n),a=Math.sqrt(r)/i;function o(t,e){var n=Math.sqrt(r-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}return o.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,Nt((r-(t*t+n*n)*i*i)/(2*i))]},o}i.geo.clipExtent=function(){var t,e,n,i,r,a,o={stream:function(t){return r&&(r.valid=!1),(r=a(t)).valid=!0,r},extent:function(s){return arguments.length?(a=ci(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),o):[[t,e],[n,i]]}};return o.extent([[0,0],[960,500]])},(i.geo.conicEqualArea=function(){return li(ui)}).raw=ui,i.geo.albers=function(){return i.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},i.geo.albersUsa=function(){var t,e,n,r,a=i.geo.albers(),o=i.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=i.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,n){t=[e,n]}};function l(i){var a=i[0],o=i[1];return t=null,e(a,o),t||(n(a,o),t)||r(a,o),t}return l.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?o:r>=.166&&r<.234&&i>=-.214&&i<-.115?s:a).invert(t)},l.stream=function(t){var e=a.stream(t),n=o.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},l.precision=function(t){return arguments.length?(a.precision(t),o.precision(t),s.precision(t),l):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),o.scale(.35*t),s.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var i=a.scale(),u=+t[0],h=+t[1];return e=a.translate(t).clipExtent([[u-.455*i,h-.238*i],[u+.455*i,h+.238*i]]).stream(c).point,n=o.translate([u-.307*i,h+.201*i]).clipExtent([[u-.425*i+At,h+.12*i+At],[u-.214*i-At,h+.234*i-At]]).stream(c).point,r=s.translate([u-.205*i,h+.212*i]).clipExtent([[u-.214*i+At,h+.166*i+At],[u-.115*i-At,h+.234*i-At]]).stream(c).point,l},l.scale(1070)};var hi,di,fi,pi,gi,mi,vi={point:F,lineStart:F,lineEnd:F,polygonStart:function(){di=0,vi.lineStart=yi},polygonEnd:function(){vi.lineStart=vi.lineEnd=vi.point=F,hi+=x(di/2)}};function yi(){var t,e,n,i;function r(t,e){di+=i*t-n*e,n=t,i=e}vi.point=function(a,o){vi.point=r,t=n=a,e=i=o},vi.lineEnd=function(){r(t,e)}}var bi={point:function(t,e){t<fi&&(fi=t);t>gi&&(gi=t);e<pi&&(pi=e);e>mi&&(mi=e)},lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F};function wi(){var t=_i(4.5),e=[],n={point:i,lineStart:function(){n.point=r},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=i},pointRadius:function(e){return t=_i(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function i(n,i){e.push("M",n,",",i,t)}function r(t,i){e.push("M",t,",",i),n.point=a}function a(t,n){e.push("L",t,",",n)}function o(){n.point=i}function s(){e.push("Z")}return n}function _i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var xi,ki={point:Si,lineStart:Ci,lineEnd:Ti,polygonStart:function(){ki.lineStart=Pi},polygonEnd:function(){ki.point=Si,ki.lineStart=Ci,ki.lineEnd=Ti}};function Si(t,e){Sn+=t,Cn+=e,++Tn}function Ci(){var t,e;function n(n,i){var r=n-t,a=i-e,o=Math.sqrt(r*r+a*a);Pn+=o*(t+n)/2,An+=o*(e+i)/2,Dn+=o,Si(t=n,e=i)}ki.point=function(i,r){ki.point=n,Si(t=i,e=r)}}function Ti(){ki.point=Si}function Pi(){var t,e,n,i;function r(t,e){var r=t-n,a=e-i,o=Math.sqrt(r*r+a*a);Pn+=o*(n+t)/2,An+=o*(i+e)/2,Dn+=o,En+=(o=i*t-n*e)*(n+t),Ln+=o*(i+e),Mn+=3*o,Si(n=t,i=e)}ki.point=function(a,o){ki.point=r,Si(t=n=a,e=i=o)},ki.lineEnd=function(){r(t,e)}}function Ai(t){var e=4.5,n={point:i,lineStart:function(){n.point=r},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=i},pointRadius:function(t){return e=t,n},result:F};function i(n,i){t.moveTo(n+e,i),t.arc(n,i,e,0,Lt)}function r(e,i){t.moveTo(e,i),n.point=a}function a(e,n){t.lineTo(e,n)}function o(){n.point=i}function s(){t.closePath()}return n}function Di(t){var e=.5,n=Math.cos(30*Ot),i=16;function r(t){return(i?o:a)(t)}function a(e){return Mi(e,(function(n,i){n=t(n,i),e.point(n[0],n[1])}))}function o(e){var n,r,a,o,c,l,u,h,d,f,p,g,m={point:v,lineStart:y,lineEnd:w,polygonStart:function(){e.polygonStart(),m.lineStart=_},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function v(n,i){n=t(n,i),e.point(n[0],n[1])}function y(){h=NaN,m.point=b,e.lineStart()}function b(n,r){var a=jn([n,r]),o=t(n,r);s(h,d,u,f,p,g,h=o[0],d=o[1],u=n,f=a[0],p=a[1],g=a[2],i,e),e.point(h,d)}function w(){m.point=v,e.lineEnd()}function _(){y(),m.point=x,m.lineEnd=k}function x(t,e){b(n=t,e),r=h,a=d,o=f,c=p,l=g,m.point=b}function k(){s(h,d,u,f,p,g,r,a,n,o,c,l,i,e),m.lineEnd=w,w()}return m}function s(i,r,a,o,c,l,u,h,d,f,p,g,m,v){var y=u-i,b=h-r,w=y*y+b*b;if(w>4*e&&m--){var _=o+f,k=c+p,S=l+g,C=Math.sqrt(_*_+k*k+S*S),T=Math.asin(S/=C),P=x(x(S)-1)<At||x(a-d)<At?(a+d)/2:Math.atan2(k,_),A=t(P,T),D=A[0],E=A[1],L=D-i,M=E-r,I=b*L-y*M;(I*I/w>e||x((y*L+b*M)/w-.5)>.3||o*f+c*p+l*g<n)&&(s(i,r,a,o,c,l,D,E,P,_/=C,k/=C,S,m,v),v.point(D,E),s(D,E,P,_,k,S,u,h,d,f,p,g,m,v))}}return r.precision=function(t){return arguments.length?(i=(e=t*t)>0&&16,r):Math.sqrt(e)},r}function Ei(t){var e=Di((function(e,n){return t([e*$t,n*$t])}));return function(t){return $i(e(t))}}function Li(t){this.stream=t}function Mi(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ii(t){return Oi((function(){return t}))()}function Oi(t){var e,n,r,a,o,s,c=Di((function(t,n){return[(t=e(t,n))[0]*l+a,o-t[1]*l]})),l=150,u=480,h=250,d=0,f=0,p=0,g=0,m=0,v=ai,y=O,b=null,w=null;function _(t){return[(t=r(t[0]*Ot,t[1]*Ot))[0]*l+a,o-t[1]*l]}function x(t){return(t=r.invert((t[0]-a)/l,(o-t[1])/l))&&[t[0]*$t,t[1]*$t]}function k(){r=Jn(n=Fi(p,g,m),e);var t=e(d,f);return a=u-t[0]*l,o=h+t[1]*l,S()}function S(){return s&&(s.valid=!1,s=null),_}return _.stream=function(t){return s&&(s.valid=!1),(s=$i(v(n,c(y(t))))).valid=!0,s},_.clipAngle=function(t){return arguments.length?(v=null==t?(b=t,ai):oi((b=+t)*Ot),S()):b},_.clipExtent=function(t){return arguments.length?(w=t,y=t?ci(t[0][0],t[0][1],t[1][0],t[1][1]):O,S()):w},_.scale=function(t){return arguments.length?(l=+t,k()):l},_.translate=function(t){return arguments.length?(u=+t[0],h=+t[1],k()):[u,h]},_.center=function(t){return arguments.length?(d=t[0]%360*Ot,f=t[1]%360*Ot,k()):[d*$t,f*$t]},_.rotate=function(t){return arguments.length?(p=t[0]%360*Ot,g=t[1]%360*Ot,m=t.length>2?t[2]%360*Ot:0,k()):[p*$t,g*$t,m*$t]},i.rebind(_,c,"precision"),function(){return e=t.apply(this,arguments),_.invert=e.invert&&x,k()}}function $i(t){return Mi(t,(function(e,n){t.point(e*Ot,n*Ot)}))}function ji(t,e){return[t,e]}function Ri(t,e){return[t>Et?t-Lt:t<-Et?t+Lt:t,e]}function Fi(t,e,n){return t?e||n?Jn(Vi(t),Hi(e,n)):Vi(t):e||n?Hi(e,n):Ri}function Ni(t){return function(e,n){return[(e+=t)>Et?e-Lt:e<-Et?e+Lt:e,n]}}function Vi(t){var e=Ni(t);return e.invert=Ni(-t),e}function Hi(t,e){var n=Math.cos(t),i=Math.sin(t),r=Math.cos(e),a=Math.sin(e);function o(t,e){var o=Math.cos(e),s=Math.cos(t)*o,c=Math.sin(t)*o,l=Math.sin(e),u=l*n+s*i;return[Math.atan2(c*r-u*a,s*n-l*i),Nt(u*r+c*a)]}return o.invert=function(t,e){var o=Math.cos(e),s=Math.cos(t)*o,c=Math.sin(t)*o,l=Math.sin(e),u=l*r-c*a;return[Math.atan2(c*r+l*a,s*n+u*i),Nt(u*n-s*i)]},o}function zi(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,a,o,s){var c=o*e;null!=r?(r=Gi(n,r),a=Gi(n,a),(o>0?r<a:r>a)&&(r+=o*Lt)):(r=t+o*Lt,a=t-.5*c);for(var l,u=r;o>0?u>a:u<a;u-=c)s.point((l=zn([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],l[1])}}function Gi(t,e){var n=jn(e);n[0]-=t,Hn(n);var i=Ft(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-At)%(2*Math.PI)}function Bi(t,e,n){var r=i.range(t,e-At,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Yi(t,e,n){var r=i.range(t,e-At,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Ui(t){return t.source}function qi(t){return t.target}i.geo.path=function(){var t,e,n,r,a,o=4.5;function s(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=n(r)),i.geo.stream(t,a)),r.result()}function c(){return a=null,s}return s.area=function(t){return hi=0,i.geo.stream(t,n(vi)),hi},s.centroid=function(t){return Sn=Cn=Tn=Pn=An=Dn=En=Ln=Mn=0,i.geo.stream(t,n(ki)),Mn?[En/Mn,Ln/Mn]:Dn?[Pn/Dn,An/Dn]:Tn?[Sn/Tn,Cn/Tn]:[NaN,NaN]},s.bounds=function(t){return gi=mi=-(fi=pi=1/0),i.geo.stream(t,n(bi)),[[fi,pi],[gi,mi]]},s.projection=function(e){return arguments.length?(n=(t=e)?e.stream||Ei(e):O,c()):t},s.context=function(t){return arguments.length?(r=null==(e=t)?new wi:new Ai(t),"function"!=typeof o&&r.pointRadius(o),c()):e},s.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),s):o},s.projection(i.geo.albersUsa()).context(null)},i.geo.transform=function(t){return{stream:function(e){var n=new Li(e);for(var i in t)n[i]=t[i];return n}}},Li.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},i.geo.projection=Ii,i.geo.projectionMutator=Oi,(i.geo.equirectangular=function(){return Ii(ji)}).raw=ji.invert=ji,i.geo.rotation=function(t){function e(e){return(e=t(e[0]*Ot,e[1]*Ot))[0]*=$t,e[1]*=$t,e}return t=Fi(t[0]%360*Ot,t[1]*Ot,t.length>2?t[2]*Ot:0),e.invert=function(e){return(e=t.invert(e[0]*Ot,e[1]*Ot))[0]*=$t,e[1]*=$t,e},e},Ri.invert=ji,i.geo.circle=function(){var t,e,n=[0,0],i=6;function r(){var t="function"==typeof n?n.apply(this,arguments):n,i=Fi(-t[0]*Ot,-t[1]*Ot,0).invert,r=[];return e(null,null,1,{point:function(t,e){r.push(t=i(t,e)),t[0]*=$t,t[1]*=$t}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(t){return arguments.length?(n=t,r):n},r.angle=function(n){return arguments.length?(e=zi((t=+n)*Ot,i*Ot),r):t},r.precision=function(n){return arguments.length?(e=zi(t*Ot,(i=+n)*Ot),r):i},r.angle(90)},i.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Ot,r=t[1]*Ot,a=e[1]*Ot,o=Math.sin(i),s=Math.cos(i),c=Math.sin(r),l=Math.cos(r),u=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*o)*n+(n=l*u-c*h*s)*n),c*u+l*h*s)},i.geo.graticule=function(){var t,e,n,r,a,o,s,c,l,u,h,d,f=10,p=f,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return i.range(Math.ceil(r/g)*g,n,g).map(h).concat(i.range(Math.ceil(c/m)*m,s,m).map(d)).concat(i.range(Math.ceil(e/f)*f,t,f).filter((function(t){return x(t%g)>At})).map(l)).concat(i.range(Math.ceil(o/p)*p,a,p).filter((function(t){return x(t%m)>At})).map(u))}return y.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(d(s).slice(1),h(n).reverse().slice(1),d(c).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],c=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),c>s&&(t=c,c=s,s=t),y.precision(v)):[[r,c],[n,s]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],a=+n[1][1],e>t&&(n=e,e=t,t=n),o>a&&(n=o,o=a,a=n),y.precision(v)):[[e,o],[t,a]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.minorStep=function(t){return arguments.length?(f=+t[0],p=+t[1],y):[f,p]},y.precision=function(i){return arguments.length?(v=+i,l=Bi(o,a,90),u=Yi(e,t,v),h=Bi(c,s,90),d=Yi(r,n,v),y):v},y.majorExtent([[-180,-90+At],[180,90-At]]).minorExtent([[-180,-80-At],[180,80+At]])},i.geo.greatArc=function(){var t,e,n=Ui,r=qi;function a(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return a.distance=function(){return i.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},a.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,a):n},a.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,a):r},a.precision=function(){return arguments.length?a:0},a},i.geo.interpolate=function(t,e){return n=t[0]*Ot,i=t[1]*Ot,r=e[0]*Ot,a=e[1]*Ot,o=Math.cos(i),s=Math.sin(i),c=Math.cos(a),l=Math.sin(a),u=o*Math.cos(n),h=o*Math.sin(n),d=c*Math.cos(r),f=c*Math.sin(r),p=2*Math.asin(Math.sqrt(Ht(a-i)+o*c*Ht(r-n))),g=1/Math.sin(p),(m=p?function(t){var e=Math.sin(t*=p)*g,n=Math.sin(p-t)*g,i=n*u+e*d,r=n*h+e*f,a=n*s+e*l;return[Math.atan2(r,i)*$t,Math.atan2(a,Math.sqrt(i*i+r*r))*$t]}:function(){return[n*$t,i*$t]}).distance=p,m;var n,i,r,a,o,s,c,l,u,h,d,f,p,g,m},i.geo.length=function(t){return xi=0,i.geo.stream(t,Xi),xi};var Xi={sphere:F,point:F,lineStart:function(){var t,e,n;function i(i,r){var a=Math.sin(r*=Ot),o=Math.cos(r),s=x((i*=Ot)-t),c=Math.cos(s);xi+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-e*o*c)*s),e*a+n*o*c),t=i,e=a,n=o}Xi.point=function(r,a){t=r*Ot,e=Math.sin(a*=Ot),n=Math.cos(a),Xi.point=i},Xi.lineEnd=function(){Xi.point=Xi.lineEnd=F}},lineEnd:F,polygonStart:F,polygonEnd:F};function Wi(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),a=t(i*r);return[a*r*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),a=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*a,i*o),Math.asin(i&&n*a/i)]},n}var Ji=Wi((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(i.geo.azimuthalEqualArea=function(){return Ii(Ji)}).raw=Ji;var Zi=Wi((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),O);function Ki(t,e){var n=Math.cos(t),i=function(t){return Math.tan(Et/4+t/2)},r=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(i(e)/i(t)),a=n*Math.pow(i(t),r)/r;if(!r)return er;function o(t,e){a>0?e<-It+At&&(e=-It+At):e>It-At&&(e=It-At);var n=a/Math.pow(i(e),r);return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=a-e,i=jt(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(a/i,1/r))-It]},o}function Qi(t,e){var n=Math.cos(t),i=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),r=n/i+t;if(x(i)<At)return ji;function a(t,e){var n=r-e;return[n*Math.sin(i*t),r-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/i,r-jt(i)*Math.sqrt(t*t+n*n)]},a}(i.geo.azimuthalEquidistant=function(){return Ii(Zi)}).raw=Zi,(i.geo.conicConformal=function(){return li(Ki)}).raw=Ki,(i.geo.conicEquidistant=function(){return li(Qi)}).raw=Qi;var tr=Wi((function(t){return 1/t}),Math.atan);function er(t,e){return[t,Math.log(Math.tan(Et/4+e/2))]}function nr(t){var e,n=Ii(t),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=Et*i(),c=r();a([[c[0]-s,c[1]-s],[c[0]+s,c[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}(i.geo.gnomonic=function(){return Ii(tr)}).raw=tr,er.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-It]},(i.geo.mercator=function(){return nr(er)}).raw=er;var ir=Wi((function(){return 1}),Math.asin);(i.geo.orthographic=function(){return Ii(ir)}).raw=ir;var rr=Wi((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function ar(t,e){return[Math.log(Math.tan(Et/4+e/2)),-t]}function or(t){return t[0]}function sr(t){return t[1]}function cr(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;i>1&&Rt(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function lr(t,e){return t[0]-e[0]||t[1]-e[1]}(i.geo.stereographic=function(){return Ii(rr)}).raw=rr,ar.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-It]},(i.geo.transverseMercator=function(){var t=nr(ar),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ar,i.geom={},i.geom.hull=function(t){var e=or,n=sr;if(arguments.length)return i(t);function i(t){if(t.length<3)return[];var i,r=ye(e),a=ye(n),o=t.length,s=[],c=[];for(i=0;i<o;i++)s.push([+r.call(this,t[i],i),+a.call(this,t[i],i),i]);for(s.sort(lr),i=0;i<o;i++)c.push([s[i][0],-s[i][1]]);var l=cr(s),u=cr(c),h=u[0]===l[0],d=u[u.length-1]===l[l.length-1],f=[];for(i=l.length-1;i>=0;--i)f.push(t[s[l[i]][2]]);for(i=+h;i<u.length-d;++i)f.push(t[s[u[i]][2]]);return f}return i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},i.geom.polygon=function(t){return Y(t,ur),t};var ur=i.geom.polygon.prototype=[];function hr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function dr(t,e,n,i){var r=t[0],a=n[0],o=e[0]-r,s=i[0]-a,c=t[1],l=n[1],u=e[1]-c,h=i[1]-l,d=(s*(c-l)-h*(r-a))/(h*o-s*u);return[r+d*o,c+d*u]}function fr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}ur.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},ur.centroid=function(t){var e,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},ur.clip=function(t){for(var e,n,i,r,a,o,s=fr(t),c=-1,l=this.length-fr(this),u=this[l-1];++c<l;){for(e=t.slice(),t.length=0,r=this[c],a=e[(i=e.length-s)-1],n=-1;++n<i;)hr(o=e[n],u,r)?(hr(a,u,r)||t.push(dr(a,o,u,r)),t.push(o)):hr(a,u,r)&&t.push(dr(a,o,u,r)),a=o;s&&t.push(t[0]),u=r}return t};var pr,gr,mr,vr,yr,br=[],wr=[];function _r(){Vr(this),this.edge=this.site=this.circle=null}function xr(t){var e=br.pop()||new _r;return e.site=t,e}function kr(t){Mr(t),mr.remove(t),br.push(t),Vr(t)}function Sr(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},a=t.P,o=t.N,s=[t];kr(t);for(var c=a;c.circle&&x(n-c.circle.x)<At&&x(i-c.circle.cy)<At;)a=c.P,s.unshift(c),kr(c),c=a;s.unshift(c),Mr(c);for(var l=o;l.circle&&x(n-l.circle.x)<At&&x(i-l.circle.cy)<At;)o=l.N,s.push(l),kr(l),l=o;s.push(l),Mr(l);var u,h=s.length;for(u=1;u<h;++u)l=s[u],c=s[u-1],Rr(l.edge,c.site,l.site,r);c=s[0],(l=s[h-1]).edge=$r(c.site,l.site,null,r),Lr(c),Lr(l)}function Cr(t){for(var e,n,i,r,a=t.x,o=t.y,s=mr._;s;)if((i=Tr(s,o)-a)>At)s=s.L;else{if(!((r=a-Pr(s,o))>At)){i>-At?(e=s.P,n=s):r>-At?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var c=xr(t);if(mr.insert(e,c),e||n){if(e===n)return Mr(e),n=xr(e.site),mr.insert(c,n),c.edge=n.edge=$r(e.site,c.site),Lr(e),void Lr(n);if(n){Mr(e),Mr(n);var l=e.site,u=l.x,h=l.y,d=t.x-u,f=t.y-h,p=n.site,g=p.x-u,m=p.y-h,v=2*(d*m-f*g),y=d*d+f*f,b=g*g+m*m,w={x:(m*y-f*b)/v+u,y:(d*b-g*y)/v+h};Rr(n.edge,l,p,w),c.edge=$r(l,t,null,w),n.edge=$r(t,p,null,w),Lr(e),Lr(n)}else c.edge=$r(e.site,c.site)}}function Tr(t,e){var n=t.site,i=n.x,r=n.y,a=r-e;if(!a)return i;var o=t.P;if(!o)return-1/0;var s=(n=o.site).x,c=n.y,l=c-e;if(!l)return s;var u=s-i,h=1/a-1/l,d=u/l;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*l)-c+l/2+r-a/2)))/h+i:(i+s)/2}function Pr(t,e){var n=t.N;if(n)return Tr(n,e);var i=t.site;return i.y===e?i.x:1/0}function Ar(t){this.site=t,this.edges=[]}function Dr(t,e){return e.angle-t.angle}function Er(){Vr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Lr(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r.x,s=r.y,c=i.x-o,l=i.y-s,u=a.x-o,h=2*(c*(m=a.y-s)-l*u);if(!(h>=-Dt)){var d=c*c+l*l,f=u*u+m*m,p=(m*d-l*f)/h,g=(c*f-u*d)/h,m=g+s,v=wr.pop()||new Er;v.arc=t,v.site=r,v.x=p+o,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var y=null,b=yr._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}yr.insert(y,v),y||(vr=v)}}}}function Mr(t){var e=t.circle;e&&(e.P||(vr=e.N),yr.remove(e),wr.push(e),Vr(e),t.circle=null)}function Ir(t,e){var n=t.b;if(n)return!0;var i,r,a=t.a,o=e[0][0],s=e[1][0],c=e[0][1],l=e[1][1],u=t.l,h=t.r,d=u.x,f=u.y,p=h.x,g=h.y,m=(d+p)/2,v=(f+g)/2;if(g===f){if(m<o||m>=s)return;if(d>p){if(a){if(a.y>=l)return}else a={x:m,y:c};n={x:m,y:l}}else{if(a){if(a.y<c)return}else a={x:m,y:l};n={x:m,y:c}}}else if(r=v-(i=(d-p)/(g-f))*m,i<-1||i>1)if(d>p){if(a){if(a.y>=l)return}else a={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else{if(a){if(a.y<c)return}else a={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else if(f<g){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return t.a=a,t.b=n,!0}function Or(t,e){this.l=t,this.r=e,this.a=this.b=null}function $r(t,e,n,i){var r=new Or(t,e);return pr.push(r),n&&Rr(r,t,e,n),i&&Rr(r,e,t,i),gr[t.i].edges.push(new Fr(r,t,e)),gr[e.i].edges.push(new Fr(r,e,t)),r}function jr(t,e,n){var i=new Or(t,null);return i.a=e,i.b=n,pr.push(i),i}function Rr(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function Fr(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Nr(){this._=null}function Vr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Hr(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function zr(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Gr(t){for(;t.L;)t=t.L;return t}function Br(t,e){var n,i,r,a=t.sort(Yr).pop();for(pr=[],gr=new Array(t.length),mr=new Nr,yr=new Nr;;)if(r=vr,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))a.x===n&&a.y===i||(gr[a.i]=new Ar(a),Cr(a),n=a.x,i=a.y),a=t.pop();else{if(!r)break;Sr(r.arc)}e&&(function(t){for(var e,n=pr,i=si(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Ir(e=n[r],t)||!i(e)||x(e.a.x-e.b.x)<At&&x(e.a.y-e.b.y)<At)&&(e.a=e.b=null,n.splice(r,1))}(e),function(t){for(var e,n,i,r,a,o,s,c,l,u,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=gr,m=g.length;m--;)if((a=g[m])&&a.prepare())for(c=(s=a.edges).length,o=0;o<c;)i=(u=s[o].end()).x,r=u.y,e=(l=s[++o%c].start()).x,n=l.y,(x(i-e)>At||x(r-n)>At)&&(s.splice(o,0,new Fr(jr(a.site,u,x(i-h)<At&&p-r>At?{x:h,y:x(e-h)<At?n:p}:x(r-p)<At&&d-i>At?{x:x(n-p)<At?e:d,y:p}:x(i-d)<At&&r-f>At?{x:d,y:x(e-d)<At?n:f}:x(r-f)<At&&i-h>At?{x:x(n-f)<At?e:h,y:f}:null),a.site,null)),++c)}(e));var o={cells:gr,edges:pr};return mr=yr=pr=gr=null,o}function Yr(t,e){return e.y-t.y||e.x-t.x}Ar.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Dr),e.length},Fr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Nr.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Gr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Hr(this,n),n=(t=n).U),n.C=!1,i.C=!0,zr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(zr(this,n),n=(t=n).U),n.C=!1,i.C=!0,Hr(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?Gr(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Hr(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,zr(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Hr(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,zr(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Hr(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,zr(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},i.geom.voronoi=function(t){var e=or,n=sr,i=e,r=n,a=Ur;if(t)return o(t);function o(t){var e=new Array(t.length),n=a[0][0],i=a[0][1],r=a[1][0],o=a[1][1];return Br(s(t),a).cells.forEach((function(a,s){var c=a.edges,l=a.site;(e[s]=c.length?c.map((function(t){var e=t.start();return[e.x,e.y]})):l.x>=n&&l.x<=r&&l.y>=i&&l.y<=o?[[n,o],[r,o],[r,i],[n,i]]:[]).point=t[s]})),e}function s(t){return t.map((function(t,e){return{x:Math.round(i(t,e)/At)*At,y:Math.round(r(t,e)/At)*At,i:e}}))}return o.links=function(t){return Br(s(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},o.triangles=function(t){var e=[];return Br(s(t)).cells.forEach((function(n,i){for(var r,a,o,s,c=n.site,l=n.edges.sort(Dr),u=-1,h=l.length,d=l[h-1].edge,f=d.l===c?d.r:d.l;++u<h;)d,r=f,f=(d=l[u].edge).l===c?d.r:d.l,i<r.i&&i<f.i&&(o=r,s=f,((a=c).x-s.x)*(o.y-a.y)-(a.x-o.x)*(s.y-a.y)<0)&&e.push([t[i],t[r.i],t[f.i]])})),e},o.x=function(t){return arguments.length?(i=ye(e=t),o):e},o.y=function(t){return arguments.length?(r=ye(n=t),o):n},o.clipExtent=function(t){return arguments.length?(a=null==t?Ur:t,o):a===Ur?null:a},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):a===Ur?null:a&&a[1]},o};var Ur=[[-1e6,-1e6],[1e6,1e6]];function qr(t){return t.x}function Xr(t){return t.y}function Wr(t,e,n,i,r,a){if(!t(e,n,i,r,a)){var o=.5*(n+r),s=.5*(i+a),c=e.nodes;c[0]&&Wr(t,c[0],n,i,o,s),c[1]&&Wr(t,c[1],o,i,r,s),c[2]&&Wr(t,c[2],n,s,o,a),c[3]&&Wr(t,c[3],o,s,r,a)}}function Jr(t,e,n,i,r,a,o){var s,c=1/0;return function t(l,u,h,d,f){if(!(u>a||h>o||d<i||f<r)){if(p=l.point){var p,g=e-l.x,m=n-l.y,v=g*g+m*m;if(v<c){var y=Math.sqrt(c=v);i=e-y,r=n-y,a=e+y,o=n+y,s=p}}for(var b=l.nodes,w=.5*(u+d),_=.5*(h+f),x=(n>=_)<<1|e>=w,k=x+4;x<k;++x)if(l=b[3&x])switch(3&x){case 0:t(l,u,h,w,_);break;case 1:t(l,w,h,d,_);break;case 2:t(l,u,_,w,f);break;case 3:t(l,w,_,d,f)}}}(t,i,r,a,o),s}function Zr(t,e){t=i.rgb(t),e=i.rgb(e);var n=t.r,r=t.g,a=t.b,o=e.r-n,s=e.g-r,c=e.b-a;return function(t){return"#"+he(Math.round(n+o*t))+he(Math.round(r+s*t))+he(Math.round(a+c*t))}}function Kr(t,e){var n,i={},r={};for(n in t)n in e?i[n]=ia(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function Qr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ta(t,e){var n,i,r,a=ea.lastIndex=na.lastIndex=0,o=-1,s=[],c=[];for(t+="",e+="";(n=ea.exec(t))&&(i=na.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Qr(n,i)})),a=na.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?c[0]?(e=c[0].x,function(t){return e(t)+""}):function(){return e}:(e=c.length,function(t){for(var n,i=0;i<e;++i)s[(n=c[i]).i]=n.x(t);return s.join("")})}i.geom.delaunay=function(t){return i.geom.voronoi().triangles(t)},i.geom.quadtree=function(t,e,n,i,r){var a,o=or,s=sr;if(a=arguments.length)return o=qr,s=Xr,3===a&&(r=n,i=e,n=e=0),c(t);function c(t){var c,l,u,h,d,f,p,g,m,v=ye(o),y=ye(s);if(null!=e)f=e,p=n,g=i,m=r;else if(g=m=-(f=p=1/0),l=[],u=[],d=t.length,a)for(h=0;h<d;++h)(c=t[h]).x<f&&(f=c.x),c.y<p&&(p=c.y),c.x>g&&(g=c.x),c.y>m&&(m=c.y),l.push(c.x),u.push(c.y);else for(h=0;h<d;++h){var b=+v(c=t[h],h),w=+y(c,h);b<f&&(f=b),w<p&&(p=w),b>g&&(g=b),w>m&&(m=w),l.push(b),u.push(w)}var _=g-f,k=m-p;function S(t,e,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var c=t.x,l=t.y;if(null!=c)if(x(c-n)+x(l-i)<.01)C(t,e,n,i,r,a,o,s);else{var u=t.point;t.x=t.y=t.point=null,C(t,u,c,l,r,a,o,s),C(t,e,n,i,r,a,o,s)}else t.x=n,t.y=i,t.point=e}else C(t,e,n,i,r,a,o,s)}function C(t,e,n,i,r,a,o,s){var c=.5*(r+o),l=.5*(a+s),u=n>=c,h=i>=l,d=h<<1|u;t.leaf=!1,u?r=c:o=c,h?a=l:s=l,S(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,i,r,a,o,s)}_>k?m=p+_:g=f+k;var T={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(T,t,+v(t,++h),+y(t,h),f,p,g,m)},visit:function(t){Wr(t,T,f,p,g,m)},find:function(t){return Jr(T,t[0],t[1],f,p,g,m)}};if(h=-1,null==e){for(;++h<d;)S(T,t[h],l[h],u[h],f,p,g,m);--h}else t.forEach(T.add);return l=u=t=c=null,T}return c.x=function(t){return arguments.length?(o=t,c):o},c.y=function(t){return arguments.length?(s=t,c):s},c.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),c):null==e?null:[[e,n],[i,r]]},c.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),c):null==e?null:[i-e,r-n]},c},i.interpolateRgb=Zr,i.interpolateObject=Kr,i.interpolateNumber=Qr,i.interpolateString=ta;var ea=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,na=new RegExp(ea.source,"g");function ia(t,e){for(var n,r=i.interpolators.length;--r>=0&&!(n=i.interpolators[r](t,e)););return n}function ra(t,e){var n,i=[],r=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(ia(t[n],e[n]));for(;n<a;++n)r[n]=t[n];for(;n<o;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}i.interpolate=ia,i.interpolators=[function(t,e){var n=typeof e;return("string"===n?ve.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Zr:ta:e instanceof Ut?Zr:Array.isArray(e)?ra:"object"===n&&isNaN(e)?Kr:Qr)(t,e)}],i.interpolateArray=ra;var aa=function(){return O},oa=i.map({linear:aa,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return ha},cubic:function(){return da},sin:function(){return pa},exp:function(){return ga},circle:function(){return ma},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Lt*Math.asin(1/t):(t=1,n=e/4);return function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Lt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return va}}),sa=i.map({in:O,out:la,"in-out":ua,"out-in":function(t){return ua(la(t))}});function ca(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function la(t){return function(e){return 1-t(1-e)}}function ua(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function ha(t){return t*t}function da(t){return t*t*t}function fa(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function pa(t){return 1-Math.cos(t*It)}function ga(t){return Math.pow(2,10*(t-1))}function ma(t){return 1-Math.sqrt(1-t*t)}function va(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function ya(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function ba(t){var e,n,i,r=[t.a,t.b],a=[t.c,t.d],o=_a(r),s=wa(r,a),c=_a(((e=a)[0]+=(i=-s)*(n=r)[0],e[1]+=i*n[1],e))||0;r[0]*a[1]<a[0]*r[1]&&(r[0]*=-1,r[1]*=-1,o*=-1,s*=-1),this.rotate=(o?Math.atan2(r[1],r[0]):Math.atan2(-a[0],a[1]))*$t,this.translate=[t.e,t.f],this.scale=[o,c],this.skew=c?Math.atan2(s,c)*$t:0}function wa(t,e){return t[0]*e[0]+t[1]*e[1]}function _a(t){var e=Math.sqrt(wa(t,t));return e&&(t[0]/=e,t[1]/=e),e}i.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=oa.get(n)||aa,ca((i=sa.get(i)||O)(n.apply(null,o.call(arguments,1))))},i.interpolateHcl=function(t,e){t=i.hcl(t),e=i.hcl(e);var n=t.h,r=t.c,a=t.l,o=e.h-n,s=e.c-r,c=e.l-a;isNaN(s)&&(s=0,r=isNaN(r)?e.c:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360);return function(t){return Kt(n+o*t,r+s*t,a+c*t)+""}},i.interpolateHsl=function(t,e){t=i.hsl(t),e=i.hsl(e);var n=t.h,r=t.s,a=t.l,o=e.h-n,s=e.s-r,c=e.l-a;isNaN(s)&&(s=0,r=isNaN(r)?e.s:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360);return function(t){return Wt(n+o*t,r+s*t,a+c*t)+""}},i.interpolateLab=function(t,e){t=i.lab(t),e=i.lab(e);var n=t.l,r=t.a,a=t.b,o=e.l-n,s=e.a-r,c=e.b-a;return function(t){return ne(n+o*t,r+s*t,a+c*t)+""}},i.interpolateRound=ya,i.transform=function(t){var e=c.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new ba(n?n.matrix:xa)})(t)},ba.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var xa={a:1,b:0,c:0,d:1,e:0,f:0};function ka(t){return t.length?t.pop()+",":""}function Sa(t,e){var n=[],r=[];return t=i.transform(t),e=i.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:Qr(t[0],e[0])},{i:r-2,x:Qr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(ka(n)+"rotate(",null,")")-2,x:Qr(t,e)})):e&&n.push(ka(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,i){t!==e?i.push({i:n.push(ka(n)+"skewX(",null,")")-2,x:Qr(t,e)}):e&&n.push(ka(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(ka(n)+"scale(",null,",",null,")");i.push({i:r-4,x:Qr(t[0],e[0])},{i:r-2,x:Qr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(ka(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,a=r.length;++i<a;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Ca(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ta(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Pa(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;var n=Aa(t),i=Aa(e),r=n.pop(),a=i.pop(),o=null;for(;r===a;)o=r,r=n.pop(),a=i.pop();return o}(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function Aa(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Da(t){t.fixed|=2}function Ea(t){t.fixed&=-7}function La(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ma(t){t.fixed&=-5}i.interpolateTransform=Sa,i.layout={},i.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Pa(t[n]));return e}},i.layout.chord=function(){var t,e,n,r,a,o,s,c={},l=0;function u(){var c,u,d,f,p,g={},m=[],v=i.range(r),y=[];for(t=[],e=[],c=0,f=-1;++f<r;){for(u=0,p=-1;++p<r;)u+=n[f][p];m.push(u),y.push(i.range(r)),c+=u}for(a&&v.sort((function(t,e){return a(m[t],m[e])})),o&&y.forEach((function(t,e){t.sort((function(t,i){return o(n[e][t],n[e][i])}))})),c=(Lt-l*r)/c,u=0,f=-1;++f<r;){for(d=u,p=-1;++p<r;){var b=v[f],w=y[b][p],_=n[b][w],x=u,k=u+=_*c;g[b+"-"+w]={index:b,subindex:w,startAngle:x,endAngle:k,value:_}}e[b]={index:b,startAngle:d,endAngle:u,value:m[b]},u+=l}for(f=-1;++f<r;)for(p=f-1;++p<r;){var S=g[f+"-"+p],C=g[p+"-"+f];(S.value||C.value)&&t.push(S.value<C.value?{source:C,target:S}:{source:S,target:C})}s&&h()}function h(){t.sort((function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return c.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,c):n},c.padding=function(n){return arguments.length?(l=n,t=e=null,c):l},c.sortGroups=function(n){return arguments.length?(a=n,t=e=null,c):a},c.sortSubgroups=function(e){return arguments.length?(o=e,t=null,c):o},c.sortChords=function(e){return arguments.length?(s=e,t&&h(),c):s},c.chords=function(){return t||u(),t},c.groups=function(){return e||u(),e},c},i.layout.force=function(){var t,e,n,r,a,o,s={},c=i.dispatch("start","tick","end"),l=[1,1],u=.9,h=Ia,d=Oa,f=-30,p=$a,g=.1,m=.64,v=[],y=[];function b(t){return function(e,n,i,r){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=r-n,c=a*a+o*o;if(s*s/m<c){if(c<p){var l=e.charge/c;t.px-=a*l,t.py-=o*l}return!0}if(e.point&&c&&c<p){l=e.pointCharge/c;t.px-=a*l,t.py-=o*l}}return!e.charge}}function w(t){t.px=i.event.x,t.py=i.event.y,s.resume()}return s.tick=function(){if((n*=.99)<.005)return t=null,c.end({type:"end",alpha:n=0}),!0;var e,s,h,d,p,m,w,_,x,k=v.length,S=y.length;for(s=0;s<S;++s)d=(h=y[s]).source,(m=(_=(p=h.target).x-d.x)*_+(x=p.y-d.y)*x)&&(_*=m=n*a[s]*((m=Math.sqrt(m))-r[s])/m,x*=m,p.x-=_*(w=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=x*w,d.x+=_*(w=1-w),d.y+=x*w);if((w=n*g)&&(_=l[0]/2,x=l[1]/2,s=-1,w))for(;++s<k;)(h=v[s]).x+=(_-h.x)*w,h.y+=(x-h.y)*w;if(f)for(!function t(e,n,i){var r=0,a=0;if(e.charge=0,!e.leaf)for(var o,s=e.nodes,c=s.length,l=-1;++l<c;)null!=(o=s[l])&&(t(o,n,i),e.charge+=o.charge,r+=o.charge*o.cx,a+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=n*i[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,a+=u*e.point.y}e.cx=r/e.charge,e.cy=a/e.charge}(e=i.geom.quadtree(v),n,o),s=-1;++s<k;)(h=v[s]).fixed||e.visit(b(h));for(s=-1;++s<k;)(h=v[s]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*u,h.y-=(h.py-(h.py=h.y))*u);c.tick({type:"tick",alpha:n})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,c.end({type:"end",alpha:n=0})):e>0&&(c.start({type:"start",alpha:n=e}),t=Te(s.tick)),s):n},s.start=function(){var t,e,n,i=v.length,c=y.length,u=l[0],p=l[1];for(t=0;t<i;++t)(n=v[t]).index=t,n.weight=0;for(t=0;t<c;++t)"number"==typeof(n=y[t]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<i;++t)n=v[t],isNaN(n.x)&&(n.x=g("x",u)),isNaN(n.y)&&(n.y=g("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof h)for(t=0;t<c;++t)r[t]=+h.call(this,y[t],t);else for(t=0;t<c;++t)r[t]=h;if(a=[],"function"==typeof d)for(t=0;t<c;++t)a[t]=+d.call(this,y[t],t);else for(t=0;t<c;++t)a[t]=d;if(o=[],"function"==typeof f)for(t=0;t<i;++t)o[t]=+f.call(this,v[t],t);else for(t=0;t<i;++t)o[t]=f;function g(n,r){if(!e){for(e=new Array(i),l=0;l<i;++l)e[l]=[];for(l=0;l<c;++l){var a=y[l];e[a.source.index].push(a.target),e[a.target.index].push(a.source)}}for(var o,s=e[t],l=-1,u=s.length;++l<u;)if(!isNaN(o=s[l][n]))return o;return Math.random()*r}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(e||(e=i.behavior.drag().origin(O).on("dragstart.force",Da).on("drag.force",w).on("dragend.force",Ea)),!arguments.length)return e;this.on("mouseover.force",La).on("mouseout.force",Ma).call(e)},i.rebind(s,c,"on")};var Ia=20,Oa=1,$a=1/0;function ja(t,e){return i.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=za,t}function Ra(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Fa(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(a=t.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(t=i.pop());)e(t)}function Na(t){return t.children}function Va(t){return t.value}function Ha(t,e){return e.value-t.value}function za(t){return i.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}i.layout.hierarchy=function(){var t=Ha,e=Na,n=Va;function i(r){var a,o=[r],s=[];for(r.depth=0;null!=(a=o.pop());)if(s.push(a),(l=e.call(i,a,a.depth))&&(c=l.length)){for(var c,l,u;--c>=0;)o.push(u=l[c]),u.parent=a,u.depth=a.depth+1;n&&(a.value=0),a.children=l}else n&&(a.value=+n.call(i,a,a.depth)||0),delete a.children;return Fa(r,(function(e){var i,r;t&&(i=e.children)&&i.sort(t),n&&(r=e.parent)&&(r.value+=e.value)})),s}return i.sort=function(e){return arguments.length?(t=e,i):t},i.children=function(t){return arguments.length?(e=t,i):e},i.value=function(t){return arguments.length?(n=t,i):n},i.revalue=function(t){return n&&(Ra(t,(function(t){t.children&&(t.value=0)})),Fa(t,(function(t){var e;t.children||(t.value=+n.call(i,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},i},i.layout.partition=function(){var t=i.layout.hierarchy(),e=[1,1];function n(n,i){var r=t.call(this,n,i);return function t(e,n,i,r){var a=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,a&&(o=a.length)){var o,s,c,l=-1;for(i=e.value?i/e.value:0;++l<o;)t(s=a[l],n,c=s.value*i,r),n+=c}}(r[0],0,e[0],e[1]/function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,t(n[a]));return 1+i}(r[0])),r}return n.size=function(t){return arguments.length?(e=t,n):e},ja(n,t)},i.layout.pie=function(){var t=Number,e=Ga,n=0,r=Lt,a=0;function o(s){var c,l=s.length,u=s.map((function(e,n){return+t.call(o,e,n)})),h=+("function"==typeof n?n.apply(this,arguments):n),d=("function"==typeof r?r.apply(this,arguments):r)-h,f=Math.min(Math.abs(d)/l,+("function"==typeof a?a.apply(this,arguments):a)),p=f*(d<0?-1:1),g=i.sum(u),m=g?(d-l*p)/g:0,v=i.range(l),y=[];return null!=e&&v.sort(e===Ga?function(t,e){return u[e]-u[t]}:function(t,n){return e(s[t],s[n])}),v.forEach((function(t){y[t]={data:s[t],value:c=u[t],startAngle:h,endAngle:h+=c*m+p,padAngle:f}})),y}return o.value=function(e){return arguments.length?(t=e,o):t},o.sort=function(t){return arguments.length?(e=t,o):e},o.startAngle=function(t){return arguments.length?(n=t,o):n},o.endAngle=function(t){return arguments.length?(r=t,o):r},o.padAngle=function(t){return arguments.length?(a=t,o):a},o};var Ga={};function Ba(t){return t.x}function Ya(t){return t.y}function Ua(t,e,n){t.y0=e,t.y=n}i.layout.stack=function(){var t=O,e=Wa,n=Ja,r=Ua,a=Ba,o=Ya;function s(c,l){if(!(f=c.length))return c;var u=c.map((function(e,n){return t.call(s,e,n)})),h=u.map((function(t){return t.map((function(t,e){return[a.call(s,t,e),o.call(s,t,e)]}))})),d=e.call(s,h,l);u=i.permute(u,d),h=i.permute(h,d);var f,p,g,m,v=n.call(s,h,l),y=u[0].length;for(g=0;g<y;++g)for(r.call(s,u[0][g],m=v[g],h[0][g][1]),p=1;p<f;++p)r.call(s,u[p][g],m+=h[p-1][g][1],h[p][g][1]);return c}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(t){return arguments.length?(e="function"==typeof t?t:qa.get(t)||Wa,s):e},s.offset=function(t){return arguments.length?(n="function"==typeof t?t:Xa.get(t)||Ja,s):n},s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(o=t,s):o},s.out=function(t){return arguments.length?(r=t,s):r},s};var qa=i.map({"inside-out":function(t){var e,n,r=t.length,a=t.map(Za),o=t.map(Ka),s=i.range(r).sort((function(t,e){return a[t]-a[e]})),c=0,l=0,u=[],h=[];for(e=0;e<r;++e)n=s[e],c<l?(c+=o[n],u.push(n)):(l+=o[n],h.push(n));return h.reverse().concat(u)},reverse:function(t){return i.range(t.length).reverse()},default:Wa}),Xa=i.map({silhouette:function(t){var e,n,i,r=t.length,a=t[0].length,o=[],s=0,c=[];for(n=0;n<a;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];i>s&&(s=i),o.push(i)}for(n=0;n<a;++n)c[n]=(s-o[n])/2;return c},wiggle:function(t){var e,n,i,r,a,o,s,c,l,u=t.length,h=t[0],d=h.length,f=[];for(f[0]=c=l=0,n=1;n<d;++n){for(e=0,r=0;e<u;++e)r+=t[e][n][1];for(e=0,a=0,s=h[n][0]-h[n-1][0];e<u;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)o+=(t[i][n][1]-t[i][n-1][1])/s;a+=o*t[e][n][1]}f[n]=c-=r?a/r*s:0,c<l&&(l=c)}for(n=0;n<d;++n)f[n]-=l;return f},expand:function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;n<a;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:Ja});function Wa(t){return i.range(t.length)}function Ja(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function Za(t){for(var e,n=1,i=0,r=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function Ka(t){return t.reduce(Qa,0)}function Qa(t,e){return t+e[1]}function to(t,e){return eo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function eo(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,a=[];++n<=e;)a[n]=r*n+i;return a}function no(t){return[i.min(t),i.max(t)]}function io(t,e){return t.value-e.value}function ro(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ao(t,e){t._pack_next=e,e._pack_prev=t}function oo(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function so(t){if((e=t.children)&&(c=e.length)){var e,n,i,r,a,o,s,c,l=1/0,u=-1/0,h=1/0,d=-1/0;if(e.forEach(co),(n=e[0]).x=-n.r,n.y=0,b(n),c>1&&((i=e[1]).x=i.r,i.y=0,b(i),c>2))for(uo(n,i,r=e[2]),b(r),ro(n,r),n._pack_prev=r,ro(r,i),i=n._pack_next,a=3;a<c;a++){uo(n,i,r=e[a]);var f=0,p=1,g=1;for(o=i._pack_next;o!==i;o=o._pack_next,p++)if(oo(o,r)){f=1;break}if(1==f)for(s=n._pack_prev;s!==o._pack_prev&&!oo(s,r);s=s._pack_prev,g++);f?(p<g||p==g&&i.r<n.r?ao(n,i=o):ao(n=s,i),a--):(ro(n,r),i=r,b(r))}var m=(l+u)/2,v=(h+d)/2,y=0;for(a=0;a<c;a++)(r=e[a]).x-=m,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=y,e.forEach(lo)}function b(t){l=Math.min(t.x-t.r,l),u=Math.max(t.x+t.r,u),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}}function co(t){t._pack_next=t._pack_prev=t}function lo(t){delete t._pack_next,delete t._pack_prev}function uo(t,e,n){var i=t.r+n.r,r=e.x-t.x,a=e.y-t.y;if(i&&(r||a)){var o=e.r+n.r,s=r*r+a*a,c=.5+((i*=i)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=t.x+c*r+l*a,n.y=t.y+c*a-l*r}else n.x=t.x+i,n.y=t.y}function ho(t,e){return t.parent==e.parent?1:2}function fo(t){var e=t.children;return e.length?e[0]:t.t}function po(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function go(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function mo(t,e,n){return t.a.parent===e.parent?t.a:n}function vo(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function yo(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),a<0&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function bo(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function wo(t){return t.rangeExtent?t.rangeExtent():bo(t.range())}function _o(t,e,n,i){var r=n(t[0],t[1]),a=i(e[0],e[1]);return function(t){return a(r(t))}}function xo(t,e){var n,i=0,r=t.length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}function ko(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:So}i.layout.histogram=function(){var t=!0,e=Number,n=no,r=to;function a(a,o){for(var s,c,l=[],u=a.map(e,this),h=n.call(this,u,o),d=r.call(this,h,u,o),f=(o=-1,u.length),p=d.length-1,g=t?1:1/f;++o<p;)(s=l[o]=[]).dx=d[o+1]-(s.x=d[o]),s.y=0;if(p>0)for(o=-1;++o<f;)(c=u[o])>=h[0]&&c<=h[1]&&((s=l[i.bisect(d,c,1,p)-1]).y+=g,s.push(a[o]));return l}return a.value=function(t){return arguments.length?(e=t,a):e},a.range=function(t){return arguments.length?(n=ye(t),a):n},a.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return eo(e,t)}:ye(t),a):r},a.frequency=function(e){return arguments.length?(t=!!e,a):t},a},i.layout.pack=function(){var t,e=i.layout.hierarchy().sort(io),n=0,r=[1,1];function a(i,a){var o=e.call(this,i,a),s=o[0],c=r[0],l=r[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Fa(s,(function(t){t.r=+u(t.value)})),Fa(s,so),n){var h=n*(t?1:Math.max(2*s.r/c,2*s.r/l))/2;Fa(s,(function(t){t.r+=h})),Fa(s,so),Fa(s,(function(t){t.r-=h}))}return function t(e,n,i,r){var a=e.children;if(e.x=n+=r*e.x,e.y=i+=r*e.y,e.r*=r,a)for(var o=-1,s=a.length;++o<s;)t(a[o],n,i,r)}(s,c/2,l/2,t?1:1/Math.max(2*s.r/c,2*s.r/l)),o}return a.size=function(t){return arguments.length?(r=t,a):r},a.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,a):t},a.padding=function(t){return arguments.length?(n=+t,a):n},ja(a,e)},i.layout.tree=function(){var t=i.layout.hierarchy().sort(null).value(null),e=ho,n=[1,1],r=null;function a(i,a){var l=t.call(this,i,a),u=l[0],h=function(t){var e,n={A:null,children:[t]},i=[n];for(;null!=(e=i.pop());)for(var r,a=e.children,o=0,s=a.length;o<s;++o)i.push((a[o]=r={_:a[o],parent:e,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}(u);if(Fa(h,o),h.parent.m=-h.z,Ra(h,s),r)Ra(u,c);else{var d=u,f=u,p=u;Ra(u,(function(t){t.x<d.x&&(d=t),t.x>f.x&&(f=t),t.depth>p.depth&&(p=t)}));var g=e(d,f)/2-d.x,m=n[0]/(f.x+e(f,d)/2+g),v=n[1]/(p.depth||1);Ra(u,(function(t){t.x=(t.x+g)*m,t.y=t.depth*v}))}return l}function o(t){var n=t.children,i=t.parent.children,r=t.i?i[t.i-1]:null;if(n.length){!function(t){var e,n=0,i=0,r=t.children,a=r.length;for(;--a>=0;)(e=r[a]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+e(t._,r._),t.m=t.z-a):t.z=a}else r&&(t.z=r.z+e(t._,r._));t.parent.A=function(t,n,i){if(n){for(var r,a=t,o=t,s=n,c=a.parent.children[0],l=a.m,u=o.m,h=s.m,d=c.m;s=po(s),a=fo(a),s&&a;)c=fo(c),(o=po(o)).a=t,(r=s.z+h-a.z-l+e(s._,a._))>0&&(go(mo(s,t,i),t,r),l+=r,u+=r),h+=s.m,l+=a.m,d+=c.m,u+=o.m;s&&!po(o)&&(o.t=s,o.m+=h-u),a&&!fo(c)&&(c.t=a,c.m+=l-d,i=t)}return i}(t,r,t.parent.A||i[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function c(t){t.x*=n[0],t.y=t.depth*n[1]}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(t){return arguments.length?(r=null==(n=t)?c:null,a):r?null:n},a.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:c,a):r?n:null},ja(a,t)},i.layout.cluster=function(){var t=i.layout.hierarchy().sort(null).value(null),e=ho,n=[1,1],r=!1;function a(a,o){var s,c=t.call(this,a,o),l=c[0],u=0;Fa(l,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),t.y=function(t){return 1+i.max(t,(function(t){return t.y}))}(n)):(t.x=s?u+=e(t,s):0,t.y=0,s=t)}));var h=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(l),d=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(l),f=h.x-e(h,d)/2,p=d.x+e(d,h)/2;return Fa(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-f)/(p-f)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),c}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(t){return arguments.length?(r=null==(n=t),a):r?null:n},a.nodeSize=function(t){return arguments.length?(r=null!=(n=t),a):r?n:null},ja(a,t)},i.layout.treemap=function(){var t,e=i.layout.hierarchy(),n=Math.round,r=[1,1],a=null,o=vo,s=!1,c="squarify",l=.5*(1+Math.sqrt(5));function u(t,e){for(var n,i,r=-1,a=t.length;++r<a;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function h(t){var e=t.children;if(e&&e.length){var n,i,r,a=o(t),s=[],l=e.slice(),d=1/0,g="slice"===c?a.dx:"dice"===c?a.dy:"slice-dice"===c?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(u(l,a.dx*a.dy/t.value),s.area=0;(r=l.length)>0;)s.push(n=l[r-1]),s.area+=n.area,"squarify"!==c||(i=f(s,g))<=d?(l.pop(),d=i):(s.area-=s.pop().area,p(s,g,a,!1),g=Math.min(a.dx,a.dy),s.length=s.area=0,d=1/0);s.length&&(p(s,g,a,!0),s.length=s.area=0),e.forEach(h)}}function d(t){var e=t.children;if(e&&e.length){var n,i=o(t),r=e.slice(),a=[];for(u(r,i.dx*i.dy/t.value),a.area=0;n=r.pop();)a.push(n),a.area+=n.area,null!=n.z&&(p(a,n.z?i.dx:i.dy,i,!r.length),a.length=a.area=0);e.forEach(d)}}function f(t,e){for(var n,i=t.area,r=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),n>r&&(r=n));return e*=e,(i*=i)?Math.max(e*r*l/i,i/(e*a*l)):1/0}function p(t,e,i,r){var a,o=-1,s=t.length,c=i.x,l=i.y,u=e?n(t.area/e):0;if(e==i.dx){for((r||u>i.dy)&&(u=i.dy);++o<s;)(a=t[o]).x=c,a.y=l,a.dy=u,c+=a.dx=Math.min(i.x+i.dx-c,u?n(a.area/u):0);a.z=!0,a.dx+=i.x+i.dx-c,i.y+=u,i.dy-=u}else{for((r||u>i.dx)&&(u=i.dx);++o<s;)(a=t[o]).x=c,a.y=l,a.dx=u,l+=a.dy=Math.min(i.y+i.dy-l,u?n(a.area/u):0);a.z=!1,a.dy+=i.y+i.dy-l,i.x+=u,i.dx-=u}}function g(n){var i=t||e(n),a=i[0];return a.x=a.y=0,a.value?(a.dx=r[0],a.dy=r[1]):a.dx=a.dy=0,t&&e.revalue(a),u([a],a.dx*a.dy/a.value),(t?d:h)(a),s&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return a;function e(e){var n=t.call(g,e,e.depth);return null==n?vo(e):yo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return yo(e,t)}var i;return o=null==(a=t)?vo:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(s=e,t=null,g):s},g.ratio=function(t){return arguments.length?(l=t,g):l},g.mode=function(t){return arguments.length?(c=t+"",g):c},ja(g,e)},i.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=i.random.normal.apply(i,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=i.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},i.scale={};var So={floor:O,ceil:O};function Co(t,e,n,r){var a=[],o=[],s=0,c=Math.min(t.length,e.length)-1;for(t[c]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=c;)a.push(n(t[s-1],t[s])),o.push(r(e[s-1],e[s]));return function(e){var n=i.bisect(t,e,1,c)-1;return o[n](a[n](e))}}function To(t,e){return i.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Po(t,e){return xo(t,ko(Ao(t,e)[2])),xo(t,ko(Ao(t,e)[2])),t}function Ao(t,e){null==e&&(e=10);var n=bo(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),a=e/i*r;return a<=.15?r*=10:a<=.35?r*=5:a<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Do(t,e){return i.range.apply(i,Ao(t,e))}function Eo(t,e,n){var r=Ao(t,e);if(n){var a=Ie.exec(n);if(a.shift(),"s"===a[8]){var o=i.formatPrefix(Math.max(x(r[0]),x(r[1])));return a[7]||(a[7]="."+Mo(o.scale(r[2]))),a[8]="f",n=i.format(a.join("")),function(t){return n(o.scale(t))+o.symbol}}a[7]||(a[7]="."+function(t,e){var n=Mo(e[2]);return t in Lo?Math.abs(n-Mo(Math.max(x(e[0]),x(e[1]))))+ +("e"!==t):n-2*("%"===t)}(a[8],r)),n=a.join("")}else n=",."+Mo(r[2])+"f";return i.format(n)}i.scale.linear=function(){return function t(e,n,i,r){var a,o;function s(){var t=Math.min(e.length,n.length)>2?Co:_o,s=r?Ta:Ca;return a=t(e,n,s,i),o=t(n,e,s,ia),c}function c(t){return a(t)}return c.invert=function(t){return o(t)},c.domain=function(t){return arguments.length?(e=t.map(Number),s()):e},c.range=function(t){return arguments.length?(n=t,s()):n},c.rangeRound=function(t){return c.range(t).interpolate(ya)},c.clamp=function(t){return arguments.length?(r=t,s()):r},c.interpolate=function(t){return arguments.length?(i=t,s()):i},c.ticks=function(t){return Do(e,t)},c.tickFormat=function(t,n){return Eo(e,t,n)},c.nice=function(t){return Po(e,t),s()},c.copy=function(){return t(e,n,i,r)},s()}([0,1],[0,1],ia,!1)};var Lo={s:1,g:1,p:1,r:1,e:1};function Mo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}i.scale.log=function(){return function t(e,n,r,a){function o(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function s(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function c(t){return e(o(t))}return c.invert=function(t){return s(e.invert(t))},c.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((a=t.map(Number)).map(o)),c):a},c.base=function(t){return arguments.length?(n=+t,e.domain(a.map(o)),c):n},c.nice=function(){var t=xo(a.map(o),r?Math:Oo);return e.domain(t),a=t.map(s),c},c.ticks=function(){var t=bo(a),e=[],i=t[0],c=t[1],l=Math.floor(o(i)),u=Math.ceil(o(c)),h=n%1?2:n;if(isFinite(u-l)){if(r){for(;l<u;l++)for(var d=1;d<h;d++)e.push(s(l)*d);e.push(s(l))}else for(e.push(s(l));l++<u;)for(d=h-1;d>0;d--)e.push(s(l)*d);for(l=0;e[l]<i;l++);for(u=e.length;e[u-1]>c;u--);e=e.slice(l,u)}return e},c.tickFormat=function(t,e){if(!arguments.length)return Io;arguments.length<2?e=Io:"function"!=typeof e&&(e=i.format(e));var r=Math.max(1,n*t/c.ticks().length);return function(t){var i=t/s(Math.round(o(t)));return i*n<n-.5&&(i*=n),i<=r?e(t):""}},c.copy=function(){return t(e.copy(),n,r,a)},To(c,e)}(i.scale.linear().domain([0,1]),10,!0,[1,10])};var Io=i.format(".0e"),Oo={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function $o(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}i.scale.pow=function(){return function t(e,n,i){var r=$o(n),a=$o(1/n);function o(t){return e(r(t))}return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(r)),o):i},o.ticks=function(t){return Do(i,t)},o.tickFormat=function(t,e){return Eo(i,t,e)},o.nice=function(t){return o.domain(Po(i,t))},o.exponent=function(t){return arguments.length?(r=$o(n=t),a=$o(1/n),e.domain(i.map(r)),o):n},o.copy=function(){return t(e.copy(),n,i)},To(o,e)}(i.scale.linear(),1,[0,1])},i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return function t(e,n){var r,a,o;function s(t){return a[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%a.length]}function c(t,n){return i.range(e.length).map((function(e){return t+n*e}))}return s.domain=function(t){if(!arguments.length)return e;e=[],r=new C;for(var i,a=-1,o=t.length;++a<o;)r.has(i=t[a])||r.set(i,e.push(i));return s[n.t].apply(s,n.a)},s.range=function(t){return arguments.length?(a=t,o=0,n={t:"range",a:arguments},s):a},s.rangePoints=function(t,i){arguments.length<2&&(i=0);var r=t[0],l=t[1],u=e.length<2?(r=(r+l)/2,0):(l-r)/(e.length-1+i);return a=c(r+u*i/2,u),o=0,n={t:"rangePoints",a:arguments},s},s.rangeRoundPoints=function(t,i){arguments.length<2&&(i=0);var r=t[0],l=t[1],u=e.length<2?(r=l=Math.round((r+l)/2),0):(l-r)/(e.length-1+i)|0;return a=c(r+Math.round(u*i/2+(l-r-(e.length-1+i)*u)/2),u),o=0,n={t:"rangeRoundPoints",a:arguments},s},s.rangeBands=function(t,i,r){arguments.length<2&&(i=0),arguments.length<3&&(r=i);var l=t[1]<t[0],u=t[l-0],h=t[1-l],d=(h-u)/(e.length-i+2*r);return a=c(u+d*r,d),l&&a.reverse(),o=d*(1-i),n={t:"rangeBands",a:arguments},s},s.rangeRoundBands=function(t,i,r){arguments.length<2&&(i=0),arguments.length<3&&(r=i);var l=t[1]<t[0],u=t[l-0],h=t[1-l],d=Math.floor((h-u)/(e.length-i+2*r));return a=c(u+Math.round((h-u-(e.length-i)*d)/2),d),l&&a.reverse(),o=Math.round(d*(1-i)),n={t:"rangeRoundBands",a:arguments},s},s.rangeBand=function(){return o},s.rangeExtent=function(){return bo(n.a[0])},s.copy=function(){return t(e,n)},s.domain(e)}([],{t:"range",a:[[]]})},i.scale.category10=function(){return i.scale.ordinal().range(jo)},i.scale.category20=function(){return i.scale.ordinal().range(Ro)},i.scale.category20b=function(){return i.scale.ordinal().range(Fo)},i.scale.category20c=function(){return i.scale.ordinal().range(No)};var jo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(le),Ro=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(le),Fo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(le),No=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(le);function Vo(){return 0}i.scale.quantile=function(){return function t(e,n){var r;function a(){var t=0,a=n.length;for(r=[];++t<a;)r[t-1]=i.quantile(e,t/a);return o}function o(t){if(!isNaN(t=+t))return n[i.bisect(r,t)]}return o.domain=function(t){return arguments.length?(e=t.map(v).filter(y).sort(m),a()):e},o.range=function(t){return arguments.length?(n=t,a()):n},o.quantiles=function(){return r},o.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},o.copy=function(){return t(e,n)},a()}([],[])},i.scale.quantize=function(){return function t(e,n,i){var r,a;function o(t){return i[Math.max(0,Math.min(a,Math.floor(r*(t-e))))]}function s(){return r=i.length/(n-e),a=i.length-1,o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]},o.range=function(t){return arguments.length?(i=t,s()):i},o.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/r+e,t+1/r]},o.copy=function(){return t(e,n,i)},s()}(0,1,[0,1])},i.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[i.bisect(e,t)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return t(e,n)},r}([.5],[0,1])},i.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return Do(e,t)},n.tickFormat=function(t,n){return Eo(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},i.svg={},i.svg.arc=function(){var t=zo,e=Go,n=Vo,i=Ho,r=Bo,a=Yo,o=Uo;function s(){var s=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),u=r.apply(this,arguments)-It,h=a.apply(this,arguments)-It,d=Math.abs(h-u),f=u>h?0:1;if(l<s&&(p=l,l=s,s=p),d>=Mt)return c(l,f)+(s?c(s,1-f):"")+"Z";var p,g,m,v,y,b,w,_,x,k,S,C,T=0,P=0,A=[];if((v=(+o.apply(this,arguments)||0)/2)&&(m=i===Ho?Math.sqrt(s*s+l*l):+i.apply(this,arguments),f||(P*=-1),l&&(P=Nt(m/l*Math.sin(v))),s&&(T=Nt(m/s*Math.sin(v)))),l){y=l*Math.cos(u+P),b=l*Math.sin(u+P),w=l*Math.cos(h-P),_=l*Math.sin(h-P);var D=Math.abs(h-u-2*P)<=Et?0:1;if(P&&qo(y,b,w,_)===f^D){var E=(u+h)/2;y=l*Math.cos(E),b=l*Math.sin(E),w=_=null}}else y=b=0;if(s){x=s*Math.cos(h-T),k=s*Math.sin(h-T),S=s*Math.cos(u+T),C=s*Math.sin(u+T);var L=Math.abs(u-h+2*T)<=Et?0:1;if(T&&qo(x,k,S,C)===1-f^L){var M=(u+h)/2;x=s*Math.cos(M),k=s*Math.sin(M),S=C=null}}else x=k=0;if(d>At&&(p=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){g=s<l^f?0:1;var I=p,O=p;if(d<Et){var $=null==S?[x,k]:null==w?[y,b]:dr([y,b],[S,C],[w,_],[x,k]),j=y-$[0],R=b-$[1],F=w-$[0],N=_-$[1],V=1/Math.sin(Math.acos((j*F+R*N)/(Math.sqrt(j*j+R*R)*Math.sqrt(F*F+N*N)))/2),H=Math.sqrt($[0]*$[0]+$[1]*$[1]);O=Math.min(p,(s-H)/(V-1)),I=Math.min(p,(l-H)/(V+1))}if(null!=w){var z=Xo(null==S?[x,k]:[S,C],[y,b],l,I,f),G=Xo([w,_],[x,k],l,I,f);p===I?A.push("M",z[0],"A",I,",",I," 0 0,",g," ",z[1],"A",l,",",l," 0 ",1-f^qo(z[1][0],z[1][1],G[1][0],G[1][1]),",",f," ",G[1],"A",I,",",I," 0 0,",g," ",G[0]):A.push("M",z[0],"A",I,",",I," 0 1,",g," ",G[0])}else A.push("M",y,",",b);if(null!=S){var B=Xo([y,b],[S,C],s,-O,f),Y=Xo([x,k],null==w?[y,b]:[w,_],s,-O,f);p===O?A.push("L",Y[0],"A",O,",",O," 0 0,",g," ",Y[1],"A",s,",",s," 0 ",f^qo(Y[1][0],Y[1][1],B[1][0],B[1][1]),",",1-f," ",B[1],"A",O,",",O," 0 0,",g," ",B[0]):A.push("L",Y[0],"A",O,",",O," 0 0,",g," ",B[0])}else A.push("L",x,",",k)}else A.push("M",y,",",b),null!=w&&A.push("A",l,",",l," 0 ",D,",",f," ",w,",",_),A.push("L",x,",",k),null!=S&&A.push("A",s,",",s," 0 ",L,",",1-f," ",S,",",C);return A.push("Z"),A.join("")}function c(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=ye(e),s):t},s.outerRadius=function(t){return arguments.length?(e=ye(t),s):e},s.cornerRadius=function(t){return arguments.length?(n=ye(t),s):n},s.padRadius=function(t){return arguments.length?(i=t==Ho?Ho:ye(t),s):i},s.startAngle=function(t){return arguments.length?(r=ye(t),s):r},s.endAngle=function(t){return arguments.length?(a=ye(t),s):a},s.padAngle=function(t){return arguments.length?(o=ye(t),s):o},s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-It;return[Math.cos(i)*n,Math.sin(i)*n]},s};var Ho="auto";function zo(t){return t.innerRadius}function Go(t){return t.outerRadius}function Bo(t){return t.startAngle}function Yo(t){return t.endAngle}function Uo(t){return t&&t.padAngle}function qo(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function Xo(t,e,n,i,r){var a=t[0]-e[0],o=t[1]-e[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),c=s*o,l=-s*a,u=t[0]+c,h=t[1]+l,d=e[0]+c,f=e[1]+l,p=(u+d)/2,g=(h+f)/2,m=d-u,v=f-h,y=m*m+v*v,b=n-i,w=u*f-d*h,_=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),x=(w*v-m*_)/y,k=(-w*m-v*_)/y,S=(w*v+m*_)/y,C=(-w*m+v*_)/y,T=x-p,P=k-g,A=S-p,D=C-g;return T*T+P*P>A*A+D*D&&(x=S,k=C),[[x-c,k-l],[x*n/b,k*n/b]]}function Wo(t){var e=or,n=sr,i=Zn,r=Zo,a=r.key,o=.7;function s(a){var s,c=[],l=[],u=-1,h=a.length,d=ye(e),f=ye(n);function p(){c.push("M",r(t(l),o))}for(;++u<h;)i.call(this,s=a[u],u)?l.push([+d.call(this,s,u),+f.call(this,s,u)]):l.length&&(p(),l=[]);return l.length&&p(),c.length?c.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(i=t,s):i},s.interpolate=function(t){return arguments.length?(a="function"==typeof t?r=t:(r=Jo.get(t)||Zo).key,s):a},s.tension=function(t){return arguments.length?(o=t,s):o},s}i.svg.line=function(){return Wo(O)};var Jo=i.map({linear:Zo,"linear-closed":Ko,step:function(t){var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];for(;++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);n>1&&r.push("H",i[0]);return r.join("")},"step-before":Qo,"step-after":ts,basis:is,"basis-open":function(t){if(t.length<4)return Zo(t);var e,n=[],i=-1,r=t.length,a=[0],o=[0];for(;++i<3;)e=t[i],a.push(e[0]),o.push(e[1]);n.push(rs(ss,a)+","+rs(ss,o)),--i;for(;++i<r;)e=t[i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),cs(n,a,o);return n.join("")},"basis-closed":function(t){var e,n,i=-1,r=t.length,a=r+4,o=[],s=[];for(;++i<4;)n=t[i%r],o.push(n[0]),s.push(n[1]);e=[rs(ss,o),",",rs(ss,s)],--i;for(;++i<a;)n=t[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),cs(e,o,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,a=t[0][0],o=t[0][1],s=t[n][0]-a,c=t[n][1]-o,l=-1;++l<=n;)i=t[l],r=l/n,i[0]=e*i[0]+(1-e)*(a+r*s),i[1]=e*i[1]+(1-e)*(o+r*c);return is(t)},cardinal:function(t,e){return t.length<3?Zo(t):t[0]+es(t,ns(t,e))},"cardinal-open":function(t,e){return t.length<4?Zo(t):t[1]+es(t.slice(1,-1),ns(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ko(t):t[0]+es((t.push(t[0]),t),ns([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Zo(t):t[0]+es(t,function(t){var e,n,i,r,a=[],o=function(t){var e=0,n=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=ls(r,a);for(;++e<n;)i[e]=(o+(o=ls(r=a,a=t[e+1])))/2;return i[e]=o,i}(t),s=-1,c=t.length-1;for(;++s<c;)e=ls(t[s],t[s+1]),x(e)<At?o[s]=o[s+1]=0:(n=o[s]/e,i=o[s+1]/e,(r=n*n+i*i)>9&&(r=3*e/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));s=-1;for(;++s<=c;)r=(t[Math.min(c,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}(t))}});function Zo(t){return t.length>1?t.join("L"):t+"Z"}function Ko(t){return t.join("L")+"Z"}function Qo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function ts(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function es(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Zo(t);var n=t.length!=e.length,i="",r=t[0],a=t[1],o=e[0],s=o,c=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],c=2),e.length>1){s=e[1],a=t[c],c++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<e.length;l++,c++)a=t[c],s=e[l],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=t[c];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function ns(t,e){for(var n,i=[],r=(1-e)/2,a=t[0],o=t[1],s=1,c=t.length;++s<c;)n=a,a=o,o=t[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function is(t){if(t.length<3)return Zo(t);var e=1,n=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],c=[r,",",a,"L",rs(ss,o),",",rs(ss,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),cs(c,o,s);return t.pop(),c.push("L",i),c.join("")}function rs(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Jo.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var as=[0,2/3,1/3,0],os=[0,1/3,2/3,0],ss=[0,1/6,2/3,1/6];function cs(t,e,n){t.push("C",rs(as,e),",",rs(as,n),",",rs(os,e),",",rs(os,n),",",rs(ss,e),",",rs(ss,n))}function ls(t,e){return(e[1]-t[1])/(e[0]-t[0])}function us(t){for(var e,n,i,r=-1,a=t.length;++r<a;)n=(e=t[r])[0],i=e[1]-It,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function hs(t){var e=or,n=or,i=0,r=sr,a=Zn,o=Zo,s=o.key,c=o,l="L",u=.7;function h(s){var h,d,f,p=[],g=[],m=[],v=-1,y=s.length,b=ye(e),w=ye(i),_=e===n?function(){return d}:ye(n),x=i===r?function(){return f}:ye(r);function k(){p.push("M",o(t(m),u),l,c(t(g.reverse()),u),"Z")}for(;++v<y;)a.call(this,h=s[v],v)?(g.push([d=+b.call(this,h,v),f=+w.call(this,h,v)]),m.push([+_.call(this,h,v),+x.call(this,h,v)])):g.length&&(k(),g=[],m=[]);return g.length&&k(),p.length?p.join(""):null}return h.x=function(t){return arguments.length?(e=n=t,h):n},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(n=t,h):n},h.y=function(t){return arguments.length?(i=r=t,h):r},h.y0=function(t){return arguments.length?(i=t,h):i},h.y1=function(t){return arguments.length?(r=t,h):r},h.defined=function(t){return arguments.length?(a=t,h):a},h.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Jo.get(t)||Zo).key,c=o.reverse||o,l=o.closed?"M":"L",h):s},h.tension=function(t){return arguments.length?(u=t,h):u},h}function ds(t){return t.radius}function fs(t){return[t.x,t.y]}function ps(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-It;return[n*Math.cos(i),n*Math.sin(i)]}}function gs(){return 64}function ms(){return"circle"}function vs(t){var e=Math.sqrt(t/Et);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}i.svg.line.radial=function(){var t=Wo(us);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Qo.reverse=ts,ts.reverse=Qo,i.svg.area=function(){return hs(O)},i.svg.area.radial=function(){var t=hs(us);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},i.svg.chord=function(){var t=Ui,e=qi,n=ds,i=Bo,r=Yo;function a(n,i){var r,a,l=o(this,t,n,i),u=o(this,e,n,i);return"M"+l.p0+s(l.r,l.p1,l.a1-l.a0)+(a=u,((r=l).a0==a.a0&&r.a1==a.a1?c(l.r,l.p1,l.r,l.p0):c(l.r,l.p1,u.r,u.p0)+s(u.r,u.p1,u.a1-u.a0)+c(u.r,u.p1,l.r,l.p0))+"Z")}function o(t,e,a,o){var s=e.call(t,a,o),c=n.call(t,s,o),l=i.call(t,s,o)-It,u=r.call(t,s,o)-It;return{r:c,a0:l,a1:u,p0:[c*Math.cos(l),c*Math.sin(l)],p1:[c*Math.cos(u),c*Math.sin(u)]}}function s(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Et)+",1 "+e}function c(t,e,n,i){return"Q 0,0 "+i}return a.radius=function(t){return arguments.length?(n=ye(t),a):n},a.source=function(e){return arguments.length?(t=ye(e),a):t},a.target=function(t){return arguments.length?(e=ye(t),a):e},a.startAngle=function(t){return arguments.length?(i=ye(t),a):i},a.endAngle=function(t){return arguments.length?(r=ye(t),a):r},a},i.svg.diagonal=function(){var t=Ui,e=qi,n=fs;function i(i,r){var a=t.call(this,i,r),o=e.call(this,i,r),s=(a.y+o.y)/2,c=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(c=c.map(n))[0]+"C"+c[1]+" "+c[2]+" "+c[3]}return i.source=function(e){return arguments.length?(t=ye(e),i):t},i.target=function(t){return arguments.length?(e=ye(t),i):e},i.projection=function(t){return arguments.length?(n=t,i):n},i},i.svg.diagonal.radial=function(){var t=i.svg.diagonal(),e=fs,n=t.projection;return t.projection=function(t){return arguments.length?n(ps(e=t)):e},t},i.svg.symbol=function(){var t=ms,e=gs;function n(n,i){return(ys.get(t.call(this,n,i))||vs)(e.call(this,n,i))}return n.type=function(e){return arguments.length?(t=ye(e),n):t},n.size=function(t){return arguments.length?(e=ye(t),n):e},n};var ys=i.map({circle:vs,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ws)),n=e*ws;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/bs),n=e*bs/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/bs),n=e*bs/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});i.svg.symbolTypes=ys.keys();var bs=Math.sqrt(3),ws=Math.tan(30*Ot);J.transition=function(t){for(var e,n,i=Ss||++Ps,r=Es(t),a=[],o=Cs||{time:Date.now(),ease:fa,delay:0,duration:250},s=-1,c=this.length;++s<c;){a.push(e=[]);for(var l=this[s],u=-1,h=l.length;++u<h;)(n=l[u])&&Ls(n,u,r,i,o),e.push(n)}return ks(a,r,i)},J.interrupt=function(t){return this.each(null==t?_s:xs(Es(t)))};var _s=xs(Es());function xs(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function ks(t,e,n){return Y(t,Ts),t.namespace=e,t.id=n,t}var Ss,Cs,Ts=[],Ps=0;function As(t,e,n,i){var r=t.id,a=t.namespace;return pt(t,"function"==typeof n?function(t,o,s){t[a][r].tween.set(e,i(n.call(t,t.__data__,o,s)))}:(n=i(n),function(t){t[a][r].tween.set(e,n)}))}function Ds(t){return null==t&&(t=""),function(){this.textContent=t}}function Es(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ls(t,e,n,i,r){var a,o,s,c,l,u=t[n]||(t[n]={active:0,count:0}),h=u[i];function d(n){var r=u.active,d=u[r];for(var p in d&&(d.timer.c=null,d.timer.t=NaN,--u.count,delete u[r],d.event&&d.event.interrupt.call(t,t.__data__,d.index)),u)if(+p<i){var g=u[p];g.timer.c=null,g.timer.t=NaN,--u.count,delete u[p]}o.c=f,Te((function(){return o.c&&f(n||1)&&(o.c=null,o.t=NaN),1}),0,a),u.active=i,h.event&&h.event.start.call(t,t.__data__,e),l=[],h.tween.forEach((function(n,i){(i=i.call(t,t.__data__,e))&&l.push(i)})),c=h.ease,s=h.duration}function f(r){for(var a=r/s,o=c(a),d=l.length;d>0;)l[--d].call(t,o);if(a>=1)return h.event&&h.event.end.call(t,t.__data__,e),--u.count?delete u[i]:delete t[n],1}h||(a=r.time,o=Te((function(t){var e=h.delay;if(o.t=e+a,e<=t)return d(t-e);o.c=d}),0,a),h=u[i]={tween:new C,time:a,timer:o,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++u.count)}Ts.call=J.call,Ts.empty=J.empty,Ts.node=J.node,Ts.size=J.size,i.transition=function(t,e){return t&&t.transition?Ss?t.transition(e):t:i.selection().transition(t)},i.transition.prototype=Ts,Ts.select=function(t){var e,n,i,r=this.id,a=this.namespace,o=[];t=Z(t);for(var s=-1,c=this.length;++s<c;){o.push(e=[]);for(var l=this[s],u=-1,h=l.length;++u<h;)(i=l[u])&&(n=t.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),Ls(n,u,a,r,i[a][r]),e.push(n)):e.push(null)}return ks(o,a,r)},Ts.selectAll=function(t){var e,n,i,r,a,o=this.id,s=this.namespace,c=[];t=K(t);for(var l=-1,u=this.length;++l<u;)for(var h=this[l],d=-1,f=h.length;++d<f;)if(i=h[d]){a=i[s][o],n=t.call(i,i.__data__,d,l),c.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&Ls(r,p,s,o,a),e.push(r)}return ks(c,s,o)},Ts.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=dt(t));for(var r=0,a=this.length;r<a;r++){i.push(e=[]);for(var o,s=0,c=(o=this[r]).length;s<c;s++)(n=o[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return ks(i,this.namespace,this.id)},Ts.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):pt(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Ts.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?Sa:ia,r=i.ns.qualify(t);function a(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function s(t){return null==t?a:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function c(t){return null==t?o:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}return As(this,"attr."+t,e,r.local?c:s)},Ts.attrTween=function(t,e){var n=i.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,i){var r=e.call(this,t,i,this.getAttributeNS(n.space,n.local));return r&&function(t){this.setAttributeNS(n.space,n.local,r(t))}}:function(t,i){var r=e.call(this,t,i,this.getAttribute(n));return r&&function(t){this.setAttribute(n,r(t))}})},Ts.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function r(){this.style.removeProperty(t)}function a(e){return null==e?r:(e+="",function(){var i,r=u(this).getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=ia(r,e),function(e){this.style.setProperty(t,i(e),n)})})}return As(this,"style."+t,e,a)},Ts.styleTween=function(t,e,n){function i(i,r){var a=e.call(this,i,r,u(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,i)},Ts.text=function(t){return As(this,"text",t,Ds)},Ts.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},Ts.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=i.ease.apply(i,arguments)),pt(this,(function(i){i[n][e].ease=t})))},Ts.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"==typeof t?function(i,r,a){i[n][e].delay=+t.call(i,i.__data__,r,a)}:(t=+t,function(i){i[n][e].delay=t}))},Ts.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"==typeof t?function(i,r,a){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,a))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Ts.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var a=Cs,o=Ss;try{Ss=n,pt(this,(function(e,i,a){Cs=e[r][n],t.call(e,e.__data__,i,a)}))}finally{Cs=a,Ss=o}}else pt(this,(function(a){var o=a[r][n];(o.event||(o.event=i.dispatch("start","end","interrupt"))).on(t,e)}));return this},Ts.transition=function(){for(var t,e,n,i=this.id,r=++Ps,a=this.namespace,o=[],s=0,c=this.length;s<c;s++){o.push(t=[]);for(var l,u=0,h=(l=this[s]).length;u<h;u++)(e=l[u])&&Ls(e,u,a,r,{time:(n=e[a][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return ks(o,a,r)},i.svg.axis=function(){var t,e=i.scale.linear(),n=Ms,r=6,a=6,o=3,c=[10],l=null;function u(s){s.each((function(){var s,u=i.select(this),h=this.__chart__||e,d=this.__chart__=e.copy(),f=null==l?d.ticks?d.ticks.apply(d,c):d.domain():l,p=null==t?d.tickFormat?d.tickFormat.apply(d,c):O:t,g=u.selectAll(".tick").data(f,d),m=g.enter().insert("g",".domain").attr("class","tick").style("opacity",At),v=i.transition(g.exit()).style("opacity",At).remove(),y=i.transition(g.order()).style("opacity",1),b=Math.max(r,0)+o,w=wo(d),_=u.selectAll(".domain").data([0]),x=(_.enter().append("path").attr("class","domain"),i.transition(_));m.append("line"),m.append("text");var k,S,C,T,P=m.select("line"),A=y.select("line"),D=g.select("text").text(p),E=m.select("text"),L=y.select("text"),M="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=Os,k="x",C="y",S="x2",T="y2",D.attr("dy",M<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+w[0]+","+M*a+"V0H"+w[1]+"V"+M*a)):(s=$s,k="y",C="x",S="y2",T="x2",D.attr("dy",".32em").style("text-anchor",M<0?"end":"start"),x.attr("d","M"+M*a+","+w[0]+"H0V"+w[1]+"H"+M*a)),P.attr(T,M*r),E.attr(C,M*b),A.attr(S,0).attr(T,M*r),L.attr(k,0).attr(C,M*b),d.rangeBand){var I=d,$=I.rangeBand()/2;h=d=function(t){return I(t)+$}}else h.rangeBand?h=d:v.call(s,d,h);m.call(s,h,d),y.call(s,d,d)}))}return u.scale=function(t){return arguments.length?(e=t,u):e},u.orient=function(t){return arguments.length?(n=t in Is?t+"":Ms,u):n},u.ticks=function(){return arguments.length?(c=s(arguments),u):c},u.tickValues=function(t){return arguments.length?(l=t,u):l},u.tickFormat=function(e){return arguments.length?(t=e,u):t},u.tickSize=function(t){var e=arguments.length;return e?(r=+t,a=+arguments[e-1],u):r},u.innerTickSize=function(t){return arguments.length?(r=+t,u):r},u.outerTickSize=function(t){return arguments.length?(a=+t,u):a},u.tickPadding=function(t){return arguments.length?(o=+t,u):o},u.tickSubdivide=function(){return arguments.length&&u},u};var Ms="bottom",Is={top:1,right:1,bottom:1,left:1};function Os(t,e,n){t.attr("transform",(function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"}))}function $s(t,e,n){t.attr("transform",(function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"}))}i.svg.brush=function(){var t,e,n=G(d,"brushstart","brush","brushend"),r=null,a=null,o=[0,0],s=[0,0],c=!0,l=!0,h=Rs[0];function d(t){t.each((function(){var t=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(h,O);n.exit().remove(),n.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return js[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",d.empty()?"none":null);var o,s=i.transition(t),c=i.transition(e);r&&(o=wo(r),c.attr("x",o[0]).attr("width",o[1]-o[0]),p(s)),a&&(o=wo(a),c.attr("y",o[0]).attr("height",o[1]-o[0]),g(s)),f(s)}))}function f(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+o[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"}))}function p(t){t.select(".extent").attr("x",o[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function g(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function m(){var h,m,v=this,y=i.select(i.event.target),b=n.of(v,arguments),w=i.select(v),_=y.datum(),x=!/^(n|s)$/.test(_)&&r,k=!/^(e|w)$/.test(_)&&a,S=y.classed("extent"),C=St(v),T=i.mouse(v),P=i.select(u(v)).on("keydown.brush",E).on("keyup.brush",L);if(i.event.changedTouches?P.on("touchmove.brush",M).on("touchend.brush",O):P.on("mousemove.brush",M).on("mouseup.brush",O),w.interrupt().selectAll("*").interrupt(),S)T[0]=o[0]-T[0],T[1]=s[0]-T[1];else if(_){var A=+/w$/.test(_),D=+/^n/.test(_);m=[o[1-A]-T[0],s[1-D]-T[1]],T[0]=o[A],T[1]=s[D]}else i.event.altKey&&(h=T.slice());function E(){32==i.event.keyCode&&(S||(h=null,T[0]-=o[1],T[1]-=s[1],S=2),H())}function L(){32==i.event.keyCode&&2==S&&(T[0]+=o[1],T[1]+=s[1],S=0,H())}function M(){var t=i.mouse(v),e=!1;m&&(t[0]+=m[0],t[1]+=m[1]),S||(i.event.altKey?(h||(h=[(o[0]+o[1])/2,(s[0]+s[1])/2]),T[0]=o[+(t[0]<h[0])],T[1]=s[+(t[1]<h[1])]):h=null),x&&I(t,r,0)&&(p(w),e=!0),k&&I(t,a,1)&&(g(w),e=!0),e&&(f(w),b({type:"brush",mode:S?"move":"resize"}))}function I(n,i,r){var a,u,d=wo(i),f=d[0],p=d[1],g=T[r],m=r?s:o,v=m[1]-m[0];if(S&&(f-=g,p-=v+g),a=(r?l:c)?Math.max(f,Math.min(p,n[r])):n[r],S?u=(a+=g)+v:(h&&(g=Math.max(f,Math.min(p,2*h[r]-a))),g<a?(u=a,a=g):u=g),m[0]!=a||m[1]!=u)return r?e=null:t=null,m[0]=a,m[1]=u,!0}function O(){M(),w.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),i.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),b({type:"brushend"})}w.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),M()}return d.event=function(r){r.each((function(){var r=n.of(this,arguments),a={x:o,y:s,i:t,j:e},c=this.__chart__||a;this.__chart__=a,Ss?i.select(this).transition().each("start.brush",(function(){t=c.i,e=c.j,o=c.x,s=c.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=ra(o,a.x),i=ra(s,a.y);return t=e=null,function(t){o=a.x=n(t),s=a.y=i(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=a.i,e=a.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},d.x=function(t){return arguments.length?(h=Rs[!(r=t)<<1|!a],d):r},d.y=function(t){return arguments.length?(h=Rs[!r<<1|!(a=t)],d):a},d.clamp=function(t){return arguments.length?(r&&a?(c=!!t[0],l=!!t[1]):r?c=!!t:a&&(l=!!t),d):r&&a?[c,l]:r?c:a?l:null},d.extent=function(n){var i,c,l,u,h;return arguments.length?(r&&(i=n[0],c=n[1],a&&(i=i[0],c=c[0]),t=[i,c],r.invert&&(i=r(i),c=r(c)),c<i&&(h=i,i=c,c=h),i==o[0]&&c==o[1]||(o=[i,c])),a&&(l=n[0],u=n[1],r&&(l=l[1],u=u[1]),e=[l,u],a.invert&&(l=a(l),u=a(u)),u<l&&(h=l,l=u,u=h),l==s[0]&&u==s[1]||(s=[l,u])),d):(r&&(t?(i=t[0],c=t[1]):(i=o[0],c=o[1],r.invert&&(i=r.invert(i),c=r.invert(c)),c<i&&(h=i,i=c,c=h))),a&&(e?(l=e[0],u=e[1]):(l=s[0],u=s[1],a.invert&&(l=a.invert(l),u=a.invert(u)),u<l&&(h=l,l=u,u=h))),r&&a?[[i,l],[c,u]]:r?[i,c]:a&&[l,u])},d.clear=function(){return d.empty()||(o=[0,0],s=[0,0],t=e=null),d},d.empty=function(){return!!r&&o[0]==o[1]||!!a&&s[0]==s[1]},i.rebind(d,n,"on")};var js={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Fs=je.format=dn.timeFormat,Ns=Fs.utc,Vs=Ns("%Y-%m-%dT%H:%M:%S.%LZ");function Hs(t){return t.toISOString()}function zs(t,e,n){function r(e){return t(e)}function a(t,n){var r=(t[1]-t[0])/n,a=i.bisect(Bs,r);return a==Bs.length?[e.year,Ao(t.map((function(t){return t/31536e6})),n)[2]]:a?e[r/Bs[a-1]<Bs[a]/r?a-1:a]:[qs,Ao(t,n)[2]]}return r.invert=function(e){return Gs(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Gs)},r.nice=function(t,e){var n=r.domain(),i=bo(n),o=null==t?a(i,10):"number"==typeof t&&a(i,t);function s(n){return!isNaN(n)&&!t.range(n,Gs(+n+1),e).length}return o&&(t=o[0],e=o[1]),r.domain(xo(n,e>1?{floor:function(e){for(;s(e=t.floor(e));)e=Gs(e-1);return e},ceil:function(e){for(;s(e=t.ceil(e));)e=Gs(+e+1);return e}}:t))},r.ticks=function(t,e){var n=bo(r.domain()),i=null==t?a(n,10):"number"==typeof t?a(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],Gs(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return zs(t.copy(),e,n)},To(r,t)}function Gs(t){return new Date(t)}Fs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Hs:Vs,Hs.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Hs.toString=Vs.toString,je.second=Ve((function(t){return new Re(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),je.seconds=je.second.range,je.seconds.utc=je.second.utc.range,je.minute=Ve((function(t){return new Re(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),je.minutes=je.minute.range,je.minutes.utc=je.minute.utc.range,je.hour=Ve((function(t){var e=t.getTimezoneOffset()/60;return new Re(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),je.hours=je.hour.range,je.hours.utc=je.hour.utc.range,je.month=Ve((function(t){return(t=je.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),je.months=je.month.range,je.months.utc=je.month.utc.range;var Bs=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ys=[[je.second,1],[je.second,5],[je.second,15],[je.second,30],[je.minute,1],[je.minute,5],[je.minute,15],[je.minute,30],[je.hour,1],[je.hour,3],[je.hour,6],[je.hour,12],[je.day,1],[je.day,2],[je.week,1],[je.month,1],[je.month,3],[je.year,1]],Us=Fs.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Zn]]),qs={range:function(t,e,n){return i.range(Math.ceil(t/n)*n,+e,n).map(Gs)},floor:O,ceil:O};Ys.year=je.year,je.scale=function(){return zs(i.scale.linear(),Ys,Us)};var Xs=Ys.map((function(t){return[t[0].utc,t[1]]})),Ws=Ns.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Zn]]);function Js(t){return JSON.parse(t.responseText)}function Zs(t){var e=c.createRange();return e.selectNode(c.body),e.createContextualFragment(t.responseText)}Xs.year=je.year.utc,je.scale.utc=function(){return zs(i.scale.linear(),Xs,Ws)},i.text=be((function(t){return t.responseText})),i.json=function(t,e){return we(t,"application/json",Js,e)},i.html=function(t,e){return we(t,"text/html",Zs,e)},i.xml=be((function(t){return t.responseXML})),this.d3=i,void 0===(a="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=a)}()}).call(this,n(0))},212:function(t,e,n){(function(t){var e=window.angular,n=window.c3;function i(t,i){function r(){t.chart=null,t.columns=[],t.types={},t.regions={},t.axis={},t.axes={},t.padding=null,t.emptyLabel=null,t.xValues=null,t.xFormat=null,t.xsValues=null,t.xTick=null,t.yTick=null,t.names=null,t.grid=null,t.legend=null,t.tooltip=null,t.chartSize=null,t.colors=null,t.colorThresholds=null,t.gauge=null,t.jsonKeys=null,t.groups=null,t.sorting=null,t.transitionDuration=null,t.initialConfig=null,t.selection=null}function a(e,n,i,r){void 0!==n&&(t.types[e]=n),void 0!==i&&(null===t.names&&(t.names={}),t.names[e]=i),void 0!==r&&(null===t.colors&&(t.colors={}),t.colors[e]=r)}this.showGraph=function(){var o={};t.initialConfig&&(o=t.initialConfig);o.bindto="#"+t.bindto,o.data=o.data||{},t.xValues&&(o.data.x=t.xValues);t.xsValues&&(o.data.xs=t.xsValues);t.columns&&(o.data.columns=t.columns);t.xFormat&&(o.data.xFormat=t.xFormat);o.data.types=o.data.types||t.types,o.data.axes=o.data.axes||t.axes,t.names&&(o.data.names=t.names);null!=t.emptyLabel&&(o.data.empty={label:{text:t.emptyLabel}});null!=t.padding&&(o.padding=t.padding);null!=t.sorting&&("null"==t.sorting?o.data.order=null:o.data.order=t.sorting);null!=t.transitionDuration&&(o.transition=o.transition||{},o.transition.duration=t.transitionDuration);t.showLabels&&"true"===t.showLabels&&(o.data.labels=!0);t.dataLabelsFormatFunction&&(o.data.labels=o.data.labels||{},o.data.labels.format=t.dataLabelsFormatFunction);null!=t.groups&&(o.data.groups=t.groups);t.showSubchart&&"true"===t.showSubchart&&(o.subchart={show:!0});t.subchartOnBrushFunction&&(o.subchart=o.subchart||{},o.subchart.onbrush=t.subchartOnBrushFunction);t.enableZoom&&"true"===t.enableZoom&&(o.zoom={enabled:!0});t.rescaleZoom&&"true"===t.rescaleZoom&&(o.zoom=o.zoom||{},o.zoom.rescale=!0);t.onZoomEndFunction&&(o.zoom=o.zoom||{},o.zoom.onzoomend=t.onZoomEndFunction);o.axis=o.axis||t.axis,t.xTick&&(o.axis.x.tick=t.xTick);t.xTickFormatFunction&&(o.axis.x.tick=o.axis.x.tick||{},o.axis.x.tick.format=t.xTickFormatFunction);t.xType&&(o.axis.x.type=t.xType);t.yTick&&(o.axis.y.tick=t.yTick);t.yTickFormatFunction&&(o.axis.y.tick=o.axis.y.tick||{},o.axis.y.tick.format=t.yTickFormatFunction);null!=t.grid&&(o.grid=t.grid);null!=t.legend&&(o.legend=t.legend);null!=t.tooltip?o.tooltip=t.tooltip:o.tooltip={};t.tooltipTitleFormatFunction&&(o.tooltip.format=o.tooltip.format||{},o.tooltip.format.title=t.tooltipTitleFormatFunction);t.tooltipNameFormatFunction&&(o.tooltip.format=o.tooltip.format||{},o.tooltip.format.name=t.tooltipNameFormatFunction);t.tooltipValueFormatFunction&&(o.tooltip.format=o.tooltip.format||{},o.tooltip.format.value=t.tooltipValueFormatFunction);t.tooltipContentFormatFunction&&(o.tooltip.contents=t.tooltipContentFormatFunction);null!=t.chartSize&&(o.size=t.chartSize);null!=t.colors&&(o.data.colors=t.colors);t.colorFunction&&(o.data.color=t.colorFunction);null!=t.colorPatterns&&(void 0===o.color&&(o.color={}),o.color.pattern=t.colorPatterns);null!=t.colorThresholds&&(void 0===o.color&&(o.color={}),o.color.threshold={values:t.colorThresholds});null!=t.gauge?o.gauge=t.gauge:o.gauge={};t.gaugeLabelFormatFunction&&(o.gauge.label=o.gauge.label||{},o.gauge.label.format=t.gaugeLabelFormatFunction);null!=t.point&&(o.point=t.point);null!=t.bar&&(o.bar=t.bar);null!=t.line&&(o.line=t.line);null!=t.regions&&(o.data.regions=t.regions);null!=t.pie&&(o.pie=t.pie);t.pieLabelFormatFunction&&(o.pie.label=o.pie.label||{},o.pie.label.format=t.pieLabelFormatFunction);null!=t.donut?o.donut=t.donut:o.donut={};t.donutLabelFormatFunction&&(o.donut.label=o.donut.label||{},o.donut.label.format=t.donutLabelFormatFunction);null!=t.onInit&&(o.oninit=t.onInit);null!=t.onMouseover&&(o.onmouseover=t.onMouseover);null!=t.onMouseout&&(o.onmouseout=t.onMouseout);null!=t.onRendered&&(o.onrendered=t.onRendered);null!=t.onResize&&(o.onresize=t.onResize);null!=t.onResized&&(o.onresized=t.onResized);null!=t.dataOnClick&&(o.data.onclick=function(e,n){t.$apply((function(){t.dataOnClick({data:e})}))});null!=t.dataOnMouseover&&(o.data.onmouseover=function(e){t.$apply((function(){t.dataOnMouseover({data:e})}))});null!=t.dataOnMouseout&&(o.data.onmouseout=function(e){t.$apply((function(){t.dataOnMouseout({data:e})}))});null!=t.selection&&(o.data.selection=t.selection);"boolean"==typeof t.interactionEnabled&&(o.interaction={enabled:t.interactionEnabled});t.config=o,t.chartData&&t.chartColumns?t.$watch("chartData",(function(){!function(){t.jsonKeys={},t.jsonKeys.value=[],e.forEach(t.chartColumns,(function(e){t.jsonKeys.value.push(e.id),a(e.id,e.type,e.name,e.color)})),t.chartX&&(t.jsonKeys.x=t.chartX.id);t.names&&(t.config.data.names=t.names);t.colors&&(t.config.data.colors=t.colors);t.groups&&(t.config.data.groups=t.groups);t.config.data.keys=t.jsonKeys,t.config.data.json=t.chartData,t.chartIsGenerated?(t.config.data.unload=!0,t.chart.load(t.config.data)):(t.chart=n.generate(t.config),t.chartIsGenerated=!0,t.chartCallbackFunction&&t.chartCallbackFunction(t.chart))}()}),!0):(t.chart=n.generate(t.config),t.chartCallbackFunction&&t.chartCallbackFunction(t.chart));t.$on("$destroy",(function(){i((function(){e.isDefined(t.chart)&&(t.chart=t.chart.destroy(),r())}),1e4)}))},this.addColumn=function(e,n,i,r){t.columns.push(e),a(e[0],n,i,r)},this.addAxisProperties=function(e,n){t.axis[e]=n},this.rotateAxis=function(){t.axis.rotated=!0},this.addPadding=function(e,n){null==t.padding&&(t.padding={});t.padding[e]=parseInt(n)},this.addSorting=function(e){t.sorting=e},this.addInteractionEnabled=function(e){t.interactionEnabled=e},this.addSize=function(e){t.chartSize=e},this.addEmptyLabel=function(e){t.emptyLabel=e},this.addColorPatterns=function(e){t.colorPatterns=e},this.addColorThresholds=function(e){t.colorThresholds=e,t.colors&&(t.colors.threshold={values:t.colorThresholds})},this.addColorFunction=function(e){t.colorFunction=e},this.addGrid=function(e){null==t.grid&&(t.grid={});null==t.grid[e]&&(t.grid[e]={});t.grid[e].show=!0},this.addGridLine=function(e,n,i,r,a){null==t.grid&&(t.grid={});"x"===e?(void 0===t.grid.x&&(t.grid.x={}),void 0===t.grid.x.lines&&(t.grid.x.lines=[])):(void 0===t.grid.y&&(t.grid.y={}),void 0===t.grid.y.lines&&(t.grid.y.lines=[]));var o={};o.value=isNaN(+n)?n:+n,o.text=i,r&&(o.class=r);a&&(o.position=a);"y2"===e?(o.axis="y2",t.grid.y.lines.push(o)):t.grid[e].lines.push(o)},this.hideGridFocus=function(){null==t.grid&&(t.grid={});t.grid.focus={show:!1}},this.addLegend=function(e){t.legend=e},this.addTooltip=function(e){t.tooltip=e},this.addTooltipTitleFormatFunction=function(e){t.tooltipTitleFormatFunction=e},this.addTooltipNameFormatFunction=function(e){t.tooltipNameFormatFunction=e},this.addTooltipValueFormatFunction=function(e){t.tooltipValueFormatFunction=e},this.addTooltipContentFormatFunction=function(e){t.tooltipContentFormatFunction=e},this.addYAxis=function(e){t.axes=e,t.axis.y2||(t.axis.y2={show:!0})},this.addYTick=function(e){t.yTick=e},this.addYTickFormatFunction=function(e){t.yTickFormatFunction=e},this.addXAxisValues=function(e){t.xValues=e},this.addXTick=function(e){t.xTick=e},this.addXTickFormatFunction=function(e){t.xTickFormatFunction=e},this.addXType=function(e){t.xType=e},this.addXSValues=function(e){t.xsValues=e},this.addChartCallbackFunction=function(e){t.chartCallbackFunction=e},this.addInitialConfig=function(e){t.initialConfig=e},this.addDataLabelsFormatFunction=function(e){t.dataLabelsFormatFunction=e},this.addTransitionDuration=function(e){t.transitionDuration=e},this.addSubchartOnBrushFunction=function(e){t.subchartOnBrushFunction=e},this.addOnZoomEndFunction=function(e){t.onZoomEndFunction=e},this.addGauge=function(e){t.gauge=e},this.addGaugeLabelFormatFunction=function(e){t.gaugeLabelFormatFunction=e},this.addBar=function(e){t.bar=e},this.addLine=function(e){t.line=e},this.addRegion=function(e,n){t.regions[e]=n},this.addPie=function(e){t.pie=e},this.addPieLabelFormatFunction=function(e){t.pieLabelFormatFunction=e},this.addDonut=function(e){t.donut=e},this.addDonutLabelFormatFunction=function(e){t.donutLabelFormatFunction=e},this.addGroup=function(e){null==t.groups&&(t.groups=[]);t.groups.push(e)},this.addPoint=function(e){t.point=e},this.addOnInitFunction=function(e){t.onInit=e},this.addOnMouseoverFunction=function(e){t.onMouseover=e},this.addOnMouseoutFunction=function(e){t.onMouseout=e},this.addOnRenderedFunction=function(e){t.onRendered=e},this.addOnResizeFunction=function(e){t.onResize=e},this.addOnResizedFunction=function(e){t.onResized=e},this.addDataOnClickFunction=function(e){t.dataOnClick=e},this.addDataOnMouseoverFunction=function(e){t.dataOnMouseover=e},this.addDataOnMouseoutFunction=function(e){t.dataOnMouseout=e},this.setXFormat=function(e){t.xFormat=e},this.addSelection=function(e){t.selection=e},r()}
/*! c3-angular - v1.3.1 - 2017-10-16
* https://github.com/jettro/c3-angular-directive
* Copyright (c) 2017 ; Licensed  */
e.module("gridshore.c3js.chart",[]),e.module("gridshore.c3js.chart").directive("chartAxes",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r=n.valuesX;r&&i.addXAxisValues(r);var a=n.valuesXs,o={};if(a){for(var s in xsItems=a.split(","),xsItems)xsItem=xsItems[s].split(":"),o[xsItem[0]]=xsItem[1];i.addXSValues(o)}var c=n.y,l=n.y2,u={};if(l){var h=l.split(",");for(var d in h)u[h[d]]="y2";if(c){var f=c.split(",");for(var p in f)u[f[p]]="y"}i.addYAxis(u)}}}})),e.module("gridshore.c3js.chart").directive("chartAxis",(function(){return{require:"^c3chart",restrict:"E",scope:{},transclude:!0,template:"<div ng-transclude></div>",replace:!0,link:function(t,e,n,i){n.axisRotate&&i.rotateAxis()}}})),e.module("gridshore.c3js.chart").directive("chartAxisX",(function(){return{require:"^c3chart",restrict:"E",scope:{},transclude:!0,template:"<div ng-transclude></div>",replace:!0,link:function(t,e,n,i){var r=n.axisPosition,a={label:{text:n.axisLabel,position:r}},o=n.paddingLeft,s=n.paddingRight;(o||s)&&(o=o||0,s=s||0,a.padding={left:parseInt(o),right:parseInt(s)});var c=n.axisHeight;c&&(a.height=parseInt(c)),"false"===n.show&&(a.show=!1),"true"===n.axisLocaltime&&(a.localtime=!0);var l=n.axisMax;l&&(a.max=l);var u=n.axisMin;u&&(a.min=u);var h=n.axisType;h&&(a.type=h),i.addAxisProperties("x",a);var d=n.axisXFormat;d&&i.setXFormat(d)}}})),e.module("gridshore.c3js.chart").directive("chartAxisXTick",(function(){return{require:"^c3chart",restrict:"E",scope:{tickFormatFunction:"&"},replace:!0,link:function(t,n,i,r){var a={},o=i.tickCount;o&&(a.count=o);var s=i.tickCulling;s&&("true"===(s=e.lowercase(s))?a.culling=!0:"false"===s&&(a.culling=!1));var c=i.tickCullingMax;c&&(a.culling={max:parseInt(c)});var l=i.tickMultiline;l&&("true"===(l=e.lowercase(l))?a.multiline=!0:"false"===l&&(a.multiline=!1));var u=i.tickCentered;u&&("true"===(u=e.lowercase(u))?a.centered=!0:"false"===u&&(a.centered=!1));var h=i.tickRotate;h&&(a.rotate=h);var d=i.tickFit;d&&("true"===(d=e.lowercase(d))?a.fit=!0:"false"===d&&(a.fit=!1));var f=i.tickValues;f&&f&&(f.indexOf(",")>-1?a.values=f.split(","):a.values=f);var p=i.tickOuter;p&&("true"===(p=e.lowercase(p))?a.outer=!0:"false"===p&&(a.outer=!1));var g=i.tickFormat;g&&(a.format=d3.format(g));var m=i.tickFormatTime;m&&(a.format=d3.time.format(m)),r.addXTick(a),i.tickFormatFunction&&r.addXTickFormatFunction(t.tickFormatFunction())}}})),e.module("gridshore.c3js.chart").directive("chartAxisY",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r=n.axisId,a=n.axisPosition;r=null==r?"y":r;var o={label:{text:n.axisLabel,position:a}};"false"===n.show?o.show=!1:"y2"===r&&(o.show=!0);var s=n.paddingTop,c=n.paddingBottom;(s||c)&&(s=s||0,c=c||0,o.padding={top:parseInt(s),bottom:parseInt(c)});var l=n.axisMax,u=n.axisMin;l&&(o.max=parseInt(l)),u&&(o.min=parseInt(u)),"true"===n.axisInverted&&(o.inverted=!0),"true"===n.axisInner&&(o.inner=!0);var h=n.axisCenter;h&&(o.center=parseInt(h)),i.addAxisProperties(r,o)}}})),e.module("gridshore.c3js.chart").directive("chartAxisYTick",(function(){return{require:"^c3chart",restrict:"E",scope:{tickFormatFunction:"&"},replace:!0,link:function(t,n,i,r){var a={},o=i.tickCount;o&&(a.count=o);var s=i.tickOuter;s&&("true"===(s=e.lowercase(s))?a.outer=!0:"false"===s&&(a.outer=!1));var c=i.tickValues;c&&(c.indexOf(",")>-1?a.values=c.split(","):a.values=c);var l=i.tickFormat;l&&(a.format=d3.format(l)),r.addYTick(a),i.tickFormatFunction&&r.addYTickFormatFunction(t.tickFormatFunction())}}})),e.module("gridshore.c3js.chart").directive("chartBar",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r={};n.width&&(r.width=parseInt(n.width)),n.ratio&&(r.width||(r.width={}),r.width.ratio=parseFloat(n.ratio)),n.zerobased&&(r.zerobased="true"===n.zerobased),i.addBar(r)}}})),e.module("gridshore.c3js.chart").directive("c3chart",["$timeout",function(t){return e=t,{restrict:"E",controller:"ChartController",scope:{bindto:"@bindtoId",showLabels:"@showLabels",labelsFormatFunction:"&",onZoomEndFunction:"&",showSubchart:"@showSubchart",subchartOnBrushFunction:"&",enableZoom:"@enableZoom",rescaleZoom:"@rescaleZoom",chartData:"=chartData",chartColumns:"=chartColumns",chartX:"=chartX",callbackFunction:"&",emptyLabel:"@emptyLabel"},template:"<div><div id='{{bindto}}'></div><div ng-transclude></div></div>",replace:!0,transclude:!0,link:function(t,n,i,r){var a=i.paddingTop,o=i.paddingRight,s=i.paddingBottom,c=i.paddingLeft,l=i.sortData,u=i.transitionDuration,h=i.initialConfig;i.interactionEnabled&&"false"===i.interactionEnabled&&r.addInteractionEnabled(!1),a&&r.addPadding("top",a),o&&r.addPadding("right",o),s&&r.addPadding("bottom",s),c&&r.addPadding("left",c),l&&r.addSorting(l),i.labelsFormatFunction&&r.addDataLabelsFormatFunction(t.labelsFormatFunction()),i.onZoomEndFunction&&r.addOnZoomEndFunction(t.onZoomEndFunction()),i.subchartOnBrushFunction&&r.addSubchartOnBrushFunction(t.subchartOnBrushFunction()),i.callbackFunction&&r.addChartCallbackFunction(t.callbackFunction()),u&&r.addTransitionDuration(u),h&&r.addInitialConfig(h),e((function(){r.showGraph()}))}};var e}]),e.module("gridshore.c3js.chart").directive("chartColors",(function(){return{require:"^c3chart",restrict:"E",scope:{colorFunction:"&"},replace:!0,link:function(t,e,n,i){var r=n.colorPattern;r&&i.addColorPatterns(r.split(","));var a=n.thresholds;a&&i.addColorThresholds(a.split(",")),n.colorFunction&&i.addColorFunction(t.colorFunction())}}})),e.module("gridshore.c3js.chart").directive("chartColumn",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r=n.columnValues.split(",");r.unshift(n.columnId),i.addColumn(r,n.columnType,n.columnName,n.columnColor)}}})),e.module("gridshore.c3js.chart").controller("ChartController",i),i.$inject=["$scope","$timeout"],e.module("gridshore.c3js.chart").directive("chartDonut",(function(){return{require:"^c3chart",restrict:"E",scope:{labelFormatFunction:"&"},replace:!0,link:function(t,e,n,i){var r={};n.showLabel&&(r.label={show:"true"===n.showLabel}),n.thresholdLabel&&(r.label||(r.label={}),r.label.threshold=parseFloat(n.thresholdLabel)),n.expand&&(r.expand="true"===n.expand),n.width&&(r.width=parseInt(n.width)),n.title&&(r.title=n.title),i.addDonut(r),n.labelFormatFunction&&i.addDonutLabelFormatFunction(t.labelFormatFunction())}}})),e.module("gridshore.c3js.chart").directive("chartEvents",(function(){return{require:"^c3chart",restrict:"E",scope:{onInit:"&",onMouseover:"&",onMouseout:"&",onResize:"&",onResized:"&",onRendered:"&",onClickData:"&",onMouseoverData:"&",onMouseoutData:"&"},replace:!0,link:function(t,e,n,i){n.onInit&&i.addOnInitFunction(t.onInit),n.onMouseover&&i.addOnMouseoverFunction(t.onMouseover),n.onMouseout&&i.addOnMouseoutFunction(t.onMouseout),n.onResize&&i.addOnResizeFunction(t.onResize),n.onResized&&i.addOnResizedFunction(t.onResized),n.onRendered&&i.addOnRenderedFunction(t.onRendered),n.onClickData&&i.addDataOnClickFunction(t.onClickData),n.onMouseoverData&&i.addDataOnMouseoverFunction(t.onMouseoverData),n.onMouseoutData&&i.addDataOnMouseoutFunction(t.onMouseoutData)}}})),e.module("gridshore.c3js.chart").directive("chartGauge",(function(){return{require:"^c3chart",restrict:"E",scope:{labelFormatFunction:"&"},replace:!0,link:function(t,e,n,i){var r={};n.min&&(r.min=parseInt(n.min)),n.max&&(r.max=parseInt(n.max)),n.width&&(r.width=parseInt(n.width)),n.units&&(r.units=n.units),n.showLabel&&(r.label={show:"true"===n.showLabel}),n.expand&&(r.expand="true"===n.expand),i.addGauge(r),n.labelFormatFunction&&i.addGaugeLabelFormatFunction(t.labelFormatFunction())}}})),e.module("gridshore.c3js.chart").directive("chartGrid",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r=n.showX;r&&"true"===r&&i.addGrid("x");var a=n.showY;a&&"true"===a&&i.addGrid("y");var o=n.showY2;o&&"true"===o&&i.addGrid("y2");var s=n.showFocus;s&&"false"===s&&i.hideGridFocus()},transclude:!0,template:"<div ng-transclude></div>"}})),e.module("gridshore.c3js.chart").directive("chartGridOptional",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r=n.axisId,a=n.gridValue,o=n.gridText,s=n.gridClass,c=n.position;i.addGridLine(r,a,o,s,c)}}})),e.module("gridshore.c3js.chart").directive("chartGroup",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r=n.groupValues.split(",");i.addGroup(r)}}})),e.module("gridshore.c3js.chart").directive("chartLegend",(function(){return{require:"^c3chart",restrict:"E",scope:{onMouseover:"&",onMouseout:"&",onClick:"&"},replace:!0,link:function(t,e,n,i){var r=null,a=n.showLegend;if(a&&"false"===a)r={show:!1};else{var o=n.legendPosition;o&&(r={position:o});var s=n.legendInset;if(s){r={position:"inset",inset:{anchor:s}};var c=n.legendInsetX;c&&(r.inset.x=parseInt(c));var l=n.legendInsetY;l&&(r.inset.y=parseInt(l));var u=n.legendInsetStep;u&&(r.inset.step=parseInt(u))}}n.onMouseover&&((r=r||{}).item=r.item||{},r.item.onmouseover=function(e){t.$apply((function(){t.onMouseover({data:e})}))}),n.onMouseout&&((r=r||{}).item=r.item||{},r.item.onmouseout=function(e){t.$apply((function(){t.onMouseout({data:e})}))}),n.onClick&&((r=r||{}).item=r.item||{},r.item.onclick=function(e){t.$apply((function(){t.onClick({data:e})}))}),null!=r&&i.addLegend(r)}}})),e.module("gridshore.c3js.chart").directive("chartLine",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r={};n.stepType&&(r.step=r.step||{},r.step.type=n.stepType),n.connectNull&&(r.connectNull="true"===n.connectNull),i.addLine(r)}}})),e.module("gridshore.c3js.chart").directive("chartPie",(function(){return{require:"^c3chart",restrict:"E",scope:{labelFormatFunction:"&"},replace:!0,link:function(t,e,n,i){var r={};n.showLabel&&(r.label={show:"true"===n.showLabel}),n.thresholdLabel&&(r.label||(r.label={}),r.label.threshold=parseFloat(n.thresholdLabel)),n.expand&&(r.expand="true"===n.expand),i.addPie(r),n.labelFormatFunction&&i.addPieLabelFormatFunction(t.labelFormatFunction())}}})),e.module("gridshore.c3js.chart").directive("chartPoints",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r={};n.showPoint&&(r.show="true"===n.showPoint),n.pointExpandEnabled&&(r.focus||(r.focus={expand:{}}),r.focus.expand.enabled="false"!==n.pointsFocusEnabled),n.pointExpandRadius&&(r.focus||(pie.focus={expand:{}}),r.focus.expand.r=parseInt(n.pointFocusRadius)),n.pointRadius&&(r.r=parseInt(n.pointRadius)),n.pointSelectRadius&&(r.select={r:parseInt(n.pointSelectRadius)}),i.addPoint(r)}}})),e.module("gridshore.c3js.chart").directive("chartRegion",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r="dashed",a=[],o=[],s=[];n.regionStyle&&(r=n.regionStyle),n.regionStarts&&(a=n.regionStarts.split(",")),n.regionEnds&&(o=n.regionEnds.split(",")),a.length>o.length&&s.push({start:a.pop(),style:r}),a.length<o.length&&s.push({end:o.shift(),style:r}),a.forEach((function(t,e){s.push({start:a[e],end:o[e],style:r})})),i.addRegion(n.regionId,s)}}})),e.module("gridshore.c3js.chart").directive("selection",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r=n.enabled,a=n.grouped,o=n.multiple;if(r&&"true"===r){var s={enabled:!0};a&&"true"===a&&(s.grouped=!0),o&&"true"===o&&(s.multiple=!0),i.addSelection(s)}}}})),e.module("gridshore.c3js.chart").directive("chartSize",(function(){return{require:"^c3chart",restrict:"E",scope:{},replace:!0,link:function(t,e,n,i){var r=null,a=n.chartWidth,o=n.chartHeight;(a||o)&&(r={},a&&(r.width=parseInt(a)),o&&(r.height=parseInt(o)),i.addSize(r))}}})),e.module("gridshore.c3js.chart").directive("chartTooltip",(function(){return{require:"^c3chart",restrict:"E",scope:{valueFormatFunction:"&",nameFormatFunction:"&",titleFormatFunction:"&",contentFormatFunction:"&"},replace:!0,link:function(t,e,n,i){var r=null,a=n.showTooltip,o=(n.hideTooltipTitle,n.joinedTooltip);if(a&&"false"===a)r={show:!1};else{var s=n.groupTooltip;s&&"false"===s&&(r={grouped:!1})}o&&"true"===o&&((r=r||{}).contents=function(t,e,n,i){var r,a,o,s,c,l,u,h=this.config,d=h.tooltip_format_title||e,f=h.tooltip_format_name||function(t){return t},p=h.tooltip_format_value||n;for(u={tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name"},a=t[0].x;a<t[0].x+1;a++)t[a]&&(t[a].value||0===t[a].value)&&(r||(o=d?d(t[a].x):t[a].x,r="<table class='"+u.tooltip+"'>"+(o||0===o?"<tr><th colspan='2'>"+o+"</th></tr>":"")),void 0!==(s=p(t[a].value,t[a].ratio,t[a].id,t[a].index))&&(c=f(t[a].name,t[a].ratio,t[a].id,t[a].index),l=this.levelColor?this.levelColor(t[a].value):i(t[a].id),r+="<tr class='"+u.tooltipName+"-"+t[a].id+"'>",r+="<td class='name'><span style='background-color:"+l+"'></span>"+c+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"));return r+"</table>"}),null!=r&&i.addTooltip(r),n.titleFormatFunction&&i.addTooltipTitleFormatFunction(t.titleFormatFunction()),n.nameFormatFunction&&i.addTooltipNameFormatFunction(t.nameFormatFunction()),n.valueFormatFunction&&i.addTooltipValueFormatFunction(t.valueFormatFunction()),n.contentFormatFunction&&i.addTooltipContentFormatFunction(t.contentFormatFunction())}}}))}).call(this,n(0))},213:function(t,e,n){(function(n,i){var r,a,o,s=window.angular,c=n,l=(window.c3,window.moment);a=[e],void 0===(o="function"==typeof(r=function(t){"use strict";a.$inject=["$scope","$attrs"],o.$inject=["$scope","$attrs","$sparkMediaQueries","$element","$position","$timeout","$transclude","dropdownPaneOffset"],u.$inject=["$document","$window","$location"],Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(t,e){var n=this;n.selectItem=function(t){n.model=t},n.getKeyByValue=function(t,e){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e)return n.displayProp&&e[n.displayProp]||i}}function o(t,e,n,r,a,o,c,l){var u,h=this,d=s.element(document.querySelector("body"));function f(e){h.active=!1,window.liSelected&&(window.liSelected.removeClass("c-dropdownlist__item__selected"),window.liSelected.mouseleave()),window.ulSelected&&window.ulSelected.scrollTop(0),h.isKeyboardControlAllowed&&m(),h.closeOnClick&&d.off("click",g),h.onClose&&h.onClose(),t.$emit("ngSpark_dropdownClosed")}function p(e){var n,i,r="c-dropdownlist__item__selected",a=h.actionableClass||".c-dropdownlist__item";if(window.ulSelected&&(40===e.which||38===e.which||13===e.which)){if(40===e.which)if(e.preventDefault(),window.liSelected){var o=window.liSelected.next();o.length&&(window.liSelected.removeClass(r),window.liSelected=o.addClass(r),window.liSelected.mouseover())}else window.liSelected=window.ulSelected.children(a).first().addClass(r),window.liSelected.mouseover();else if(38===e.which)if(e.preventDefault(),window.liSelected){var s=window.liSelected.prev();s.length&&(window.liSelected.removeClass(r),window.liSelected=s.addClass(r),window.liSelected.mouseover())}else window.liSelected=window.ulSelected.children(a).first().addClass(r),window.liSelected.mouseover();else if(13===e.which){if(!window.liSelected)return;window.liSelected.children().children()[0].click()}return 40!==e.which||y(window.liSelected,window.ulSelected,!1)?38!==e.which||y(window.liSelected,window.ulSelected,!1)||(n=window.ulSelected.scrollTop(),i=window.liSelected.outerHeight(),window.ulSelected.scrollTop(n-i)):(n=window.ulSelected.scrollTop(),i=window.liSelected.outerHeight(),window.ulSelected.scrollTop(n+i)),!1}27===e.which&&(f(),t.$apply())}function g(e){var n=Array.prototype.slice.apply(r[0].querySelectorAll("*"));n.length&&n.every((function(t){return t!==e.target}))&&(f(),t.$apply())}function m(){window.ulSelected=!1,window.liSelected=!1,window.removeEventListener("keydown",p)}function v(t){var e=h.paneOffset||t,n=h.paneHorizontalOffset,i=s.element(r[0].querySelector("toggle *:first-child")),o=(s.element(r[0].querySelector(".c-dropdown-pane pane")),a.position(i));window.document.documentElement.clientHeight,"top"===h.paneDirection?h.css.bottom=o.top+o.height+e+"px":h.css.top=o.top+o.height+e+"px","center"===h.paneAlign?(h.css.left=o.left+o.width/2+"px",h.css.transform="translateX(-50%)"):"right"===h.paneAlign?(h.css.left=o.left+o.width+"px",h.css.transform="translateX(-100%)"):h.css.left=o.left+"px",h.paneHorizontalOffset&&(h.css.left=o.left+o.width+n+"px")}function y(t,e,n){var i=e.height(),r=(e.scrollTop(),t.offset().top-e.offset().top),a=r+t.height(),o=r>=0&&a<=i,s=(r<0&&a>0||r>0&&r<=e.height())&&n;return o||s}h.css={},c((function(t,e){e.$close=f,r.find("div").append(t)}),r.parent(),"pane"),o((function(){v()})),t.$watch("$ctrl.searchValue",(function(t){window.liSelected&&s.isDefined(t)&&(window.liSelected.removeClass("c-dropdownlist__item__selected"),window.liSelected.mouseleave(),window.liSelected=!1)})),h.$onDestroy=function(){h.isKeyboardControlAllowed&&m(),h.closeOnClick&&d.off("click",g)},h.toggle=function(){h.active?f():(h.active=!0,h.searchValue="",setTimeout((function(){var t=document.querySelector(".c-dropdown-pane.is-open .c-dropdownlist-keyboard-controllable");document.querySelector(".open-field")&&document.querySelector(".open-field").focus(),h.allowKeyboardControl&&(window.ulSelected=i(t),window.liSelected&&(window.liSelected.removeClass("c-dropdownlist__item__selected"),window.liSelected=!1),window.addEventListener("keydown",p),h.isKeyboardControlAllowed=!0)}),200),v(l),h.closeOnClick&&d.on("click",g),t.$emit("ngSpark_dropdownOpened"))},h.mouseover=function(){o.cancel(u),h.active=!0,v(l)},h.mouseleave=function(){o.cancel(u),u=o((function(){t.$apply((function(){h.active=!1}))}),250)}}function u(t,e,i){var r;return{scope:{},restrict:"EA",bindToController:(r={searchItemsLength:"<",searchValue:"=?",showSearchField:"<",closeOnClick:"=",paneAlign:"@",paneDirection:"@",toggleOnHover:"=",paneOffset:"=",paneHorizontalOffset:"=?",paneClasses:"@",allowKeyboardControl:"="},n(r,"paneDirection","@"),n(r,"actionableClass","@"),n(r,"onClose","&"),r),transclude:{toggle:"toggle",pane:"pane"},templateUrl:"template/dropdownToggle/dropdownToggle.html",controller:o,controllerAs:"$ctrl"}}(function(){s.module("sparkui.datePicker",[]).constant("dateRangePickerConfig",{clearLabel:"Clear",locale:{separator:" - ",format:"YYYY-MM-DD"}}).directive("sparkDatePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(t,e,n,i){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",model:"=ngModel",opts:"=options",clearable:"="},link:function(t,e,n,a){var o,u,h,d,f,p,g,m,v,y,b,w,_,x;c.fn.daterangepicker=function(t,e){var n=c.extend(!0,{},c.fn.daterangepicker.defaultOptions,t);return this.each((function(){var t=c(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new k(t,n,e))})),this};var k=function(t,e,n){if(this.parentEl=c(e.parentEl),this.element=c(t),this.startDate=l().startOf("day"),this.endDate=l().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!0,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:l.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:l.weekdaysMin(),monthNames:l.monthsShort(),firstDay:l.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"===(void 0===e?"undefined":r(e))&&null!==e||(e={}),"string"==typeof(e=c.extend(this.element.data(),e)).template||e.template instanceof c||(e.template='<div class="c-dropdown-menu"><div class="c-daterangepicker-ranges"></div><div class="c-daterangepicker"><div class="c-daterangepicker__calendar c-daterangepicker__left-calendar"><div class="c-daterangepicker__input"><input class="c-daterangepicker__input-mini c-daterangepicker__form-control" type="text" name="daterangepicker_start" value="" /><i class="c-daterangepicker__icon c-daterangepicker__icon-calendar"></i></div><div class="c-daterangepicker__calendar-table-left"></div></div><div class="c-daterangepicker__calendar c-daterangepicker__right-calendar"><div class="c-daterangepicker__input"><input class="c-daterangepicker__input-mini c-daterangepicker__form-control" type="text" name="daterangepicker_end" value="" /><i class="c-daterangepicker__icon c-daterangepicker__icon-calendar"></i></div><div class="c-daterangepicker__calendar-table-right"></div></div></div></div>'),this.parentEl=e.parentEl&&c(e.parentEl).length?c(e.parentEl):c(this.parentEl),this.container=c(e.template).appendTo(this.parentEl),"object"===r(e.locale)&&("string"==typeof e.locale.direction&&(this.locale.direction=e.locale.direction),"string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"===r(e.locale.daysOfWeek)&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"===r(e.locale.monthNames)&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel)){(f=document.createElement("textarea")).innerHTML=e.locale.customRangeLabel;var i=f.value;this.locale.customRangeLabel=i}if(this.container.addClass(this.locale.direction),"string"==typeof e.startDate&&(this.startDate=l(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=l(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=l(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=l(e.maxDate,this.locale.format)),"object"===r(e.startDate)&&(this.startDate=l(e.startDate)),"object"===r(e.endDate)&&(this.endDate=l(e.endDate)),"object"===r(e.minDate)&&(this.minDate=l(e.minDate)),"object"===r(e.maxDate)&&(this.maxDate=l(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"===r(e.dateLimit)&&(this.dateLimit=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"boolean"==typeof e.showISOWeekNumbers&&(this.showISOWeekNumbers=e.showISOWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"===r(e.buttonClasses)&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.showCustomRangeLabel&&(this.showCustomRangeLabel=e.showCustomRangeLabel),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker24Hour&&(this.timePicker24Hour=e.timePicker24Hour),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),"boolean"==typeof e.autoUpdateInput&&(this.autoUpdateInput=e.autoUpdateInput),"boolean"==typeof e.linkedCalendars&&(this.linkedCalendars=e.linkedCalendars),"function"==typeof e.isInvalidDate&&(this.isInvalidDate=e.isInvalidDate),"function"==typeof e.isCustomDate&&(this.isCustomDate=e.isCustomDate),"boolean"==typeof e.alwaysShowCalendars&&(this.alwaysShowCalendars=e.alwaysShowCalendars),0!=this.locale.firstDay)for(var a=this.locale.firstDay;a>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),a--;var o,s,u;if(void 0===e.startDate&&void 0===e.endDate&&c(this.element).is("input[type=text]")){var h=c(this.element).val(),d=h.split(this.locale.separator);o=s=null,2==d.length?(o=l(d[0],this.locale.format),s=l(d[1],this.locale.format)):this.singleDatePicker&&""!==h&&(o=l(h,this.locale.format),s=l(h,this.locale.format)),null!==o&&null!==s&&(this.setStartDate(o),this.setEndDate(s))}if("object"===r(e.ranges)){for(u in e.ranges){o="string"==typeof e.ranges[u][0]?l(e.ranges[u][0],this.locale.format):l(e.ranges[u][0]),s="string"==typeof e.ranges[u][1]?l(e.ranges[u][1],this.locale.format):l(e.ranges[u][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var f,p=this.maxDate;if(this.dateLimit&&p&&o.clone().add(this.dateLimit).isAfter(p)&&(p=o.clone().add(this.dateLimit)),p&&s.isAfter(p)&&(s=p.clone()),!(this.minDate&&s.isBefore(this.minDate,this.timepicker?"minute":"day")||p&&o.isAfter(p,this.timepicker?"minute":"day")))(f=document.createElement("textarea")).innerHTML=u,i=f.value,this.ranges[i]=[o,s]}var g='<ul class="c-daterangepicker-ranges__list">';for(u in this.ranges)g+='<li id="datePickerRange'+u.replace(/\s+/g,"")+'" class="c-button c-daterangepicker-ranges__button c-button--outline-default c-button--medium c-button--block u-right-margin--1x" data-range-key="'+u+'">'+u+"</li>";this.showCustomRangeLabel&&(g+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),g+="</ul>",this.container.find(".c-daterangepicker-ranges").prepend(g)}"function"==typeof n&&(this.callback=n),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!==r(e.ranges)?this.container.find(".c-daterangepicker-ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".c-daterangepicker__calendar.c-daterangepicker__left-calendar").addClass("single"),this.container.find(".c-daterangepicker__calendar.c-daterangepicker__left-calendar").show(),this.container.find(".c-daterangepicker__calendar.right-calendar").hide(),this.container.find(".c-daterangepicker__input input, .c-daterangepicker__input > i").hide(),this.timePicker?this.container.find(".c-daterangepicker-ranges ul").hide():this.container.find(".c-daterangepicker-ranges").hide()),(void 0===e.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("c-dropdown-menu--show-calendar"),this.container.addClass("c-dropdown-menu--opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".c-daterangepicker__calendar").on("click.daterangepicker",".c-daterangepicker__previous",c.proxy(this.clickPrev,this)).on("click.daterangepicker",".c-daterangepicker__next",c.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.c-daterangepicker__cell-available",c.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.c-daterangepicker__cell-available",c.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.c-daterangepicker__cell-available",c.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",c.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",c.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",c.proxy(this.timeChanged,this)).on("click.daterangepicker",".c-daterangepicker__input input",c.proxy(this.showCalendars,this)).on("focus.daterangepicker",".c-daterangepicker__input input",c.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".c-daterangepicker__input input",c.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".c-daterangepicker__input input",c.proxy(this.formInputsChanged,this)).on("keydown.daterangepicker",".c-daterangepicker__input input",c.proxy(this.formInputsKeydown,this)),this.container.find(".c-daterangepicker-ranges").on("click.daterangepicker","button.applyBtn",c.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",c.proxy(this.clickCancel,this)).on("click.daterangepicker","li",c.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",c.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",c.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":c.proxy(this.show,this),"focus.daterangepicker":c.proxy(this.show,this),"keyup.daterangepicker":c.proxy(this.elementChanged,this),"keydown.daterangepicker":c.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",c.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",c.proxy(this.toggle,this))),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return k.prototype={constructor:k,setStartDate:function(t){"string"==typeof t&&(this.startDate=l(t,this.locale.format)),"object"===(void 0===t?"undefined":r(t))&&(this.startDate=l(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=l(t,this.locale.format)),"object"===(void 0===t?"undefined":r(t))&&(this.endDate=l(t)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("c-daterangepicker__left-calendar"),this.renderTimePicker("right-calendar"),this.endDate?this.container.find(".right-calendar .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right-calendar .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("c-daterangepicker--input-is-active"),this.container.find('input[name="daterangepicker_start"]').addClass("c-daterangepicker--input-is-active")):(this.container.find('input[name="daterangepicker_end"]').addClass("c-daterangepicker--input-is-active"),this.container.find('input[name="daterangepicker_start"]').removeClass("c-daterangepicker--input-is-active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var t,e,n,i;this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".c-daterangepicker__left-calendar .hourselect").val(),10),e=parseInt(this.container.find(".c-daterangepicker__left-calendar .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".c-daterangepicker__left-calendar .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".c-daterangepicker__left-calendar .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))):(t=parseInt(this.container.find(".right-calendar .hourselect").val(),10),e=parseInt(this.container.find(".right-calendar .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right-calendar .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".right-calendar .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))),this.leftCalendar.month.hour(t).minute(e).second(n),this.rightCalendar.month.hour(t).minute(e).second(n));this.renderCalendar("c-daterangepicker__left-calendar"),this.renderCalendar("c-daterangepicker__right-calendar"),this.container.find(".c-daterangepicker-ranges li").removeClass("c-button-range--active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(t){var e,n="c-daterangepicker__left-calendar"==t?"left":"right",i=(e="c-daterangepicker__left-calendar"==t?this.leftCalendar:this.rightCalendar).month.month(),r=e.month.year(),a=e.month.hour(),o=e.month.minute(),s=e.month.second(),u=l([r,i]).daysInMonth(),h=l([r,i,1]),d=l([r,i,u]),f=l(h).subtract(1,"month").month(),p=l(h).subtract(1,"month").year(),g=l([p,f]).daysInMonth(),m=h.day();(e=[]).firstDay=h,e.lastDay=d;for(var v=0;v<6;v++)e[v]=[];var y=g-m+this.locale.firstDay+1;y>g&&(y-=7),m==this.locale.firstDay&&(y=g-6);for(var b=l([p,f,y,12,o,s]),w=(v=0,0),_=0;v<42;v++,w++,b=l(b).add(24,"hour"))v>0&&w%7==0&&(w=0,_++),e[_][w]=b.clone().hour(a).minute(o).second(s),b.hour(12),this.minDate&&e[_][w].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[_][w].isBefore(this.minDate)&&"c-daterangepicker__left-calendar"==t&&(e[_][w]=this.minDate.clone()),this.maxDate&&e[_][w].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[_][w].isAfter(this.maxDate)&&"c-daterangepicker__right-calendar"==t&&(e[_][w]=this.maxDate.clone());"c-daterangepicker__left-calendar"==t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var x="c-daterangepicker__left-calendar"==t?this.minDate:this.startDate,k=this.maxDate,S=("c-daterangepicker__left-calendar"==t?this.startDate:this.endDate,this.locale.direction,'<table class="c-daterangepicker__table table-condensed" style="border-spacing: 0;">');S+='<thead class="c-daterangepicker__calendar-title">',S+='<tr class="table-row">',(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+='<th class="table-head"></th>'),x&&!x.isBefore(e.firstDay)||this.linkedCalendars&&"c-daterangepicker__left-calendar"!=t?S+='<th class="c-daterangepicker__cell-head"></th>':S+='<th class="c-daterangepicker__previous c-daterangepicker__cell-available c-daterangepicker__cell-head"></th>';var C=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){for(var T=e[1][1].month(),P=e[1][1].year(),A=k&&k.year()||P+5,D=x&&x.year()||P-50,E=P==D,L=P==A,M='<select class="monthselect">',I=0;I<12;I++)(!E||I>=x.month())&&(!L||I<=k.month())?M+="<option value='"+I+"'"+(I===T?" selected='selected'":"")+">"+this.locale.monthNames[I]+"</option>":M+="<option value='"+I+"'"+(I===T?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[I]+"</option>";M+="</select>";for(var O='<select class="yearselect">',$=D;$<=A;$++)O+='<option value="'+$+'"'+($===P?' selected="selected"':"")+">"+$+"</option>";C=M+(O+="</select>")}if(S+='<th class="c-daterangepicker__cell-head c-daterangepicker__calendar-title" colspan="5" class="month">'+C+"</th>",k&&!k.isAfter(e.lastDay)||this.linkedCalendars&&"c-daterangepicker__right-calendar"!=t&&!this.singleDatePicker?S+='<th class="c-daterangepicker__cell-head"></th>':S+='<th class="c-daterangepicker__next c-daterangepicker__cell-available c-daterangepicker__cell-head"></th>',S+="</tr>",S+='<tr class="table-row">',(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+='<th class="week c-daterangepicker__cell-head">'+this.locale.weekLabel+"</th>"),c.each(this.locale.daysOfWeek,(function(t,e){S+='<th class="c-daterangepicker__cell-head">'+e+"</th>"})),S+="</tr>",S+="</thead>",S+="<tbody>",null==this.endDate&&this.dateLimit){var j=this.startDate.clone().add(this.dateLimit).endOf("day");k&&!j.isBefore(k)||(k=j)}for(_=0;_<6;_++){for(S+='<tr class="table-row">',this.showWeekNumbers?S+='<td class="week c-daterangepicker__cell">'+e[_][0].week()+"</td>":this.showISOWeekNumbers&&(S+='<td class="week c-daterangepicker__cell">'+e[_][0].isoWeek()+"</td>"),w=0;w<7;w++){var R=[];e[_][w].isSame(new Date,"day")&&R.push("today"),e[_][w].isoWeekday()>5&&R.push("weekend"),e[_][w].month()!=e[1][1].month()&&R.push("c-daterangepicker__cell-off"),this.minDate&&e[_][w].isBefore(this.minDate,"day")&&R.push("c-daterangepicker__cell-off","disabled"),k&&e[_][w].isAfter(k,"day")&&R.push("c-daterangepicker__cell-off","disabled"),this.isInvalidDate(e[_][w])&&R.push("c-daterangepicker__cell-off","disabled"),e[_][w].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&R.push("c-daterangepicker__cell--active","c-daterangepicker__start-date"),null!=this.endDate&&e[_][w].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&R.push("c-daterangepicker__cell--active","c-daterangepicker__end-date"),null!=this.endDate&&e[_][w]>this.startDate&&e[_][w]<this.endDate&&R.push("c-daterangepicker__cell-in-range");var F=this.isCustomDate(e[_][w]);!1!==F&&("string"==typeof F?R.push(F):Array.prototype.push.apply(R,F));var N="",V=!1;for(v=0;v<R.length;v++)N+=R[v]+" ","disabled"==R[v]&&(V=!0);V||(N+="c-daterangepicker__cell-available"),S+='<td class="c-daterangepicker__cell '+N.replace(/^\s+|\s+$/g,"")+'" data-title="r'+_+"c"+w+'">'+e[_][w].date()+"</td>"}S+="</tr>"}S+="</tbody>",S+="</table>",this.container.find(".c-daterangepicker__calendar-table-"+n).html(S)},renderTimePicker:function(t){if("right-calendar"!=t||this.endDate){var e,n,i,r=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(r=this.startDate.clone().add(this.dateLimit)),"c-daterangepicker__left-calendar"==t)n=this.startDate.clone(),i=this.minDate;else if("right-calendar"==t){n=this.endDate.clone(),i=this.startDate;var a=this.container.find(".c-daterangepicker__calendar.right-calendar .calendar-time div");if(""!=a.html()&&(n.hour(a.find(".hourselect option:selected").val()||n.hour()),n.minute(a.find(".minuteselect option:selected").val()||n.minute()),n.second(a.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour)){var o=a.find(".ampmselect option:selected").val();"PM"===o&&n.hour()<12&&n.hour(n.hour()+12),"AM"===o&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),r&&n.isAfter(r)&&(n=r.clone())}e='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,c=this.timePicker24Hour?23:12,l=s;l<=c;l++){var u=l;this.timePicker24Hour||(u=n.hour()>=12?12==l?12:l+12:12==l?0:l);var h=n.clone().hour(u),d=!1;i&&h.minute(59).isBefore(i)&&(d=!0),r&&h.minute(0).isAfter(r)&&(d=!0),u!=n.hour()||d?e+=d?'<option value="'+l+'" disabled="disabled" class="disabled">'+l+"</option>":'<option value="'+l+'">'+l+"</option>":e+='<option value="'+l+'" selected="selected">'+l+"</option>"}for(e+="</select> ",e+=': <select class="minuteselect">',l=0;l<60;l+=this.timePickerIncrement){var f=l<10?"0"+l:l;h=n.clone().minute(l),d=!1,i&&h.second(59).isBefore(i)&&(d=!0),r&&h.second(0).isAfter(r)&&(d=!0),n.minute()!=l||d?e+=d?'<option value="'+l+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+l+'">'+f+"</option>":e+='<option value="'+l+'" selected="selected">'+f+"</option>"}if(e+="</select> ",this.timePickerSeconds){for(e+=': <select class="secondselect">',l=0;l<60;l++)f=l<10?"0"+l:l,h=n.clone().second(l),d=!1,i&&h.isBefore(i)&&(d=!0),r&&h.isAfter(r)&&(d=!0),n.second()!=l||d?e+=d?'<option value="'+l+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+l+'">'+f+"</option>":e+='<option value="'+l+'" selected="selected">'+f+"</option>";e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var p="",g="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),r&&n.clone().hour(0).minute(0).second(0).isAfter(r)&&(g=' disabled="disabled" class="disabled"'),n.hour()>=12?e+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":e+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+g+">PM</option>",e+="</select>"}this.container.find(".c-daterangepicker__calendar."+t+" .calendar-time div").html(e)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,e={top:0,left:0},n=c(window).width();this.parentEl.is("body")||("right"!==this.opens&&(e={left:this.parentEl.offset().left-this.parentEl.scrollLeft()}),n=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:"auto"})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>c(window).width()&&this.container.css({left:"auto"}))},show:function(t){this.isShowing||(this._outsideClickProxy=c.proxy((function(t){this.outsideClick(t)}),this),c(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),c(window).on("resize.daterangepicker",c.proxy((function(t){this.move(t)}),this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),c(document).off(".daterangepicker"),c(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=c(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("c-dropdown-menu--show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("c-dropdown-menu--show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){t.stopPropagation(),c(t.target).parents(".c-daterangepicker__calendar").hasClass("c-daterangepicker__left-calendar")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){t.stopPropagation(),c(t.target).parents(".c-daterangepicker__calendar").hasClass("c-daterangepicker__left-calendar")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(c(t.target).hasClass("c-daterangepicker__cell-available")){var e=c(t.target).attr("data-title"),n=e.substr(1,1),i=e.substr(3,1),r=c(t.target).parents(".c-daterangepicker__calendar").hasClass("c-daterangepicker__left-calendar")?this.leftCalendar.calendar[n][i]:this.rightCalendar.calendar[n][i];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(r.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(r.format(this.locale.format));var a=this.leftCalendar,o=this.rightCalendar,s=this.startDate;this.endDate||this.container.find(".c-daterangepicker__calendar tbody td").each((function(t,e){if(!c(e).hasClass("week")){var n=c(e).attr("data-title"),i=n.substr(1,1),l=n.substr(3,1),u=c(e).parents(".c-daterangepicker__calendar").hasClass("c-daterangepicker__left-calendar")?a.calendar[i][l]:o.calendar[i][l];u.isAfter(s)&&u.isBefore(r)||u.isSame(r,"day")?c(e).addClass("c-daterangepicker__cell-in-range"):c(e).removeClass("c-daterangepicker__cell-in-range")}}))}},clickDate:function(t){if(c(t.target).hasClass("c-daterangepicker__cell-available")){var e=c(t.target).attr("data-title"),n=e.substr(1,1),i=e.substr(3,1),r=c(t.target).parents(".c-daterangepicker__calendar").hasClass("c-daterangepicker__left-calendar")?this.leftCalendar.calendar[n][i]:this.rightCalendar.calendar[n][i];if(this.endDate||r.isBefore(this.startDate,"day")){if(this.timePicker){var a=parseInt(this.container.find(".left .hourselect").val(),10);this.timePicker24Hour||("PM"===(l=this.container.find(".left .ampmselect").val())&&a<12&&(a+=12),"AM"===l&&12===a&&(a=0));var o=parseInt(this.container.find(".c-daterangepicker__left-calendar .minuteselect").val(),10),s=this.timePickerSeconds?parseInt(this.container.find(".c-daterangepicker__left-calendar .secondselect").val(),10):0;r=r.clone().hour(a).minute(o).second(s)}this.endDate=null,this.setStartDate(r.clone())}else if(!this.endDate&&r.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{var l;if(this.timePicker)a=parseInt(this.container.find(".right-calendar .hourselect").val(),10),this.timePicker24Hour||("PM"===(l=this.container.find(".right-calendar .ampmselect").val())&&a<12&&(a+=12),"AM"===l&&12===a&&(a=0)),o=parseInt(this.container.find(".right-calendar .minuteselect").val(),10),s=this.timePickerSeconds?parseInt(this.container.find(".right-calendar .secondselect").val(),10):0,r=r.clone().hour(a).minute(o).second(s);this.setEndDate(r.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var n in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD hh:mm";if(this.startDate.format(i)==this.ranges[n][0].format(i)&&this.endDate.format(i)==this.ranges[n][1].format(i)){t=!1,this.chosenLabel=this.container.find(".c-daterangepicker-ranges li:eq("+e+")").addClass("c-button-range--active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".c-daterangepicker-ranges li:eq("+e+")").addClass("c-button-range--active").html();break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".c-daterangepicker-ranges li:last").addClass("c-button-range--active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var e=c(t.target).closest(".c-daterangepicker__calendar").hasClass("c-daterangepicker__left-calendar"),n=e?"c-daterangepicker__left-calendar":"right-calendar",i=this.container.find(".c-daterangepicker__calendar."+n),r=parseInt(i.find(".monthselect").val(),10),a=i.find(".yearselect").val();e||(a<this.startDate.year()||a==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),a=this.maxDate.year()),e?(this.leftCalendar.month.month(r).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var e=c(t.target).closest(".c-daterangepicker__calendar"),n=e.hasClass("c-daterangepicker__left-calendar"),i=parseInt(e.find(".hourselect").val(),10),r=parseInt(e.find(".minuteselect").val(),10),a=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var o=e.find(".ampmselect").val();"PM"===o&&i<12&&(i+=12),"AM"===o&&12===i&&(i=0)}if(n){var s=this.startDate.clone();s.hour(i),s.minute(r),s.second(a),this.setStartDate(s),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==s.format("YYYY-MM-DD")&&this.endDate.isBefore(s)&&this.setEndDate(s.clone())}else if(this.endDate){var l=this.endDate.clone();l.hour(i),l.minute(r),l.second(a),this.setEndDate(l)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("c-daterangepicker__left-calendar"),this.renderTimePicker("right-calendar")},formInputsChanged:function(t){var e=c(t.target).closest(".c-daterangepicker__calendar").hasClass("right-calendar"),n=l(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),i=l(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);n.isValid()&&i.isValid()&&(e&&i.isBefore(n)&&(n=i.clone()),this.setStartDate(n),this.setEndDate(i),e?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("form-is-active"),c(t.target).addClass("form-is-active"),c(t.target).closest(".c-daterangepicker__calendar").hasClass("right-calendar")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(t){if(!this.endDate){var e=this.container.find('input[name="daterangepicker_end"]').val(),n=l(e,this.locale.format);n.isValid()&&(this.setEndDate(n),this.updateView())}},formInputsKeydown:function(t){13===t.keyCode&&(t.preventDefault(),this.formInputsChanged(t),this.hide(),this.element.trigger("apply.daterangepicker",this))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.locale.separator),e=null,n=null;2===t.length&&(e=l(t[0],this.locale.format),n=l(t[1],this.locale.format)),(this.singleDatePicker||null===e||null===n)&&(n=e=l(this.element.val(),this.locale.format)),e.isValid()&&n.isValid()&&(this.setStartDate(e),this.setEndDate(n),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},d=function(){var t,e;return e=s.extend.apply(s,Array.prototype.slice.call(arguments).map((function(t){return null!=t?t.locale:void 0})).filter((function(t){return!!t}))),(t=s.extend.apply(s,arguments)).locale=e,t},_=c(e),w=t.opts,x=d({},i,w),f=null,o=function(){return f.setStartDate(),f.setEndDate()},m=(p=function(t){return function(e){if(f&&e)return t(l(e))}})((function(t){return f.endDate<t&&f.setEndDate(t),x.startDate=t,f.setStartDate(t)})),g=p((function(t){return f.startDate>t&&f.setStartDate(t),x.endDate=t,f.setEndDate(t)})),b=(v=function(t){return function(e,n){return!e||!n||t(l(e),l(n))}})((function(t,e){return t.isBefore(e)||t.isSame(e,"day")})),y=v((function(t,e){return t.isAfter(e)||t.isSame(e,"day")})),a.$formatters.push((function(t){var e;return e=function(t){return l.isMoment(t)?t.format(x.locale.format):l(t).format(x.locale.format)},x.singleDatePicker&&t?e(t):t.startDate?[e(t.startDate),e(t.endDate)].join(x.locale.separator):""})),a.$render=function(){return a.$modelValue&&a.$modelValue.startDate?(m(a.$modelValue.startDate),g(a.$modelValue.endDate)):o(),_.val(a.$viewValue)},a.$parsers.push((function(t){var e,n,i;return e=function(t){return l(t,x.locale.format)},n={startDate:null,endDate:null},s.isString(t)&&t.length>0&&(x.singleDatePicker?n=e(t):(i=t.split(x.locale.separator).map(e),n.startDate=i[0],n.endDate=i[1])),n})),a.$isEmpty=function(t){return!(s.isString(t)&&t.length>0)},(u=function(){var e,n;for(e in _.daterangepicker(s.extend(x,{autoUpdateInput:!1}),(function(e,n){return t.$apply((function(){return t.model=x.singleDatePicker?e:{startDate:e,endDate:n}}))})),f=_.data("daterangepicker"),n=[],x.eventHandlers)n.push(_.on(e,(function(e){var n;return n=e.type+"."+e.namespace,t.$evalAsync(x.eventHandlers[n])})));return n})(),t.$watch("model.startDate",(function(t){return m(t)})),t.$watch("model.endDate",(function(t){return g(t)})),(h=function(e,i,r,o){if(n[e])return a.$validators[e]=function(t){return t&&i(x[o],t[r])},t.$watch(e,(function(t){return x[o]=!!t&&l(t),u()}))})("min",b,"startDate","minDate"),h("max",y,"endDate","maxDate"),n.options&&t.$watch("opts",(function(t){return x=d(x,t),u()}),!0),n.clearable&&t.$watch("clearable",(function(e){if(e&&(x=d(x,{locale:{cancelLabel:x.clearLabel}})),u(),e)return _.on("cancel.daterangepicker",(function(){return t.$apply((function(){return t.model=x.singleDatePicker?null:{startDate:null,endDate:null}}))}))})),t.$on("$destroy",(function(){return null!=f?f.remove():void 0}))}}}])}).call(void 0),s.module("sparkui.dropdownSelect",[]).directive("sparkDropdownSelect",(function(){return{scope:{selectOptions:"=",displayProp:"@",toggleSize:"@",paneHeight:"@",placeholder:"@",disabled:"@"},restrict:"E",bindToController:!0,require:"ngModel",templateUrl:"template/dropdownSelect/dropdownSelect.html",controller:a,controllerAs:"$ctrl",link:function(t,e,n,i){t.$ctrl.toggleSize||(t.$ctrl.toggleSize=""),t.$ctrl.paneHeight||(t.$ctrl.paneHeight="small"),t.$watchCollection("$ctrl.selectOptions",(function(e){if(t.$ctrl.selectOptions){var n=0;Object.keys(t.$ctrl.selectOptions).forEach((function(t,e){n++})),t.$ctrl.selectOptionsLength=n}else t.$ctrl.selectOptionsLength=0})),t.$watchCollection("$ctrl.model",(function(t){i.$setViewValue(t),i.$validate()})),i.$render=function(){i.$viewValue||(i.$viewValue=""),t.$ctrl.model=i.$viewValue}}}})),s.module("sparkui.dropdownSelect").run(["$templateCache",function(t){t.put("template/dropdownSelect/dropdownSelect.html",'<spark-dropdown-toggle\n  class="c-dropdown c-dropdown-select c-dropdown--equal-size"\n  search-items-length="$ctrl.selectOptionsLength"\n  search-value="$ctrl.searchValue"\n  pane-align="left"\n  close-on-click="true"\n  pane-classes="c-dropdown-pane--{{$ctrl.paneHeight}}">\n  <toggle>\n    <a\n        class="c-dropdown-toggle c-dropdown-toggle{{\'--\' + $ctrl.toggleSize}} c-dropdown-toggle--block"\n        ng-disabled="$ctrl.disabled">\n        <span\n            ng-if="$ctrl.model"\n            ng-bind="$ctrl.getKeyByValue($ctrl.selectOptions, $ctrl.model)">\n        </span>\n        <span\n            class="c-dropdown-toggle__placeholder"\n            ng-if="!$ctrl.model"\n            ng-bind="$ctrl.placeholder">\n        </span>\n    </a>\n  </toggle>\n  <pane>\n    <ul class="c-dropdownlist">\n        <li\n            class="c-dropdownlist__item u-full-width"\n            ng-repeat="(key, value) in $ctrl.selectOptions | option: $ctrl.searchValue:$ctrl.displayProp track by $index"\n            ng-class="{\'c-dropdownlist__item__selected\': value === $ctrl.model}"\n            ng-click="$ctrl.selectItem(value); $close()">\n            <span\n                class="u-text--trim"\n                ng-bind="($ctrl.displayProp) ? (value[$ctrl.displayProp] || key) : key">\n            </span>\n        </li>\n    </ul>\n  </pane>\n</spark-dropdown-toggle>\n')}]),s.module("sparkui.dropdownToggle",["sparkui.position","sparkui.mediaQueries"]).directive("sparkDropdownToggle",u).constant("dropdownPaneOffset",1),s.module("sparkui.dropdownToggle").run(["$templateCache",function(t){t.put("template/dropdownToggle/dropdownToggle.html",'<span\n    ng-class="{\'is-open\': $ctrl.active}"\n    ng-click="!$ctrl.toggleOnHover && $ctrl.toggle()"\n    ng-mouseover="$ctrl.toggleOnHover && $ctrl.mouseover()"\n    ng-mouseleave="$ctrl.toggleOnHover && $ctrl.mouseleave($event)"\n    ng-transclude="toggle">\n</span>\n<div\n    ng-style="$ctrl.css"\n    ng-class="{\'is-open\': $ctrl.active}"\n    ng-attr-aria-hidden="$ctrl.active"\n    ng-mouseover="$ctrl.toggleOnHover && $ctrl.mouseover()"\n    ng-mouseleave="$ctrl.toggleOnHover && $ctrl.mouseleave($event)"\n    class="c-dropdown-pane {{$ctrl.paneClasses}} {{$ctrl.paneAlign && \'c-dropdown-pane--\' + $ctrl.paneAlign}}">\n\n    <div\n        class="c-dropdown--search o-field o-field--icon-right"\n        ng-class="{\'is-open\': $ctrl.active}"\n        ng-if="$ctrl.searchItemsLength > 6 || $ctrl.showSearchField">\n        <input\n            class="c-field c-field--medium"\n            autofocus\n            ng-class="{\'open-field\': $ctrl.active}"\n            type="text"\n            placeholder="Search"\n            ng-model="$ctrl.searchValue"/>\n\n        <span class="o-field__icon">\n            <svg class="icon-14x14 u-color--grey-lighter u-display-block">\n                <use xlink:href="#shape-search"></use>\n            </svg>\n        </span>\n    </div>\n</div>\n')}]),s.module("sparkui.mediaQueries",[]).factory("matchMedia",["$document","$window",function(t,e){return e.matchMedia||(n=t[0],i=void 0,r=n.documentElement,a=r.firstElementChild||r.firstChild,o=n.createElement("body"),(s=n.createElement("div")).id="mq-test-1",s.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(s),function(t){return s.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',r.insertBefore(o,a),i=42===s.offsetWidth,r.removeChild(o),{matches:i,media:t}});var n,i,r,a,o,s}]).factory("$sparkMediaQueries",["$document","matchMedia",function(t,e){var n=s.element(t[0].querySelector("head"));n.append('<meta class="sparkui-mq" />');var i,a,o=getComputedStyle(n[0].querySelector("meta.sparkui-mq")).fontFamily,c=(a={},"string"!=typeof(i=o)?a:(i=i.trim().slice(1,-1))?a=i.split("&").reduce((function(t,e){var n=e.replace(/\+/g," ").split("="),i=n[0],r=n[1];return i=decodeURIComponent(i),r=void 0===r?null:decodeURIComponent(r),t.hasOwnProperty(i)?Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r,t}),{}):a),l=[];for(var u in c)l.push({name:u,value:"only screen and (min-width: "+c[u]+")"});return{getCurrentSize:function(){for(var t=void 0,n=0;n<l.length;n++){var i=l[n];e(i.value).matches&&(t=i)}return"object"===(void 0===t?"undefined":r(t))?t.name:t},atLeast:function(t){var e=function(t){for(var e in l){var n=l[e];if(t===n.name)return n.value}return null}(t);return!!e&&window.matchMedia(e).matches},mobileSniff:function(){return/iP(ad|hone|od).*OS/.test(window.navigator.userAgent)||/Android/.test(window.navigator.userAgent)}}}]);var h=t.SparkSparkStackedMap=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stack=[]}return e(t,[{key:"add",value:function(t,e){this.stack.push({key:t,value:e})}},{key:"get",value:function(t){return this.stack.find((function(e){return e.key===t}))}},{key:"keys",value:function(){return this.stack.map((function(t){return t.key}))}},{key:"top",value:function(){return this.stack[this.stack.length-1]}},{key:"remove",value:function(t){this.stack=this.stack.filter((function(e){return e.key!==t}))}},{key:"removeTop",value:function(){return this.stack.splice(this.stack.length-1,1)[0]}},{key:"length",value:function(){return this.stack.length}}]),t}();s.module("sparkui.modal",["sparkui.mediaQueries"]).directive("sparkModalBackdrop",["$sparkModalStack","$rootScope",function(t,e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/spark-backdrop.html",link:function(n){n.isDrawer?n.drawerRevealClass="c-reveal-overlay--drawer":n.drawerRevealClass="c-reveal-overlay--modal",n.close=function(n){var i=t.getTop();i&&i.value.closeOnClick&&i.value.backdrop&&"static"!==i.value.backdrop&&n.target===n.currentTarget&&void 0===e.shouldSkipSparkModalDismissal?(n.preventDefault(),n.stopPropagation(),t.dismiss(i.key,"backdrop click")):e.shouldSkipSparkModalDismissal=void 0}}}}]).directive("sparkModalWindow",["$sparkModalStack",function(t){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/spark-window.html",link:function(e,n,i){e.windowClass=i.windowClass||"",e.isTop=function(){var n=t.getTop();return!n||n.value.modalScope&&n.value.modalScope===e.$parent}}}}]).factory("$sparkModalStack",["$window","$timeout","$document","$compile","$rootScope","$animate","$q","$sparkMediaQueries",function(t,e,n,i,r,a,o,l){var u=l.mobileSniff(),d=null,f=new h,p={};function g(){for(var t=f.keys(),e=(t.length,n.find("body").eq(0),0);e<t.length;e++){var i=p.reposition(t[e]);i&&i.position}}function m(e){var i=f.get(e).value;if(f.remove(e),i.backdropDomEl&&a.leave(i.backdropDomEl).then((function(){i.backdropScope.$destroy()})),0===f.length()){var r=n.find("body").eq(0);r.removeClass("is-reveal-open"),u&&(n.find("html").eq(0).removeClass("is-reveal-open"),d&&(r[0].scrollTop=d,d=null)),s.element(t).unbind("resize",g)}a.leave(i.modalDomEl).then((function(){i.modalScope.$destroy()}))}function v(t){var e=t.options;if(e.backdrop)return{left:0,position:"relative"};var i=e.modalDomEl,r=n.find("body").eq(0),a=r.clientWidth||n[0].documentElement.clientWidth,o=r.clientHeight||n[0].documentElement.clientHeight,s=i[0].offsetWidth,c=i[0].offsetHeight,l=parseInt((a-s)/2,10);c<o&&parseInt((o-c)/4,10);var u=e.modalPos=e.modalPos||{};return u.left=l,u.position="fixed",u}return n.on("keydown",(function(t){var e=f.top();if(e)if(27===t.which)e.value.keyboard&&0===c(".fancybox-container").length&&r.$apply((function(){p.dismiss(e.key)}));else if(9===t.which){var n=p.loadFocusElementList(e),i=!1;t.shiftKey?(p.isFocusInFirstItem(t,n)||p.isModalFocused(t,e))&&(i=p.focusLastFocusableElement(n)):p.isFocusInLastItem(t,n)&&(i=p.focusFirstFocusableElement(n)),i&&(t.preventDefault(),t.stopPropagation())}})),p.loadFocusElementList=function(t){if(!t)return[];var e=t.value.modalDomEl;if(e&&e.length){var n=e[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n)).filter((function(t){return!!((e=t).offsetWidth||e.offsetHeight||e.getClientRects().length);var e}))}return[]},p.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},p.isFocusInLastItem=function(t,e){return e.length>0&&(t.target||t.srcElement)===e[e.length-1]},p.focusFirstFocusableElement=function(t){return t.length>0&&(t[0].focus(),!0)},p.focusLastFocusableElement=function(t){return t.length>0&&(t[t.length-1].focus(),!0)},p.isFocusInFirstItem=function(t,e){return e.length>0&&(t.target||t.srcElement)===e[0]},p.open=function(c,l){c.options={deferred:l.deferred,modalScope:l.scope,backdrop:l.backdrop,keyboard:l.keyboard,closeOnClick:l.closeOnClick,id:l.id},f.add(c,c.options),function(){for(var t=f.keys(),e=0;e<t.length;e++)f.get(t[e]).value.backdrop&&e}();var h=void 0;if(l.backdrop){var p=r.$new(!0);p.isDrawer=l.isDrawer||!1,h=i("<div spark-modal-backdrop></div>")(p),f.top().value.backdropDomEl=h,f.top().value.backdropScope=p}1===f.length()&&s.element(t).on("resize",g);var m=[];l.windowClass&&m.push(l.windowClass),l.size&&m.push(l.size),l.backdrop||m.push("c-reveal--without-overlay");var y=s.element("<div spark-modal-window></div>").attr({"window-class":m.join(" "),index:f.length()-1});return y.html(l.content),i(y)(l.scope),f.top().value.modalDomEl=y,e((function(){l.scope.$apply();var e=n.find("body").eq(0);e.prepend(y),v(c),y.detach(),y.css({visibility:"visible",left:"${modalPos.left}px",display:"block",position:"${modalPos.position}","z-index":""});var i=[];h&&(h.css({display:"block"}),i.push(a.enter(h,e,e[0].lastChild)));var r=h||e;return i.push(a.enter(y,r,r[0].lastChild)),u&&(d=t.pageYOffset,n.find("html").eq(0).addClass("is-reveal-open")),e.addClass("is-reveal-open"),l.backdrop||l.scope.$watch((function(){return Math.floor(y[0].offsetHeight/10)}),g),o.all(i).then((function(){var t=y[0].querySelector("[autofocus]")||y[0],e=r[0].scrollTop;t.focus(),r[0].scrollTop=e}))}))},p.reposition=function(t){var e=f.get(t).value;if(e){var n=e.modalDomEl,i=v(t);return n.css("left",i.left+"px"),n.css("position",i.position),i}return{}},p.close=function(t,e){var n=f.get(t);return n?(n.value.deferred.resolve(e),t.opened.then((function(){m(t)}))):o.resolve()},p.dismiss=function(t,e){var n=f.get(t);return n?(n.value.deferred.reject(e),t.opened.then((function(){m(t)}))):o.resolve()},p.dismissAll=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return o.all(f.keys().filter((function(t){return-1===e.indexOf(f.get(t).value.id)})).map((function(e){return p.dismiss(e,t)})))},p.getTop=function(){return f.top()},p.isOpen=function(t){return f.keys().some((function(t){return-1!==skipIds.indexOf(f.get().value.id)}))},p}]).provider("$sparkModal",(function(){var t=this;this.options={backdrop:!0,keyboard:!0,closeOnClick:!0,id:0},this.$get=["$injector","$rootScope","$q","$http","$templateCache","$controller","$sparkModalStack",function(e,n,i,r,a,o,c){var l={open:function(l,u){var h,d,f,p=i.defer(),g=i.defer(),m={result:p.promise,opened:g.promise,close:function(t){c.close(m,t)},dismiss:function(t){c.dismiss(m,t)},reposition:function(){c.reposition(m)}},v=s.extend({},t.options,l);if(v.resolve=v.resolve||{},!v.template&&!v.templateUrl)throw new Error("One of template or templateUrl options is required.");return i.all([(f=v,f.template?i.resolve(f.template):r.get(f.templateUrl,{cache:a}).then((function(t){return t.data})))].concat((h=v.resolve,d=[],s.forEach(h,(function(t){(s.isFunction(t)||s.isArray(t))&&d.push(i.when(e.invoke(t)))})),d))).then((function(t){var e=(v.scope||n).$new();e.$close=m.close,e.$dismiss=m.dismiss;var i=void 0,r={},a=1;return v.controller&&(r.$scope=e,r.$modalInstance=m,s.forEach(v.resolve,(function(e,n){r[n]=t[a++]})),i=o(v.controller,r),v.controllerAs&&(e[v.controllerAs]=i)),c.open(m,{scope:e,deferred:p,content:t[0],backdrop:v.backdrop,keyboard:v.keyboard,windowClass:v.windowClass,size:"c-reveal--"+v.size,closeOnClick:v.closeOnClick,id:v.id,isDrawer:u})}),(function(t){return p.reject(t),i.reject(t)})).then((function(){g.resolve()}),(function(t){g.reject(t)})),m},openDrawer:function(t){return t.windowClass+=" c-reveal--drawer",l.open(t,!0)}};return l}]})),s.module("sparkui.modal").run(["$templateCache",function(t){t.put("template/modal/spark-backdrop.html",'<div\n  class="c-reveal-overlay ng-animate {{ drawerRevealClass }}"\n  ng-animate-children="true"\n  ng-click="close($event)">\n</div>\n'),t.put("template/modal/spark-window.html",'<div\n  class="c-reveal {{ windowClass }}"\n  tabindex="-1">\n  <div ng-transclude></div>\n</div>\n')}]),s.module("sparkui.optionsFilter",[]).filter("option",(function(){return function(t,e,n){if(!t)return t;if(!e)return t;var i=(""+e).toLowerCase(),r={};return s.forEach(t,(function(t,e){var a=n&&void 0!==t[n]?t[n]:e;-1!==(a=(""+a).toLowerCase()).indexOf(i)&&(r[e]=t)})),r}})),s.module("sparkui.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(t,e,n,i){var r=this,a=e.numPages?n(e.numPages).assign:s.noop;r.init=function(i){e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),(function(e){r.itemsPerPage=parseInt(e,10),t.totalPages=r.calculateTotalPages()})):r.itemsPerPage=i},r.noPrevious=function(){return 1===r.currentPage},r.noNext=function(){return r.currentPage===t.totalPages},r.isActive=function(t){return r.currentPage===t},r.calculateTotalPages=function(){var e=r.itemsPerPage<1?1:Math.ceil(t.totalItems/r.itemsPerPage);return Math.max(e||0,1)},r.getAttributeValue=function(e,n,r){return s.isDefined(e)?r?i(e)(t.$parent):t.$parent.$eval(e):n},r.render=function(){r.currentPage=parseInt(t.currentPage,10)||1,r.currentPage>0&&r.currentPage<=t.totalPages&&(t.pages=r.getPages(r.currentPage,t.totalPages))},t.selectPage=function(e){e!==r.currentPage&&!r.isActive(e)&&e>0&&e<=t.totalPages&&(t.currentPage=e,t.onSelectPage({currentPage:e}))},t.selectFirstPage=function(){t.selectPage(1)},t.selectLastPage=function(){var e=t.totalPages;t.selectPage(e)},t.$watch("currentPage",(function(){r.render()})),t.$watch("totalItems",(function(){t.totalPages=r.calculateTotalPages()})),t.$watch("totalPages",(function(e){a(t.$parent,e),r.currentPage>e?t.selectPage(e):r.render()}))}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("sparkPagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{currentPage:"=",paginationTitle:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,a){a.getAttributeValue(r.boundaryLinks,e.boundaryLinks),a.getAttributeValue(r.directionLinks,e.directionLinks),a.getAttributeValue(r.firstText,e.firstText,!0),a.getAttributeValue(r.previousText,e.previousText,!0),a.getAttributeValue(r.nextText,e.nextText,!0),a.getAttributeValue(r.lastText,e.lastText,!0);var o,c=a.getAttributeValue(r.rotate,e.rotate);function l(t,e,n,i){return{number:t,text:e,active:n,disabled:i}}a.init(e.itemsPerPage),r.maxSize&&n.$parent.$watch(t(r.maxSize),(function(t){o=parseInt(t,10),a.render()})),a.getPages=function(t,e){var n=[],i=1,r=e,u=s.isDefined(o)&&o<e;u&&(c?(r=(i=Math.max(t-Math.floor(o/2),1))+o-1)>e&&(i=(r=e)-o+1):(i=(Math.ceil(t/o)-1)*o+1,r=Math.min(i+o-1,e)));for(var h=i;h<=r;h++){var d=l(h,h,a.isActive(h),!1);n.push(d)}if(u&&!c){if(i>1){var f=l(i-1,"...",!1,!1);n.unshift(f)}if(r<e){var p=l(r+1,"...",!1,!1);n.push(p)}}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"Â« Previous",nextText:"Next Â»",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,i,r){var a=r.getAttributeValue(i.previousText,t.previousText,!0),o=r.getAttributeValue(i.nextText,t.nextText,!0),s=r.getAttributeValue(i.align,t.align);function c(t,e,n,i,r){return{number:t,text:e,disabled:n,previous:s&&i,next:s&&r}}r.init(t.itemsPerPage),r.getPages=function(t){return[c(t-1,a,r.noPrevious(),!0,!1),c(t+1,o,r.noNext(),!1,!0)]}}}}]),s.module("sparkui.pagination").run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pagination">\n  <li\n    class="arrow"\n    ng-repeat="page in pages" \n    ng-class="{unavailable: page.disabled, left: page.previous, right: page.next}">\n    <a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>\n'),t.put("template/pagination/pagination.html",'<div>\n  <ul\n    class="c-pagination"\n    ng-if="!paginationTitle"\n    role="navigation"\n    aria-label="Pagination">\n    \n    <li\n      class="c-pagination__page u-left-border u-left-border-radius"\n      ng-class="{ \'is-disabled\': currentPage === 1 }"\n      ng-click="selectFirstPage()">\n      <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g id="Icons-/-Sort-/-Collapses-Copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <path d="M8.4215686,11.6376687 L11.7486608,8.42267869 C12.0837797,8.09685215 12.0837797,7.57019645 11.7486608,7.24436991 C11.4135419,6.91854336 10.8718663,6.91854336 10.5367474,7.24436991 L6.25133919,11.4109498 C5.91622027,11.7367763 5.91622027,12.263432 6.25133919,12.5892586 L10.5367474,16.7558384 C10.7038783,16.918335 10.9232912,17 11.1427041,17 C11.362117,17 11.5815299,16.918335 11.7486608,16.7558384 C12.0837797,16.4300119 12.0837797,15.9033562 11.7486608,15.5775296 L8.4215686,12.3625396 C8.22140104,12.1691164 8.21593363,11.8500481 8.4093568,11.6498805 C8.41335735,11.6457405 8.41742855,11.6416693 8.4215686,11.6376687 Z M14.4215686,11.6376687 L17.7486608,8.42267869 C18.0837797,8.09685215 18.0837797,7.57019645 17.7486608,7.24436991 C17.4135419,6.91854336 16.8718663,6.91854336 16.5367474,7.24436991 L12.2513392,11.4109498 C11.9162203,11.7367763 11.9162203,12.263432 12.2513392,12.5892586 L16.5367474,16.7558384 C16.7038783,16.918335 16.9232912,17 17.1427041,17 C17.362117,17 17.5815299,16.918335 17.7486608,16.7558384 C18.0837797,16.4300119 18.0837797,15.9033562 17.7486608,15.5775296 L14.4215686,12.3625396 C14.221401,12.1691164 14.2159336,11.8500481 14.4093568,11.6498805 C14.4133574,11.6457405 14.4174286,11.6416693 14.4215686,11.6376687 Z"\n            id="Combined-Shape" fill="currentColor"></path>\n        </g>\n      </svg>\n    </li>\n  \n    <li\n      class="c-pagination__page"\n      ng-class="{ \'is-disabled\': currentPage === 1 }"\n      ng-click="selectPage(currentPage - 1)">\n      <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g id="Icons-/-Sort-/-left-Copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <path d="M11.4349641,11.6247246 L14.7486608,8.42267869 C15.0837797,8.09685215 15.0837797,7.57019645 14.7486608,7.24436991 C14.4135419,6.91854336 13.8718663,6.91854336 13.5367474,7.24436991 L9.25133919,11.4109498 C8.91622027,11.7367763 8.91622027,12.263432 9.25133919,12.5892586 L13.5367474,16.7558384 C13.7038783,16.918335 13.9232912,17 14.1427041,17 C14.362117,17 14.5815299,16.918335 14.7486608,16.7558384 C15.0837797,16.4300119 15.0837797,15.9033562 14.7486608,15.5775296 L11.4349641,12.3754837 C11.2276477,12.1751526 11.221985,11.844689 11.4223161,11.6373726 C11.4264595,11.6330847 11.4306761,11.6288681 11.4349641,11.6247246 Z"\n            id="Mask" fill="currentColor"></path>\n        </g>\n      </svg>\n    </li>\n\n    <li\n      class="c-pagination__page"\n      ng-class="{\n        \'is-current\': page.active,\n        \'is-disabled\': page.disabled\n      }"\n      ng-repeat="page in pages">\n      <a\n        class="c-pagination__link"\n        ng-click="selectPage(page.number)"\n        ng-bind="page.text">\n      </a>\n\n    </li>\n\n    <li\n      class="c-pagination__page"\n      ng-class="{\'is-disabled\': currentPage === totalPages}"\n      ng-click="selectPage(currentPage + 1)">\n      <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g id="Icons-/-Sort-/-Right-Copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <path d="M11.4349641,11.6247246 L14.7486608,8.42267869 C15.0837797,8.09685215 15.0837797,7.57019645 14.7486608,7.24436991 C14.4135419,6.91854336 13.8718663,6.91854336 13.5367474,7.24436991 L9.25133919,11.4109498 C8.91622027,11.7367763 8.91622027,12.263432 9.25133919,12.5892586 L13.5367474,16.7558384 C13.7038783,16.918335 13.9232912,17 14.1427041,17 C14.362117,17 14.5815299,16.918335 14.7486608,16.7558384 C15.0837797,16.4300119 15.0837797,15.9033562 14.7486608,15.5775296 L11.4349641,12.3754837 C11.2276477,12.1751526 11.221985,11.844689 11.4223161,11.6373726 C11.4264595,11.6330847 11.4306761,11.6288681 11.4349641,11.6247246 Z"\n            id="Mask" fill="currentColor" transform="translate(12.000000, 12.000000) rotate(-180.000000) translate(-12.000000, -12.000000) "></path>\n        </g>\n      </svg>\n    </li>\n  \n    <li\n      class="c-pagination__page u-right-border-radius"\n      ng-class="{\'is-disabled\': currentPage === totalPages}"\n      ng-click="selectLastPage()">\n      <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g id="Icons-/-Sort-/-Expands-Copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <path d="M8.4304989,11.6290393 L11.7486608,8.42267869 C12.0837797,8.09685215 12.0837797,7.57019645 11.7486608,7.24436991 C11.4135419,6.91854336 10.8718663,6.91854336 10.5367474,7.24436991 L6.25133919,11.4109498 C5.91622027,11.7367763 5.91622027,12.263432 6.25133919,12.5892586 L10.5367474,16.7558384 C10.7038783,16.918335 10.9232912,17 11.1427041,17 C11.362117,17 11.5815299,16.918335 11.7486608,16.7558384 C12.0837797,16.4300119 12.0837797,15.9033562 11.7486608,15.5775296 L8.4304989,12.371169 C8.22556546,12.1731405 8.21996787,11.8464753 8.41799634,11.6415419 C8.42209215,11.6373033 8.42626028,11.6331351 8.4304989,11.6290393 Z M14.4304989,11.6290393 L17.7486608,8.42267869 C18.0837797,8.09685215 18.0837797,7.57019645 17.7486608,7.24436991 C17.4135419,6.91854336 16.8718663,6.91854336 16.5367474,7.24436991 L12.2513392,11.4109498 C11.9162203,11.7367763 11.9162203,12.263432 12.2513392,12.5892586 L16.5367474,16.7558384 C16.7038783,16.918335 16.9232912,17 17.1427041,17 C17.362117,17 17.5815299,16.918335 17.7486608,16.7558384 C18.0837797,16.4300119 18.0837797,15.9033562 17.7486608,15.5775296 L14.4304989,12.371169 C14.2255655,12.1731405 14.2199679,11.8464753 14.4179963,11.6415419 C14.4220921,11.6373033 14.4262603,11.6331351 14.4304989,11.6290393 Z"\n            id="Combined-Shape" fill="currentColor" transform="translate(12.000000, 12.000000) rotate(-180.000000) translate(-12.000000, -12.000000) "></path>\n        </g>\n      </svg>\n    </li>\n  </ul>\n  \n  <ul\n    class="c-pagination"\n    ng-if="paginationTitle"\n    role="navigation"\n    aria-label="Pagination">\n\n    <li\n      class="c-pagination__page u-left-border u-left-border-radius"\n      ng-class="{\'is-disabled\': currentPage === 1}"\n      ng-click="selectFirstPage()">\n      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">\n        <defs>\n          <path id="a" d="M13.667 14.506V9.494l2.365-2.307a.57.57 0 0 1 .968.408v8.81a.57.57 0 0 1-.968.408l-2.365-2.307zm-2.08-7.319a.57.57 0 0 1 .969.408v8.81a.57.57 0 0 1-.968.408l-4.355-4.248a.803.803 0 0 1 0-1.13l4.355-4.248z"/>\n        </defs>\n        <g fill="none" fill-rule="evenodd">\n          <mask id="b" fill="#fff">\n            <use xlink:href="#a" />\n          </mask>\n          <use fill="currentColor" xlink:href="#a" />\n          <g fill="currentColor" mask="url(#b)">\n            <path d="M-2.4-2.4h29v29h-29z" />\n          </g>\n        </g>\n      </svg>\n    </li>\n\n    <li\n      class="c-pagination__page u-right-border-radius"\n      ng-class="{\'is-disabled\': currentPage === 1}"\n      ng-click="selectPage(currentPage - 1)">\n      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">\n        <defs>\n          <path id="ad" d="M13.691 7.761L9.709 11.51a.68.68 0 0 0 0 .982l3.982 3.748a.48.48 0 0 0 .809-.35V8.111a.48.48 0 0 0-.809-.35z"\n          />\n        </defs>\n        <g fill="none" fill-rule="evenodd">\n          <mask id="bc" fill="#fff">\n            <use xlink:href="#ad" />\n          </mask>\n          <use fill="currentColor" xlink:href="#ad" />\n          <g fill="currentColor" mask="url(#bc)">\n            <path d="M-2.4-2.4h29v29h-29z" />\n          </g>\n        </g>\n      </svg>\n    </li>\n\n    <li\n      class="c-pagination__title"\n      ng-bind-template="{{paginationTitle}} {{currentPage}}/{{totalItems}}">\n    </li>\n\n    <li\n      class="c-pagination__page u-left-border u-left-border-radius"\n      ng-class="{\'is-disabled\': currentPage === totalItems}" \n      ng-click="selectPage(currentPage + 1)">\n      <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <defs>\n          <path d="M13.6910106,7.7614645 L9.70944933,11.5091248 C9.43018356,11.7806469 9.43018356,12.2195267 9.70944933,12.4910488 L13.6910173,16.2385711 C13.8840567,16.4202633 14.1878367,16.4110645 14.3695288,16.218025 C14.4533346,16.1289853 14.5,16.0113186 14.5,15.8890423 L14.5,8.11098697 C14.5,7.84589029 14.2850967,7.63098697 14.02,7.63098697 C13.8977206,7.63098697 13.780051,7.67765483 13.6910106,7.7614645 Z"\n            id="path-1"></path>\n        </defs>\n        <g id="Icons-/-Dropdown-/-Right" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <mask id="mask-2" fill="white">\n            <use xlink:href="#path-1"></use>\n          </mask>\n          <use id="Mask" fill="currentColor" transform="translate(12.000000, 12.000000) rotate(-180.000000) translate(-12.000000, -12.000000) "\n            xlink:href="#path-1"></use>\n        </g>\n      </svg>\n    </li>\n  \n    <li\n      class="c-pagination__page u-right-border-radius"\n      ng-class="{\'is-disabled\': currentPage === totalItems}"\n      ng-click="selectLastPage()">\n      <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <defs>\n          <path d="M13.6666667,14.5057129 L13.6666667,9.49437549 L16.032012,7.18736132 C16.1384697,7.0835289 16.2812908,7.02541219 16.43,7.02541219 C16.7448023,7.02541219 17,7.28060988 17,7.59541218 L17,16.4045874 C17,16.5532927 16.9418862,16.6961105 16.8380585,16.8025675 C16.6182601,17.027932 16.2573843,17.0324443 16.0320198,16.8126459 L13.6666667,14.5057129 Z M11.5875675,7.18736132 C11.6940253,7.0835289 11.8368464,7.02541219 11.9855556,7.02541219 C12.3003579,7.02541219 12.5555556,7.28060988 12.5555556,7.59541218 L12.5555556,16.4045874 C12.5555556,16.5532927 12.4974418,16.6961105 12.3936141,16.8025675 C12.1738157,17.027932 11.8129399,17.0324443 11.5875754,16.8126459 L7.23272147,12.5653494 C6.92242618,12.2527331 6.92242618,11.74743 7.23272147,11.4348137 L11.5875675,7.18736132 Z"\n            id="path-2"></path>\n        </defs>\n        <g id="Icons-/-Dropdown-/-2-Right" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <mask id="mask-3" fill="white">\n            <use xlink:href="#path-2"></use>\n          </mask>\n          <use id="Mask" fill="currentColor" transform="translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "\n            xlink:href="#path-2"></use>\n        </g>\n      </svg>\n    </li>\n  </ul>\n</div>\n\n\n')}]),s.module("sparkui.position",[]).factory("$position",["$document","$window",function(t,e){function n(t){return"static"===(i="position",((n=t).currentStyle?n.currentStyle[i]:e.getComputedStyle?e.getComputedStyle(n)[i]:n.style[i])||"static");var n,i}return{position:function(e){var i=this.offset(e),r={top:0,left:0},a=function(e){for(var i=t[0],r=e.offsetParent||i;r&&r!==i&&n(r);)r=r.offsetParent;return r||i}(e[0]);a!=t[0]&&((r=this.offset(s.element(a))).top+=a.clientTop-a.scrollTop,r.left+=a.clientLeft-a.scrollLeft);var o=e[0].getBoundingClientRect();return{width:o.width||e.prop("offsetWidth"),height:o.height||e.prop("offsetHeight"),top:i.top-r.top,left:i.left-r.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].body.scrollTop||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].body.scrollLeft||t[0].documentElement.scrollLeft)}}}}]),s.module("sparkui.rangeInput",[]).directive("sparkInputRange",(function(){return{restrict:"A",link:function(t,e,n){var i=e[0];i.style.setProperty("--min",+n.min||0),i.style.setProperty("--max",+n.max||100),i.style.setProperty("--val",+n.value||n.max/2),i.addEventListener("input",(function(t){i.style.setProperty("--val",+i.value)}),!1)}}})),s.module("sparkui.rating",[]).constant("ratingConfig",{totalStarCount:5,starDimensions:16,ratingValue:0,starMargin:""}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var i=this;i.totalStarCount=s.isDefined(e.totalStarCount)?t.$parent.$eval(e.totalStarCount):n.totalStarCount,i.ratingValue=s.isDefined(e.ratingValue)?t.$parent.$eval(e.ratingValue):n.ratingValue,i.starDimensions=s.isDefined(e.starDimensions)?t.$parent.$eval(e.starDimensions):n.starDimensions,i.starMargin=s.isDefined(e.starMargin)?t.$parent.$eval(e.starMargin):n.starMargin,i.highlightedStars=Math.round(i.ratingValue/i.totalStarCount*i.totalStarCount),i.starsArray=new Array(i.totalStarCount)}]).directive("sparkRating",(function(){return{restrict:"EA",scope:{totalStarCount:"<",ratingValue:"<",starDimensions:"<",starMargin:"<"},controller:"RatingController",controllerAs:"ratingVm",templateUrl:"template/rating/rating.html",replace:!0}})),s.module("sparkui.rating").run(["$templateCache",function(t){t.put("template/rating/rating.html",'<div class="u-display-flex u-flex---wrap">\n  <div\n    class="u-flex-shrink--0"\n    ng-style="{ \'margin-right\': ratingVm.starMargin + \'px\' }"\n    ng-class="{\n      \'u-color--yellow\': ratingVm.highlightedStars > $index,\n      \'u-color--grey-lightest\': ratingVm.highlightedStars <= $index,\n    }"\n    ng-repeat="i in ratingVm.starsArray track by $index">\n    <svg\n      ng-attr-height="{{ratingVm.starDimensions}}px"\n      ng-attr-width="{{ratingVm.starDimensions}}px"\n      fill="currentColor"\n      viewBox="0 0 22 20"\n      version="1.1"\n      xmlns="http://www.w3.org/2000/svg"\n      xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g\n        id="Symbols"\n        stroke="none"\n        stroke-width="1">\n        <g\n          id="Components-/-Icons-/-Star"\n          transform="translate(-1.000000, -2.000000)">\n          <mask id="mask-2">\n            <path\n              d="M6.64576511,21.8569617 C5.88838997,22.31245 4.95576803,21.6335311 5.1565267,20.7728437 L6.50383508,14.9966986 C6.54604452,14.8157394 6.48442095,14.6262984 6.34382585,14.504804 L1.84754516,10.6193698 C1.17804649,10.0408265 1.53451445,8.94181225 2.41613252,8.86637746 L8.34812442,8.3588124 C8.53258895,8.34302887 8.69323307,8.22660801 8.76565542,8.05622231 L11.0810705,2.6088208 C11.4261091,1.79705973 12.576661,1.79705973 12.9216996,2.6088208 L15.2371146,8.05622231 C15.309537,8.22660801 15.4701811,8.34302887 15.6546456,8.3588124 L21.5866375,8.86637746 C22.4682556,8.94181225 22.8247236,10.0408265 22.1552249,10.6193698 L17.6589442,14.504804 C17.5183491,14.6262984 17.4567255,14.8157394 17.498935,14.9966986 L18.8462434,20.7728437 C19.047002,21.6335311 18.1143801,22.31245 17.3570049,21.8569617 L12.2590751,18.791047 C12.1005146,18.6956881 11.9022554,18.6956881 11.743695,18.791047 L6.64576511,21.8569617 Z"\n              id="path-1">\n            </path>\n          </mask>\n\n          <path\n            d="M6.64576511,21.8569617 C5.88838997,22.31245 4.95576803,21.6335311 5.1565267,20.7728437 L6.50383508,14.9966986 C6.54604452,14.8157394 6.48442095,14.6262984 6.34382585,14.504804 L1.84754516,10.6193698 C1.17804649,10.0408265 1.53451445,8.94181225 2.41613252,8.86637746 L8.34812442,8.3588124 C8.53258895,8.34302887 8.69323307,8.22660801 8.76565542,8.05622231 L11.0810705,2.6088208 C11.4261091,1.79705973 12.576661,1.79705973 12.9216996,2.6088208 L15.2371146,8.05622231 C15.309537,8.22660801 15.4701811,8.34302887 15.6546456,8.3588124 L21.5866375,8.86637746 C22.4682556,8.94181225 22.8247236,10.0408265 22.1552249,10.6193698 L17.6589442,14.504804 C17.5183491,14.6262984 17.4567255,14.8157394 17.498935,14.9966986 L18.8462434,20.7728437 C19.047002,21.6335311 18.1143801,22.31245 17.3570049,21.8569617 L12.2590751,18.791047 C12.1005146,18.6956881 11.9022554,18.6956881 11.743695,18.791047 L6.64576511,21.8569617 Z"\n            id="path-1">\n          </path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>\n')}]),s.module("sparkui.sparkBanner",[]).component("banner",{templateUrl:"template/sparkBanner/banner.html",controller:function(){var t=this;function e(){t.state=t.state||"warning",t.message=t.message||"",t.hasButton=t.hasButton||!1,t.buttonName=t.buttonName||"",t.alertClass=t.alertClass||"",t.stateClass="c-alert--"+t.state+" "+t.alertClass}t.$onInit=function(){e()},t.$onChanges=function(n){_.each(_.keys(n),(function(e){n[e]&&n[e].previousValue!==n[e].currentValue&&(t[e]=n[e].currentValue)})),e()}},controllerAs:"bannerVm",transclude:!0,bindings:{state:"<",message:"<",hasButton:"<",buttonName:"<",buttonLink:"<",onButtonClick:"&"}}),s.module("sparkui.sparkBanner").run(["$templateCache",function(t){t.put("template/sparkBanner/banner.html",'<div\n  class="c-alert"\n  ng-class="bannerVm.stateClass">\n  <div class="c-alert__state">\n    <svg class="c-alert__icon o-icon o-icon--24x24">\n      <use\n        ng-if="bannerVm.state === \'info\'"\n        xlink:href="#shape-alert-info">\n      </use>\n      <use\n        ng-if="bannerVm.state === \'warning\'"\n        xlink:href="#shape-alert-warning">\n      </use>\n      <use\n        ng-if="bannerVm.state === \'success\'"\n        xlink:href="#shape-alert-checkmark">\n      </use>\n      <use\n        ng-if="bannerVm.state === \'error\'"\n        xlink:href="#shape-alert-blocked">\n      </use>\n    </svg>\n  </div>\n\n  <div  class="c-alert__content">\n    <div class="c-alert__message">\n      <div\n        ng-if="bannerVm.message"\n        ng-bind="bannerVm.message">\n      </div>\n\n      <ng-transclude ng-if="!bannerVm.message">\n      </ng-transclude>\n    </div>\n\n    <div\n      class="c-alert__action"\n      ng-if="bannerVm.hasButton">\n      <button\n        class="c-alert__action-button"\n        type="button"\n        ng-if="!bannerVm.buttonLink"\n        ng-attr-title="{{bannerVm.buttonName}}"\n        ng-click="bannerVm.onButtonClick()"\n        ng-bind="bannerVm.buttonName">\n      </button>\n\n      <a\n        class="c-alert__action-button"\n        type="button"\n        target="_blank"\n        ng-if="bannerVm.buttonLink"\n        ng-attr-title="{{bannerVm.buttonName}}"\n        ng-click="bannerVm.onButtonClick()"\n        ng-href="{{bannerVm.buttonLink}}"\n        ng-bind="bannerVm.buttonName">\n      </a>\n    </div>\n  </div>\n</div>\n')}]);var d=function(t){return window.getComputedStyle?window.getComputedStyle(t,""):t.currentStyle?t.currentStyle:void 0},f=function(t){if(t){var e=t[0].getBoundingClientRect();return(e.top<0||e.top>window.document.body.offsetHeight||e.left<0||e.left>window.document.body.offsetWidth||e.bottom<0||e.bottom>window.document.body.offsetHeight||e.right<0||e.right>window.document.body.offsetWidth)&&(t.css({top:"",left:"",bottom:"",right:""}),!0)}throw new Error("You must provide a position")},p=function(t){return{top:"c-spark-tooltip--top",bottom:"c-spark-tooltip--bottom",right:"c-spark-tooltip--right",left:"c-spark-tooltip--left",bottomleft:"c-spark-tooltip--bottom-left",bottomright:"c-spark-tooltip--bottom-right",topleft:"c-spark-tooltip--top-left",topright:"c-spark-tooltip--top-right"}[t.replace("-","")]},g=["top","bottom","right","left","bottom-left","bottom-right","top-left","top-right"],m=["$timeout","sparkTooltipsConf",function(t,e){return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:function(n,i,r,a,o){r.tooltipSide=r.tooltipSide||e.side,r.tooltipSmart=r.tooltipSmart||e.smart,r.tooltipAppendToBody=r.tooltipAppendToBody||e.append,r.tooltipDisplay=r.tooltipDisplay||e.display,o(n,(function(e,n){var a=s.element(window.document.createElement("tooltip-tip-container")),o=s.element(window.document.createElement("tooltip-tip")),c=s.element(window.document.createElement("tooltip-body")),l=s.element(window.document.createElement("tooltip-arrow")),u=document.createTextNode(r.sparkTooltip);if(a.addClass("c-spark-tooltip"),c.append(u),c.addClass("c-spark-tooltip__body"),o.addClass("is-invisible"),l.addClass("c-spark-tooltip__arrow"),o.addClass("c-spark-tooltip__tip"),a.addClass(p(r.tooltipSide)),o.append(c),o.append(l),a.append(e),a.append(o),i.after(a),r.tooltipDisplay)switch(r.tooltipDisplay){case"block":case"inline-block":case"flex":case"inline-flex":case"inherit":a.addClass("c-spark-tooltip--"+r.tooltipDisplay);break;default:throw new Error("Position not supported")}if(r.tooltipSmart)switch(r.tooltipSide){case"top":case"left":case"bottom":case"right":case"top-left":case"top-right":case"bottom-left":case"bottom-right":!function(t,e,n){for(var i=g.indexOf(n),r=g.length,a=0;a<r&&f(t);a+=1)(i+=1)>=g.length&&(i=0),e.removeClass("c-spark-tooltip--top c-spark-tooltip--bottom c-spark-tooltip--left c-spark-tooltip--right c-spark-tooltip--bottom-left c-spark-tooltip--bottom-right c-spark-tooltip--top-left c-spark-tooltip--top-right"),e.addClass(p(g[i]))}(o,a,r.tooltipSide);break;default:throw new Error("Position not supported")}if(r.tooltipAppendToBody){var h=s.copy(o);a.on("mouseenter",(function(){o.addClass("is-invisible");var t,e=o[0].getBoundingClientRect(),n=d(o[0]),i=d(l[0]),r=0,a=i.length,c={},u={},f=window.parseInt(n.getPropertyValue("padding-top"),10),p=window.parseInt(n.getPropertyValue("padding-bottom"),10),g=window.parseInt(n.getPropertyValue("padding-left"),10),m=window.parseInt(n.getPropertyValue("padding-right"),10);for(c.top=e.top+window.pageYOffset+"px",c.left=e.left+window.pageXOffset+"px",c.height=e.height-(f+p)+"px",c.width=e.width-(g+m)+"px";r<a;r+=1)(t=i[r])&&i.getPropertyValue(t)&&"visibility"!==t&&(u[t]=i.getPropertyValue(t));h.css(c),h.children().next().css(u),h.addClass("is-active"),h.removeClass("is-invisible"),h.addClass("is-active"),s.element(window.document.body).append(h)})),a.on("mouseleave",(function(){h&&(o.removeClass("is-invisible"),h.remove(),h.removeClass("is-active"))})),o.removeClass("is-invisible")}else o.removeClass("is-invisible");var m=r.$observe("sparkTooltip",(function(){u=document.createTextNode(r.sparkTooltip),c.empty(),c.append(u)}));t((function(){o.removeClass("is-invisible")})),n.$on("$destroy",(function(){m()}))}))}}}];s.module("sparkui.tooltip",[]).provider("sparkTooltipsConf",(function(){var t={side:"top",smart:!1,appendToBody:!1,display:"block"};return{configure:function(e){var n,i=Object.keys(t),r=0;if(e)for(;r<i.length;r+=1)(n=i[r])&&e[n]&&(t[n]=e[n])},$get:function(){return t}}})).directive("sparkTooltip",m),s.module("angular-sparkui",["sparkui.datePicker","sparkui.dropdownSelect","sparkui.dropdownToggle","sparkui.mediaQueries","sparkui.modal","sparkui.optionsFilter","sparkui.pagination","sparkui.position","sparkui.rangeInput","sparkui.rating","sparkui.sparkBanner","sparkui.tooltip"])})?r.apply(e,a):r)||(t.exports=o)}).call(this,n(0),n(0))},214:function(t,e,n){(function(t){var e=window.angular;window.c3;e.module("angularLazyImg",[]),e.module("angularLazyImg").factory("LazyImgMagic",["$window","$rootScope","lazyImgConfig","lazyImgHelpers",function(t,n,i,r){"use strict";var a,o,s,c,l,u,h;function d(){for(var t=s.length-1;t>=0;t--){var e=s[t];e&&r.isElementInView(e.$elem[0],c.offset,a)&&(m(e),s.splice(t,1))}s.length||g()}function f(t){h.forEach((function(e){e[t]("scroll",l),e[t]("touchmove",l)})),o[t]("resize",l),o[t]("resize",u)}function p(){!0,setTimeout((function(){d(),f("on")}),1)}function g(){!1,f("off")}function m(t){var e=new Image;e.onerror=function(){c.errorClass&&t.$elem.addClass(c.errorClass),t.errorSrc&&v(t.$elem,t.errorSrc),n.$apply((function(){n.$emit("lazyImg:error",t),c.onError(t)}))},e.onload=function(){v(t.$elem,t.src),c.successClass&&t.$elem.addClass(c.successClass),n.$apply((function(){n.$emit("lazyImg:success",t),c.onSuccess(t)}))},e.src=t.src}function v(t,e){"img"===t[0].nodeName.toLowerCase()?t[0].src=e:t.css("background-image",'url("'+e+'")')}function y(t){this.$elem=t}return s=[],!1,c=i.getOptions(),o=e.element(t),a=r.getWinDimensions(),u=r.throttle((function(){a=r.getWinDimensions()}),60),c.container=c.containers||c.container,h=c.container?[].concat(c.container):[o],l=r.throttle(d,30),y.prototype.setSource=function(t){this.src=t,s.unshift(this),p()},y.prototype.setErrorSource=function(t){this.errorSrc=t},y.prototype.removeImage=function(){var t,e;t=this,-1!==(e=s.indexOf(t))&&s.splice(e,1),s.length||g()},y.prototype.checkImages=d,y.addContainer=function(t){g(),h.push(t),p()},y.removeContainer=function(t){g(),h.splice(h.indexOf(t),1),p()},y}]),e.module("angularLazyImg").provider("lazyImgConfig",(function(){"use strict";this.options={offset:100,errorClass:null,successClass:null,onError:function(){},onSuccess:function(){}},this.$get=function(){var t=this.options;return{getOptions:function(){return t}}},this.setOptions=function(t){e.extend(this.options,t)}})),e.module("angularLazyImg").factory("lazyImgHelpers",["$window",function(t){"use strict";return{isElementInView:function(t,e,n){var i=t.getBoundingClientRect();return i.left<=n.width+e&&i.right>=0-e&&i.top<=n.height+e&&i.bottom>=0-e},getWinDimensions:function(){return{height:t.innerHeight,width:t.innerWidth}},throttle:function(t,e,n){var i,r;return function(){var a=n||this,o=+new Date,s=arguments;i&&o<i+e?(clearTimeout(r),r=setTimeout((function(){i=o,t.apply(a,s)}),e)):(i=o,t.apply(a,s))}}}}]),e.module("angularLazyImg").directive("lazyImg",["$rootScope","$log","LazyImgMagic",function(t,e,n){"use strict";return{link:function(e,i,r){e.lazyImage=new n(i),e.lazyImage.setErrorSource(r.lazyImgError);var a=r.$observe("lazyImg",(function(t){t&&(a(),e.lazyImage.setSource(t))})),o=t.$on("lazyImg:refresh",(function(){e.lazyImage.checkImages()}));e.$on("$destroy",(function(){e.lazyImage.removeImage(),o()}))},restrict:"A"}}]).directive("lazyImgContainer",["LazyImgMagic",function(t){"use strict";return{link:function(e,n){t.addContainer(n),e.$on("$destroy",(function(){t.removeContainer(n)}))},restrict:"A"}}])}).call(this,n(0))},78:function(t,e,n){(function(i){var r;window.angular,window.c3;/*! showdown v 1.9.1 - 02-11-2019 */
(function(){function i(t){"use strict";var e={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `Â«Â«Â«` and `Â»Â»Â»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===t)return JSON.parse(JSON.stringify(e));var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i].defaultValue);return n}var a={},o={},s={},c=i(!0),l="vanilla",u={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:i(!0),allOn:function(){"use strict";var t=i(!0),e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}()};function h(t,e){"use strict";var n=e?"Error in "+e+" extension->":"Error in unnamed extension",i={valid:!0,error:""};a.helper.isArray(t)||(t=[t]);for(var r=0;r<t.length;++r){var o=n+" sub-extension "+r+": ",s=t[r];if("object"!=typeof s)return i.valid=!1,i.error=o+"must be an object, but "+typeof s+" given",i;if(!a.helper.isString(s.type))return i.valid=!1,i.error=o+'property "type" must be a string, but '+typeof s.type+" given",i;var c=s.type=s.type.toLowerCase();if("language"===c&&(c=s.type="lang"),"html"===c&&(c=s.type="output"),"lang"!==c&&"output"!==c&&"listener"!==c)return i.valid=!1,i.error=o+"type "+c+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',i;if("listener"===c){if(a.helper.isUndefined(s.listeners))return i.valid=!1,i.error=o+'. Extensions of type "listener" must have a property called "listeners"',i}else if(a.helper.isUndefined(s.filter)&&a.helper.isUndefined(s.regex))return i.valid=!1,i.error=o+c+' extensions must define either a "regex" property or a "filter" method',i;if(s.listeners){if("object"!=typeof s.listeners)return i.valid=!1,i.error=o+'"listeners" property must be an object but '+typeof s.listeners+" given",i;for(var l in s.listeners)if(s.listeners.hasOwnProperty(l)&&"function"!=typeof s.listeners[l])return i.valid=!1,i.error=o+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+l+" must be a function but "+typeof s.listeners[l]+" given",i}if(s.filter){if("function"!=typeof s.filter)return i.valid=!1,i.error=o+'"filter" must be a function, but '+typeof s.filter+" given",i}else if(s.regex){if(a.helper.isString(s.regex)&&(s.regex=new RegExp(s.regex,"g")),!(s.regex instanceof RegExp))return i.valid=!1,i.error=o+'"regex" property must either be a string or a RegExp object, but '+typeof s.regex+" given",i;if(a.helper.isUndefined(s.replace))return i.valid=!1,i.error=o+'"regex" extensions must implement a replace string or function',i}}return i}function d(t,e){"use strict";return"Â¨E"+e.charCodeAt(0)+"E"}a.helper={},a.extensions={},a.setOption=function(t,e){"use strict";return c[t]=e,this},a.getOption=function(t){"use strict";return c[t]},a.getOptions=function(){"use strict";return c},a.resetOptions=function(){"use strict";c=i(!0)},a.setFlavor=function(t){"use strict";if(!u.hasOwnProperty(t))throw Error(t+" flavor was not found");a.resetOptions();var e=u[t];for(var n in l=t,e)e.hasOwnProperty(n)&&(c[n]=e[n])},a.getFlavor=function(){"use strict";return l},a.getFlavorOptions=function(t){"use strict";if(u.hasOwnProperty(t))return u[t]},a.getDefaultOptions=function(t){"use strict";return i(t)},a.subParser=function(t,e){"use strict";if(a.helper.isString(t)){if(void 0===e){if(o.hasOwnProperty(t))return o[t];throw Error("SubParser named "+t+" not registered!")}o[t]=e}},a.extension=function(t,e){"use strict";if(!a.helper.isString(t))throw Error("Extension 'name' must be a string");if(t=a.helper.stdExtName(t),a.helper.isUndefined(e)){if(!s.hasOwnProperty(t))throw Error("Extension named "+t+" is not registered!");return s[t]}"function"==typeof e&&(e=e()),a.helper.isArray(e)||(e=[e]);var n=h(e,t);if(!n.valid)throw Error(n.error);s[t]=e},a.getAllExtensions=function(){"use strict";return s},a.removeExtension=function(t){"use strict";delete s[t]},a.resetExtensions=function(){"use strict";s={}},a.validateExtension=function(t){"use strict";var e=h(t,null);return!!e.valid||(console.warn(e.error),!1)},a.hasOwnProperty("helper")||(a.helper={}),a.helper.isString=function(t){"use strict";return"string"==typeof t||t instanceof String},a.helper.isFunction=function(t){"use strict";return t&&"[object Function]"==={}.toString.call(t)},a.helper.isArray=function(t){"use strict";return Array.isArray(t)},a.helper.isUndefined=function(t){"use strict";return void 0===t},a.helper.forEach=function(t,e){"use strict";if(a.helper.isUndefined(t))throw new Error("obj param is required");if(a.helper.isUndefined(e))throw new Error("callback param is required");if(!a.helper.isFunction(e))throw new Error("callback param must be a function/closure");if("function"==typeof t.forEach)t.forEach(e);else if(a.helper.isArray(t))for(var n=0;n<t.length;n++)e(t[n],n,t);else{if("object"!=typeof t)throw new Error("obj does not seem to be an array or an iterable object");for(var i in t)t.hasOwnProperty(i)&&e(t[i],i,t)}},a.helper.stdExtName=function(t){"use strict";return t.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},a.helper.escapeCharactersCallback=d,a.helper.escapeCharacters=function(t,e,n){"use strict";var i="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var r=new RegExp(i,"g");return t=t.replace(r,d)},a.helper.unescapeHTMLEntities=function(t){"use strict";return t.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var f=function(t,e,n,i){"use strict";var r,a,o,s,c,l=i||"",u=l.indexOf("g")>-1,h=new RegExp(e+"|"+n,"g"+l.replace(/g/g,"")),d=new RegExp(e,l.replace(/g/g,"")),f=[];do{for(r=0;o=h.exec(t);)if(d.test(o[0]))r++||(s=(a=h.lastIndex)-o[0].length);else if(r&&!--r){c=o.index+o[0].length;var p={left:{start:s,end:a},match:{start:a,end:o.index},right:{start:o.index,end:c},wholeMatch:{start:s,end:c}};if(f.push(p),!u)return f}}while(r&&(h.lastIndex=a));return f};a.helper.matchRecursiveRegExp=function(t,e,n,i){"use strict";for(var r=f(t,e,n,i),a=[],o=0;o<r.length;++o)a.push([t.slice(r[o].wholeMatch.start,r[o].wholeMatch.end),t.slice(r[o].match.start,r[o].match.end),t.slice(r[o].left.start,r[o].left.end),t.slice(r[o].right.start,r[o].right.end)]);return a},a.helper.replaceRecursiveRegExp=function(t,e,n,i,r){"use strict";if(!a.helper.isFunction(e)){var o=e;e=function(){return o}}var s=f(t,n,i,r),c=t,l=s.length;if(l>0){var u=[];0!==s[0].wholeMatch.start&&u.push(t.slice(0,s[0].wholeMatch.start));for(var h=0;h<l;++h)u.push(e(t.slice(s[h].wholeMatch.start,s[h].wholeMatch.end),t.slice(s[h].match.start,s[h].match.end),t.slice(s[h].left.start,s[h].left.end),t.slice(s[h].right.start,s[h].right.end))),h<l-1&&u.push(t.slice(s[h].wholeMatch.end,s[h+1].wholeMatch.start));s[l-1].wholeMatch.end<t.length&&u.push(t.slice(s[l-1].wholeMatch.end)),c=u.join("")}return c},a.helper.regexIndexOf=function(t,e,n){"use strict";if(!a.helper.isString(t))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(e instanceof RegExp==!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var i=t.substring(n||0).search(e);return i>=0?i+(n||0):i},a.helper.splitAtIndex=function(t,e){"use strict";if(!a.helper.isString(t))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[t.substring(0,e),t.substring(e)]},a.helper.encodeEmailAddress=function(t){"use strict";var e=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+t.charCodeAt(0).toString(16)+";"},function(t){return t}];return t=t.replace(/./g,(function(t){if("@"===t)t=e[Math.floor(2*Math.random())](t);else{var n=Math.random();t=n>.9?e[2](t):n>.45?e[1](t):e[0](t)}return t}))},a.helper.padEnd=function(t,e,n){"use strict";return e>>=0,n=String(n||" "),t.length>e?String(t):((e-=t.length)>n.length&&(n+=n.repeat(e/n.length)),String(t)+n.slice(0,e))},"undefined"==typeof console&&(console={warn:function(t){"use strict";alert(t)},log:function(t){"use strict";alert(t)},error:function(t){"use strict";throw t}}),a.helper.regexes={asteriskDashAndColon:/([*_:~])/g},a.helper.emojis={"+1":"ð","-1":"ð",100:"ð¯",1234:"ð¢","1st_place_medal":"ð¥","2nd_place_medal":"ð¥","3rd_place_medal":"ð¥","8ball":"ð±",a:"ð°ï¸",ab:"ð",abc:"ð¤",abcd:"ð¡",accept:"ð",aerial_tramway:"ð¡",airplane:"âï¸",alarm_clock:"â°",alembic:"âï¸",alien:"ð½",ambulance:"ð",amphora:"ðº",anchor:"âï¸",angel:"ð¼",anger:"ð¢",angry:"ð ",anguished:"ð§",ant:"ð",apple:"ð",aquarius:"âï¸",aries:"âï¸",arrow_backward:"âï¸",arrow_double_down:"â¬",arrow_double_up:"â«",arrow_down:"â¬ï¸",arrow_down_small:"ð½",arrow_forward:"â¶ï¸",arrow_heading_down:"â¤µï¸",arrow_heading_up:"â¤´ï¸",arrow_left:"â¬ï¸",arrow_lower_left:"âï¸",arrow_lower_right:"âï¸",arrow_right:"â¡ï¸",arrow_right_hook:"âªï¸",arrow_up:"â¬ï¸",arrow_up_down:"âï¸",arrow_up_small:"ð¼",arrow_upper_left:"âï¸",arrow_upper_right:"âï¸",arrows_clockwise:"ð",arrows_counterclockwise:"ð",art:"ð¨",articulated_lorry:"ð",artificial_satellite:"ð°",astonished:"ð²",athletic_shoe:"ð",atm:"ð§",atom_symbol:"âï¸",avocado:"ð¥",b:"ð±ï¸",baby:"ð¶",baby_bottle:"ð¼",baby_chick:"ð¤",baby_symbol:"ð¼",back:"ð",bacon:"ð¥",badminton:"ð¸",baggage_claim:"ð",baguette_bread:"ð¥",balance_scale:"âï¸",balloon:"ð",ballot_box:"ð³",ballot_box_with_check:"âï¸",bamboo:"ð",banana:"ð",bangbang:"â¼ï¸",bank:"ð¦",bar_chart:"ð",barber:"ð",baseball:"â¾ï¸",basketball:"ð",basketball_man:"â¹ï¸",basketball_woman:"â¹ï¸&zwj;âï¸",bat:"ð¦",bath:"ð",bathtub:"ð",battery:"ð",beach_umbrella:"ð",bear:"ð»",bed:"ð",bee:"ð",beer:"ðº",beers:"ð»",beetle:"ð",beginner:"ð°",bell:"ð",bellhop_bell:"ð",bento:"ð±",biking_man:"ð´",bike:"ð²",biking_woman:"ð´&zwj;âï¸",bikini:"ð",biohazard:"â£ï¸",bird:"ð¦",birthday:"ð",black_circle:"â«ï¸",black_flag:"ð´",black_heart:"ð¤",black_joker:"ð",black_large_square:"â¬ï¸",black_medium_small_square:"â¾ï¸",black_medium_square:"â¼ï¸",black_nib:"âï¸",black_small_square:"âªï¸",black_square_button:"ð²",blonde_man:"ð±",blonde_woman:"ð±&zwj;âï¸",blossom:"ð¼",blowfish:"ð¡",blue_book:"ð",blue_car:"ð",blue_heart:"ð",blush:"ð",boar:"ð",boat:"âµï¸",bomb:"ð£",book:"ð",bookmark:"ð",bookmark_tabs:"ð",books:"ð",boom:"ð¥",boot:"ð¢",bouquet:"ð",bowing_man:"ð",bow_and_arrow:"ð¹",bowing_woman:"ð&zwj;âï¸",bowling:"ð³",boxing_glove:"ð¥",boy:"ð¦",bread:"ð",bride_with_veil:"ð°",bridge_at_night:"ð",briefcase:"ð¼",broken_heart:"ð",bug:"ð",building_construction:"ð",bulb:"ð¡",bullettrain_front:"ð",bullettrain_side:"ð",burrito:"ð¯",bus:"ð",business_suit_levitating:"ð´",busstop:"ð",bust_in_silhouette:"ð¤",busts_in_silhouette:"ð¥",butterfly:"ð¦",cactus:"ðµ",cake:"ð°",calendar:"ð",call_me_hand:"ð¤",calling:"ð²",camel:"ð«",camera:"ð·",camera_flash:"ð¸",camping:"ð",cancer:"âï¸",candle:"ð¯",candy:"ð¬",canoe:"ð¶",capital_abcd:"ð ",capricorn:"âï¸",car:"ð",card_file_box:"ð",card_index:"ð",card_index_dividers:"ð",carousel_horse:"ð ",carrot:"ð¥",cat:"ð±",cat2:"ð",cd:"ð¿",chains:"â",champagne:"ð¾",chart:"ð¹",chart_with_downwards_trend:"ð",chart_with_upwards_trend:"ð",checkered_flag:"ð",cheese:"ð§",cherries:"ð",cherry_blossom:"ð¸",chestnut:"ð°",chicken:"ð",children_crossing:"ð¸",chipmunk:"ð¿",chocolate_bar:"ð«",christmas_tree:"ð",church:"âªï¸",cinema:"ð¦",circus_tent:"ðª",city_sunrise:"ð",city_sunset:"ð",cityscape:"ð",cl:"ð",clamp:"ð",clap:"ð",clapper:"ð¬",classical_building:"ð",clinking_glasses:"ð¥",clipboard:"ð",clock1:"ð",clock10:"ð",clock1030:"ð¥",clock11:"ð",clock1130:"ð¦",clock12:"ð",clock1230:"ð§",clock130:"ð",clock2:"ð",clock230:"ð",clock3:"ð",clock330:"ð",clock4:"ð",clock430:"ð",clock5:"ð",clock530:"ð ",clock6:"ð",clock630:"ð¡",clock7:"ð",clock730:"ð¢",clock8:"ð",clock830:"ð£",clock9:"ð",clock930:"ð¤",closed_book:"ð",closed_lock_with_key:"ð",closed_umbrella:"ð",cloud:"âï¸",cloud_with_lightning:"ð©",cloud_with_lightning_and_rain:"â",cloud_with_rain:"ð§",cloud_with_snow:"ð¨",clown_face:"ð¤¡",clubs:"â£ï¸",cocktail:"ð¸",coffee:"âï¸",coffin:"â°ï¸",cold_sweat:"ð°",comet:"âï¸",computer:"ð»",computer_mouse:"ð±",confetti_ball:"ð",confounded:"ð",confused:"ð",congratulations:"ãï¸",construction:"ð§",construction_worker_man:"ð·",construction_worker_woman:"ð·&zwj;âï¸",control_knobs:"ð",convenience_store:"ðª",cookie:"ðª",cool:"ð",policeman:"ð®",copyright:"Â©ï¸",corn:"ð½",couch_and_lamp:"ð",couple:"ð«",couple_with_heart_woman_man:"ð",couple_with_heart_man_man:"ð¨&zwj;â¤ï¸&zwj;ð¨",couple_with_heart_woman_woman:"ð©&zwj;â¤ï¸&zwj;ð©",couplekiss_man_man:"ð¨&zwj;â¤ï¸&zwj;ð&zwj;ð¨",couplekiss_man_woman:"ð",couplekiss_woman_woman:"ð©&zwj;â¤ï¸&zwj;ð&zwj;ð©",cow:"ð®",cow2:"ð",cowboy_hat_face:"ð¤ ",crab:"ð¦",crayon:"ð",credit_card:"ð³",crescent_moon:"ð",cricket:"ð",crocodile:"ð",croissant:"ð¥",crossed_fingers:"ð¤",crossed_flags:"ð",crossed_swords:"âï¸",crown:"ð",cry:"ð¢",crying_cat_face:"ð¿",crystal_ball:"ð®",cucumber:"ð¥",cupid:"ð",curly_loop:"â°",currency_exchange:"ð±",curry:"ð",custard:"ð®",customs:"ð",cyclone:"ð",dagger:"ð¡",dancer:"ð",dancing_women:"ð¯",dancing_men:"ð¯&zwj;âï¸",dango:"ð¡",dark_sunglasses:"ð¶",dart:"ð¯",dash:"ð¨",date:"ð",deciduous_tree:"ð³",deer:"ð¦",department_store:"ð¬",derelict_house:"ð",desert:"ð",desert_island:"ð",desktop_computer:"ð¥",male_detective:"ðµï¸",diamond_shape_with_a_dot_inside:"ð ",diamonds:"â¦ï¸",disappointed:"ð",disappointed_relieved:"ð¥",dizzy:"ð«",dizzy_face:"ðµ",do_not_litter:"ð¯",dog:"ð¶",dog2:"ð",dollar:"ðµ",dolls:"ð",dolphin:"ð¬",door:"ðª",doughnut:"ð©",dove:"ð",dragon:"ð",dragon_face:"ð²",dress:"ð",dromedary_camel:"ðª",drooling_face:"ð¤¤",droplet:"ð§",drum:"ð¥",duck:"ð¦",dvd:"ð","e-mail":"ð§",eagle:"ð¦",ear:"ð",ear_of_rice:"ð¾",earth_africa:"ð",earth_americas:"ð",earth_asia:"ð",egg:"ð¥",eggplant:"ð",eight_pointed_black_star:"â´ï¸",eight_spoked_asterisk:"â³ï¸",electric_plug:"ð",elephant:"ð",email:"âï¸",end:"ð",envelope_with_arrow:"ð©",euro:"ð¶",european_castle:"ð°",european_post_office:"ð¤",evergreen_tree:"ð²",exclamation:"âï¸",expressionless:"ð",eye:"ð",eye_speech_bubble:"ð&zwj;ð¨",eyeglasses:"ð",eyes:"ð",face_with_head_bandage:"ð¤",face_with_thermometer:"ð¤",fist_oncoming:"ð",factory:"ð­",fallen_leaf:"ð",family_man_woman_boy:"ðª",family_man_boy:"ð¨&zwj;ð¦",family_man_boy_boy:"ð¨&zwj;ð¦&zwj;ð¦",family_man_girl:"ð¨&zwj;ð§",family_man_girl_boy:"ð¨&zwj;ð§&zwj;ð¦",family_man_girl_girl:"ð¨&zwj;ð§&zwj;ð§",family_man_man_boy:"ð¨&zwj;ð¨&zwj;ð¦",family_man_man_boy_boy:"ð¨&zwj;ð¨&zwj;ð¦&zwj;ð¦",family_man_man_girl:"ð¨&zwj;ð¨&zwj;ð§",family_man_man_girl_boy:"ð¨&zwj;ð¨&zwj;ð§&zwj;ð¦",family_man_man_girl_girl:"ð¨&zwj;ð¨&zwj;ð§&zwj;ð§",family_man_woman_boy_boy:"ð¨&zwj;ð©&zwj;ð¦&zwj;ð¦",family_man_woman_girl:"ð¨&zwj;ð©&zwj;ð§",family_man_woman_girl_boy:"ð¨&zwj;ð©&zwj;ð§&zwj;ð¦",family_man_woman_girl_girl:"ð¨&zwj;ð©&zwj;ð§&zwj;ð§",family_woman_boy:"ð©&zwj;ð¦",family_woman_boy_boy:"ð©&zwj;ð¦&zwj;ð¦",family_woman_girl:"ð©&zwj;ð§",family_woman_girl_boy:"ð©&zwj;ð§&zwj;ð¦",family_woman_girl_girl:"ð©&zwj;ð§&zwj;ð§",family_woman_woman_boy:"ð©&zwj;ð©&zwj;ð¦",family_woman_woman_boy_boy:"ð©&zwj;ð©&zwj;ð¦&zwj;ð¦",family_woman_woman_girl:"ð©&zwj;ð©&zwj;ð§",family_woman_woman_girl_boy:"ð©&zwj;ð©&zwj;ð§&zwj;ð¦",family_woman_woman_girl_girl:"ð©&zwj;ð©&zwj;ð§&zwj;ð§",fast_forward:"â©",fax:"ð ",fearful:"ð¨",feet:"ð¾",female_detective:"ðµï¸&zwj;âï¸",ferris_wheel:"ð¡",ferry:"â´",field_hockey:"ð",file_cabinet:"ð",file_folder:"ð",film_projector:"ð½",film_strip:"ð",fire:"ð¥",fire_engine:"ð",fireworks:"ð",first_quarter_moon:"ð",first_quarter_moon_with_face:"ð",fish:"ð",fish_cake:"ð¥",fishing_pole_and_fish:"ð£",fist_raised:"â",fist_left:"ð¤",fist_right:"ð¤",flags:"ð",flashlight:"ð¦",fleur_de_lis:"âï¸",flight_arrival:"ð¬",flight_departure:"ð«",floppy_disk:"ð¾",flower_playing_cards:"ð´",flushed:"ð³",fog:"ð«",foggy:"ð",football:"ð",footprints:"ð£",fork_and_knife:"ð´",fountain:"â²ï¸",fountain_pen:"ð",four_leaf_clover:"ð",fox_face:"ð¦",framed_picture:"ð¼",free:"ð",fried_egg:"ð³",fried_shrimp:"ð¤",fries:"ð",frog:"ð¸",frowning:"ð¦",frowning_face:"â¹ï¸",frowning_man:"ð&zwj;âï¸",frowning_woman:"ð",middle_finger:"ð",fuelpump:"â½ï¸",full_moon:"ð",full_moon_with_face:"ð",funeral_urn:"â±ï¸",game_die:"ð²",gear:"âï¸",gem:"ð",gemini:"âï¸",ghost:"ð»",gift:"ð",gift_heart:"ð",girl:"ð§",globe_with_meridians:"ð",goal_net:"ð¥",goat:"ð",golf:"â³ï¸",golfing_man:"ðï¸",golfing_woman:"ðï¸&zwj;âï¸",gorilla:"ð¦",grapes:"ð",green_apple:"ð",green_book:"ð",green_heart:"ð",green_salad:"ð¥",grey_exclamation:"â",grey_question:"â",grimacing:"ð¬",grin:"ð",grinning:"ð",guardsman:"ð",guardswoman:"ð&zwj;âï¸",guitar:"ð¸",gun:"ð«",haircut_woman:"ð",haircut_man:"ð&zwj;âï¸",hamburger:"ð",hammer:"ð¨",hammer_and_pick:"â",hammer_and_wrench:"ð ",hamster:"ð¹",hand:"â",handbag:"ð",handshake:"ð¤",hankey:"ð©",hatched_chick:"ð¥",hatching_chick:"ð£",headphones:"ð§",hear_no_evil:"ð",heart:"â¤ï¸",heart_decoration:"ð",heart_eyes:"ð",heart_eyes_cat:"ð»",heartbeat:"ð",heartpulse:"ð",hearts:"â¥ï¸",heavy_check_mark:"âï¸",heavy_division_sign:"â",heavy_dollar_sign:"ð²",heavy_heart_exclamation:"â£ï¸",heavy_minus_sign:"â",heavy_multiplication_x:"âï¸",heavy_plus_sign:"â",helicopter:"ð",herb:"ð¿",hibiscus:"ðº",high_brightness:"ð",high_heel:"ð ",hocho:"ðª",hole:"ð³",honey_pot:"ð¯",horse:"ð´",horse_racing:"ð",hospital:"ð¥",hot_pepper:"ð¶",hotdog:"ð­",hotel:"ð¨",hotsprings:"â¨ï¸",hourglass:"âï¸",hourglass_flowing_sand:"â³",house:"ð ",house_with_garden:"ð¡",houses:"ð",hugs:"ð¤",hushed:"ð¯",ice_cream:"ð¨",ice_hockey:"ð",ice_skate:"â¸",icecream:"ð¦",id:"ð",ideograph_advantage:"ð",imp:"ð¿",inbox_tray:"ð¥",incoming_envelope:"ð¨",tipping_hand_woman:"ð",information_source:"â¹ï¸",innocent:"ð",interrobang:"âï¸",iphone:"ð±",izakaya_lantern:"ð®",jack_o_lantern:"ð",japan:"ð¾",japanese_castle:"ð¯",japanese_goblin:"ðº",japanese_ogre:"ð¹",jeans:"ð",joy:"ð",joy_cat:"ð¹",joystick:"ð¹",kaaba:"ð",key:"ð",keyboard:"â¨ï¸",keycap_ten:"ð",kick_scooter:"ð´",kimono:"ð",kiss:"ð",kissing:"ð",kissing_cat:"ð½",kissing_closed_eyes:"ð",kissing_heart:"ð",kissing_smiling_eyes:"ð",kiwi_fruit:"ð¥",koala:"ð¨",koko:"ð",label:"ð·",large_blue_circle:"ðµ",large_blue_diamond:"ð·",large_orange_diamond:"ð¶",last_quarter_moon:"ð",last_quarter_moon_with_face:"ð",latin_cross:"âï¸",laughing:"ð",leaves:"ð",ledger:"ð",left_luggage:"ð",left_right_arrow:"âï¸",leftwards_arrow_with_hook:"â©ï¸",lemon:"ð",leo:"âï¸",leopard:"ð",level_slider:"ð",libra:"âï¸",light_rail:"ð",link:"ð",lion:"ð¦",lips:"ð",lipstick:"ð",lizard:"ð¦",lock:"ð",lock_with_ink_pen:"ð",lollipop:"ð­",loop:"â¿",loud_sound:"ð",loudspeaker:"ð¢",love_hotel:"ð©",love_letter:"ð",low_brightness:"ð",lying_face:"ð¤¥",m:"âï¸",mag:"ð",mag_right:"ð",mahjong:"ðï¸",mailbox:"ð«",mailbox_closed:"ðª",mailbox_with_mail:"ð¬",mailbox_with_no_mail:"ð­",man:"ð¨",man_artist:"ð¨&zwj;ð¨",man_astronaut:"ð¨&zwj;ð",man_cartwheeling:"ð¤¸&zwj;âï¸",man_cook:"ð¨&zwj;ð³",man_dancing:"ðº",man_facepalming:"ð¤¦&zwj;âï¸",man_factory_worker:"ð¨&zwj;ð­",man_farmer:"ð¨&zwj;ð¾",man_firefighter:"ð¨&zwj;ð",man_health_worker:"ð¨&zwj;âï¸",man_in_tuxedo:"ð¤µ",man_judge:"ð¨&zwj;âï¸",man_juggling:"ð¤¹&zwj;âï¸",man_mechanic:"ð¨&zwj;ð§",man_office_worker:"ð¨&zwj;ð¼",man_pilot:"ð¨&zwj;âï¸",man_playing_handball:"ð¤¾&zwj;âï¸",man_playing_water_polo:"ð¤½&zwj;âï¸",man_scientist:"ð¨&zwj;ð¬",man_shrugging:"ð¤·&zwj;âï¸",man_singer:"ð¨&zwj;ð¤",man_student:"ð¨&zwj;ð",man_teacher:"ð¨&zwj;ð«",man_technologist:"ð¨&zwj;ð»",man_with_gua_pi_mao:"ð²",man_with_turban:"ð³",tangerine:"ð",mans_shoe:"ð",mantelpiece_clock:"ð°",maple_leaf:"ð",martial_arts_uniform:"ð¥",mask:"ð·",massage_woman:"ð",massage_man:"ð&zwj;âï¸",meat_on_bone:"ð",medal_military:"ð",medal_sports:"ð",mega:"ð£",melon:"ð",memo:"ð",men_wrestling:"ð¤¼&zwj;âï¸",menorah:"ð",mens:"ð¹",metal:"ð¤",metro:"ð",microphone:"ð¤",microscope:"ð¬",milk_glass:"ð¥",milky_way:"ð",minibus:"ð",minidisc:"ð½",mobile_phone_off:"ð´",money_mouth_face:"ð¤",money_with_wings:"ð¸",moneybag:"ð°",monkey:"ð",monkey_face:"ðµ",monorail:"ð",moon:"ð",mortar_board:"ð",mosque:"ð",motor_boat:"ð¥",motor_scooter:"ðµ",motorcycle:"ð",motorway:"ð£",mount_fuji:"ð»",mountain:"â°",mountain_biking_man:"ðµ",mountain_biking_woman:"ðµ&zwj;âï¸",mountain_cableway:"ð ",mountain_railway:"ð",mountain_snow:"ð",mouse:"ð­",mouse2:"ð",movie_camera:"ð¥",moyai:"ð¿",mrs_claus:"ð¤¶",muscle:"ðª",mushroom:"ð",musical_keyboard:"ð¹",musical_note:"ðµ",musical_score:"ð¼",mute:"ð",nail_care:"ð",name_badge:"ð",national_park:"ð",nauseated_face:"ð¤¢",necktie:"ð",negative_squared_cross_mark:"â",nerd_face:"ð¤",neutral_face:"ð",new:"ð",new_moon:"ð",new_moon_with_face:"ð",newspaper:"ð°",newspaper_roll:"ð",next_track_button:"â­",ng:"ð",no_good_man:"ð&zwj;âï¸",no_good_woman:"ð",night_with_stars:"ð",no_bell:"ð",no_bicycles:"ð³",no_entry:"âï¸",no_entry_sign:"ð«",no_mobile_phones:"ðµ",no_mouth:"ð¶",no_pedestrians:"ð·",no_smoking:"ð­","non-potable_water":"ð±",nose:"ð",notebook:"ð",notebook_with_decorative_cover:"ð",notes:"ð¶",nut_and_bolt:"ð©",o:"â­ï¸",o2:"ð¾ï¸",ocean:"ð",octopus:"ð",oden:"ð¢",office:"ð¢",oil_drum:"ð¢",ok:"ð",ok_hand:"ð",ok_man:"ð&zwj;âï¸",ok_woman:"ð",old_key:"ð",older_man:"ð´",older_woman:"ðµ",om:"ð",on:"ð",oncoming_automobile:"ð",oncoming_bus:"ð",oncoming_police_car:"ð",oncoming_taxi:"ð",open_file_folder:"ð",open_hands:"ð",open_mouth:"ð®",open_umbrella:"âï¸",ophiuchus:"â",orange_book:"ð",orthodox_cross:"â¦ï¸",outbox_tray:"ð¤",owl:"ð¦",ox:"ð",package:"ð¦",page_facing_up:"ð",page_with_curl:"ð",pager:"ð",paintbrush:"ð",palm_tree:"ð´",pancakes:"ð¥",panda_face:"ð¼",paperclip:"ð",paperclips:"ð",parasol_on_ground:"â±",parking:"ð¿ï¸",part_alternation_mark:"ã½ï¸",partly_sunny:"âï¸",passenger_ship:"ð³",passport_control:"ð",pause_button:"â¸",peace_symbol:"â®ï¸",peach:"ð",peanuts:"ð¥",pear:"ð",pen:"ð",pencil2:"âï¸",penguin:"ð§",pensive:"ð",performing_arts:"ð­",persevere:"ð£",person_fencing:"ð¤º",pouting_woman:"ð",phone:"âï¸",pick:"â",pig:"ð·",pig2:"ð",pig_nose:"ð½",pill:"ð",pineapple:"ð",ping_pong:"ð",pisces:"âï¸",pizza:"ð",place_of_worship:"ð",plate_with_cutlery:"ð½",play_or_pause_button:"â¯",point_down:"ð",point_left:"ð",point_right:"ð",point_up:"âï¸",point_up_2:"ð",police_car:"ð",policewoman:"ð®&zwj;âï¸",poodle:"ð©",popcorn:"ð¿",post_office:"ð£",postal_horn:"ð¯",postbox:"ð®",potable_water:"ð°",potato:"ð¥",pouch:"ð",poultry_leg:"ð",pound:"ð·",rage:"ð¡",pouting_cat:"ð¾",pouting_man:"ð&zwj;âï¸",pray:"ð",prayer_beads:"ð¿",pregnant_woman:"ð¤°",previous_track_button:"â®",prince:"ð¤´",princess:"ð¸",printer:"ð¨",purple_heart:"ð",purse:"ð",pushpin:"ð",put_litter_in_its_place:"ð®",question:"â",rabbit:"ð°",rabbit2:"ð",racehorse:"ð",racing_car:"ð",radio:"ð»",radio_button:"ð",radioactive:"â¢ï¸",railway_car:"ð",railway_track:"ð¤",rainbow:"ð",rainbow_flag:"ð³ï¸&zwj;ð",raised_back_of_hand:"ð¤",raised_hand_with_fingers_splayed:"ð",raised_hands:"ð",raising_hand_woman:"ð",raising_hand_man:"ð&zwj;âï¸",ram:"ð",ramen:"ð",rat:"ð",record_button:"âº",recycle:"â»ï¸",red_circle:"ð´",registered:"Â®ï¸",relaxed:"âºï¸",relieved:"ð",reminder_ribbon:"ð",repeat:"ð",repeat_one:"ð",rescue_worker_helmet:"â",restroom:"ð»",revolving_hearts:"ð",rewind:"âª",rhinoceros:"ð¦",ribbon:"ð",rice:"ð",rice_ball:"ð",rice_cracker:"ð",rice_scene:"ð",right_anger_bubble:"ð¯",ring:"ð",robot:"ð¤",rocket:"ð",rofl:"ð¤£",roll_eyes:"ð",roller_coaster:"ð¢",rooster:"ð",rose:"ð¹",rosette:"ðµ",rotating_light:"ð¨",round_pushpin:"ð",rowing_man:"ð£",rowing_woman:"ð£&zwj;âï¸",rugby_football:"ð",running_man:"ð",running_shirt_with_sash:"ð½",running_woman:"ð&zwj;âï¸",sa:"ðï¸",sagittarius:"âï¸",sake:"ð¶",sandal:"ð¡",santa:"ð",satellite:"ð¡",saxophone:"ð·",school:"ð«",school_satchel:"ð",scissors:"âï¸",scorpion:"ð¦",scorpius:"âï¸",scream:"ð±",scream_cat:"ð",scroll:"ð",seat:"ðº",secret:"ãï¸",see_no_evil:"ð",seedling:"ð±",selfie:"ð¤³",shallow_pan_of_food:"ð¥",shamrock:"âï¸",shark:"ð¦",shaved_ice:"ð§",sheep:"ð",shell:"ð",shield:"ð¡",shinto_shrine:"â©",ship:"ð¢",shirt:"ð",shopping:"ð",shopping_cart:"ð",shower:"ð¿",shrimp:"ð¦",signal_strength:"ð¶",six_pointed_star:"ð¯",ski:"ð¿",skier:"â·",skull:"ð",skull_and_crossbones:"â ï¸",sleeping:"ð´",sleeping_bed:"ð",sleepy:"ðª",slightly_frowning_face:"ð",slightly_smiling_face:"ð",slot_machine:"ð°",small_airplane:"ð©",small_blue_diamond:"ð¹",small_orange_diamond:"ð¸",small_red_triangle:"ðº",small_red_triangle_down:"ð»",smile:"ð",smile_cat:"ð¸",smiley:"ð",smiley_cat:"ðº",smiling_imp:"ð",smirk:"ð",smirk_cat:"ð¼",smoking:"ð¬",snail:"ð",snake:"ð",sneezing_face:"ð¤§",snowboarder:"ð",snowflake:"âï¸",snowman:"âï¸",snowman_with_snow:"âï¸",sob:"ð­",soccer:"â½ï¸",soon:"ð",sos:"ð",sound:"ð",space_invader:"ð¾",spades:"â ï¸",spaghetti:"ð",sparkle:"âï¸",sparkler:"ð",sparkles:"â¨",sparkling_heart:"ð",speak_no_evil:"ð",speaker:"ð",speaking_head:"ð£",speech_balloon:"ð¬",speedboat:"ð¤",spider:"ð·",spider_web:"ð¸",spiral_calendar:"ð",spiral_notepad:"ð",spoon:"ð¥",squid:"ð¦",stadium:"ð",star:"â­ï¸",star2:"ð",star_and_crescent:"âªï¸",star_of_david:"â¡ï¸",stars:"ð ",station:"ð",statue_of_liberty:"ð½",steam_locomotive:"ð",stew:"ð²",stop_button:"â¹",stop_sign:"ð",stopwatch:"â±",straight_ruler:"ð",strawberry:"ð",stuck_out_tongue:"ð",stuck_out_tongue_closed_eyes:"ð",stuck_out_tongue_winking_eye:"ð",studio_microphone:"ð",stuffed_flatbread:"ð¥",sun_behind_large_cloud:"ð¥",sun_behind_rain_cloud:"ð¦",sun_behind_small_cloud:"ð¤",sun_with_face:"ð",sunflower:"ð»",sunglasses:"ð",sunny:"âï¸",sunrise:"ð",sunrise_over_mountains:"ð",surfing_man:"ð",surfing_woman:"ð&zwj;âï¸",sushi:"ð£",suspension_railway:"ð",sweat:"ð",sweat_drops:"ð¦",sweat_smile:"ð",sweet_potato:"ð ",swimming_man:"ð",swimming_woman:"ð&zwj;âï¸",symbols:"ð£",synagogue:"ð",syringe:"ð",taco:"ð®",tada:"ð",tanabata_tree:"ð",taurus:"âï¸",taxi:"ð",tea:"ðµ",telephone_receiver:"ð",telescope:"ð­",tennis:"ð¾",tent:"âºï¸",thermometer:"ð¡",thinking:"ð¤",thought_balloon:"ð­",ticket:"ð«",tickets:"ð",tiger:"ð¯",tiger2:"ð",timer_clock:"â²",tipping_hand_man:"ð&zwj;âï¸",tired_face:"ð«",tm:"â¢ï¸",toilet:"ð½",tokyo_tower:"ð¼",tomato:"ð",tongue:"ð",top:"ð",tophat:"ð©",tornado:"ðª",trackball:"ð²",tractor:"ð",traffic_light:"ð¥",train:"ð",train2:"ð",tram:"ð",triangular_flag_on_post:"ð©",triangular_ruler:"ð",trident:"ð±",triumph:"ð¤",trolleybus:"ð",trophy:"ð",tropical_drink:"ð¹",tropical_fish:"ð ",truck:"ð",trumpet:"ðº",tulip:"ð·",tumbler_glass:"ð¥",turkey:"ð¦",turtle:"ð¢",tv:"ðº",twisted_rightwards_arrows:"ð",two_hearts:"ð",two_men_holding_hands:"ð¬",two_women_holding_hands:"ð­",u5272:"ð¹",u5408:"ð´",u55b6:"ðº",u6307:"ð¯ï¸",u6708:"ð·ï¸",u6709:"ð¶",u6e80:"ðµ",u7121:"ðï¸",u7533:"ð¸",u7981:"ð²",u7a7a:"ð³",umbrella:"âï¸",unamused:"ð",underage:"ð",unicorn:"ð¦",unlock:"ð",up:"ð",upside_down_face:"ð",v:"âï¸",vertical_traffic_light:"ð¦",vhs:"ð¼",vibration_mode:"ð³",video_camera:"ð¹",video_game:"ð®",violin:"ð»",virgo:"âï¸",volcano:"ð",volleyball:"ð",vs:"ð",vulcan_salute:"ð",walking_man:"ð¶",walking_woman:"ð¶&zwj;âï¸",waning_crescent_moon:"ð",waning_gibbous_moon:"ð",warning:"â ï¸",wastebasket:"ð",watch:"âï¸",water_buffalo:"ð",watermelon:"ð",wave:"ð",wavy_dash:"ã°ï¸",waxing_crescent_moon:"ð",wc:"ð¾",weary:"ð©",wedding:"ð",weight_lifting_man:"ðï¸",weight_lifting_woman:"ðï¸&zwj;âï¸",whale:"ð³",whale2:"ð",wheel_of_dharma:"â¸ï¸",wheelchair:"â¿ï¸",white_check_mark:"â",white_circle:"âªï¸",white_flag:"ð³ï¸",white_flower:"ð®",white_large_square:"â¬ï¸",white_medium_small_square:"â½ï¸",white_medium_square:"â»ï¸",white_small_square:"â«ï¸",white_square_button:"ð³",wilted_flower:"ð¥",wind_chime:"ð",wind_face:"ð¬",wine_glass:"ð·",wink:"ð",wolf:"ðº",woman:"ð©",woman_artist:"ð©&zwj;ð¨",woman_astronaut:"ð©&zwj;ð",woman_cartwheeling:"ð¤¸&zwj;âï¸",woman_cook:"ð©&zwj;ð³",woman_facepalming:"ð¤¦&zwj;âï¸",woman_factory_worker:"ð©&zwj;ð­",woman_farmer:"ð©&zwj;ð¾",woman_firefighter:"ð©&zwj;ð",woman_health_worker:"ð©&zwj;âï¸",woman_judge:"ð©&zwj;âï¸",woman_juggling:"ð¤¹&zwj;âï¸",woman_mechanic:"ð©&zwj;ð§",woman_office_worker:"ð©&zwj;ð¼",woman_pilot:"ð©&zwj;âï¸",woman_playing_handball:"ð¤¾&zwj;âï¸",woman_playing_water_polo:"ð¤½&zwj;âï¸",woman_scientist:"ð©&zwj;ð¬",woman_shrugging:"ð¤·&zwj;âï¸",woman_singer:"ð©&zwj;ð¤",woman_student:"ð©&zwj;ð",woman_teacher:"ð©&zwj;ð«",woman_technologist:"ð©&zwj;ð»",woman_with_turban:"ð³&zwj;âï¸",womans_clothes:"ð",womans_hat:"ð",women_wrestling:"ð¤¼&zwj;âï¸",womens:"ðº",world_map:"ðº",worried:"ð",wrench:"ð§",writing_hand:"âï¸",x:"â",yellow_heart:"ð",yen:"ð´",yin_yang:"â¯ï¸",yum:"ð",zap:"â¡ï¸",zipper_mouth_face:"ð¤",zzz:"ð¤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},a.Converter=function(t){"use strict";var e={},n=[],i=[],r={},o=l,d={parsed:{},raw:"",format:""};function f(t,e){if(e=e||null,a.helper.isString(t)){if(e=t=a.helper.stdExtName(t),a.extensions[t])return console.warn("DEPRECATION WARNING: "+t+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(t,e){"function"==typeof t&&(t=t(new a.Converter));a.helper.isArray(t)||(t=[t]);var r=h(t,e);if(!r.valid)throw Error(r.error);for(var o=0;o<t.length;++o)switch(t[o].type){case"lang":n.push(t[o]);break;case"output":i.push(t[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(a.extensions[t],t);if(a.helper.isUndefined(s[t]))throw Error('Extension "'+t+'" could not be loaded. It was either not found or is not a valid extension.');t=s[t]}"function"==typeof t&&(t=t()),a.helper.isArray(t)||(t=[t]);var r=h(t,e);if(!r.valid)throw Error(r.error);for(var o=0;o<t.length;++o){switch(t[o].type){case"lang":n.push(t[o]);break;case"output":i.push(t[o])}if(t[o].hasOwnProperty("listeners"))for(var c in t[o].listeners)t[o].listeners.hasOwnProperty(c)&&p(c,t[o].listeners[c])}}function p(t,e){if(!a.helper.isString(t))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof t+" given");if("function"!=typeof e)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof e+" given");r.hasOwnProperty(t)||(r[t]=[]),r[t].push(e)}!function(){for(var n in t=t||{},c)c.hasOwnProperty(n)&&(e[n]=c[n]);if("object"!=typeof t)throw Error("Converter expects the passed parameter to be an object, but "+typeof t+" was passed instead.");for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.extensions&&a.helper.forEach(e.extensions,f)}(),this._dispatch=function(t,e,n,i){if(r.hasOwnProperty(t))for(var a=0;a<r[t].length;++a){var o=r[t][a](t,e,this,n,i);o&&void 0!==o&&(e=o)}return e},this.listen=function(t,e){return p(t,e),this},this.makeHtml=function(t){if(!t)return t;var r={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:n,outputModifiers:i,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return t=(t=(t=(t=(t=t.replace(/Â¨/g,"Â¨T")).replace(/\$/g,"Â¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),e.smartIndentationFix&&(t=function(t){var e=t.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+e+"}","gm");return t.replace(n,"")}(t)),t="\n\n"+t+"\n\n",t=(t=a.subParser("detab")(t,e,r)).replace(/^[ \t]+$/gm,""),a.helper.forEach(n,(function(n){t=a.subParser("runExtension")(n,t,e,r)})),t=a.subParser("metadata")(t,e,r),t=a.subParser("hashPreCodeTags")(t,e,r),t=a.subParser("githubCodeBlocks")(t,e,r),t=a.subParser("hashHTMLBlocks")(t,e,r),t=a.subParser("hashCodeTags")(t,e,r),t=a.subParser("stripLinkDefinitions")(t,e,r),t=a.subParser("blockGamut")(t,e,r),t=a.subParser("unhashHTMLSpans")(t,e,r),t=(t=(t=a.subParser("unescapeSpecialChars")(t,e,r)).replace(/Â¨D/g,"$$")).replace(/Â¨T/g,"Â¨"),t=a.subParser("completeHTMLDocument")(t,e,r),a.helper.forEach(i,(function(n){t=a.subParser("runExtension")(n,t,e,r)})),d=r.metadata,t},this.makeMarkdown=this.makeMd=function(t,e){if(t=(t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">Â¨NBSP;<"),!e){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");e=window.document}var n=e.createElement("div");n.innerHTML=t;var i={preList:function(t){for(var e=t.querySelectorAll("pre"),n=[],i=0;i<e.length;++i)if(1===e[i].childElementCount&&"code"===e[i].firstChild.tagName.toLowerCase()){var r=e[i].firstChild.innerHTML.trim(),o=e[i].firstChild.getAttribute("data-language")||"";if(""===o)for(var s=e[i].firstChild.className.split(" "),c=0;c<s.length;++c){var l=s[c].match(/^language-(.+)$/);if(null!==l){o=l[1];break}}r=a.helper.unescapeHTMLEntities(r),n.push(r),e[i].outerHTML='<precode language="'+o+'" precodenum="'+i.toString()+'"></precode>'}else n.push(e[i].innerHTML),e[i].innerHTML="",e[i].setAttribute("prenum",i.toString());return n}(n)};!function t(e){for(var n=0;n<e.childNodes.length;++n){var i=e.childNodes[n];3===i.nodeType?/\S/.test(i.nodeValue)?(i.nodeValue=i.nodeValue.split("\n").join(" "),i.nodeValue=i.nodeValue.replace(/(\s)+/g,"$1")):(e.removeChild(i),--n):1===i.nodeType&&t(i)}}(n);for(var r=n.childNodes,o="",s=0;s<r.length;s++)o+=a.subParser("makeMarkdown.node")(r[s],i);return o},this.setOption=function(t,n){e[t]=n},this.getOption=function(t){return e[t]},this.getOptions=function(){return e},this.addExtension=function(t,e){f(t,e=e||null)},this.useExtension=function(t){f(t)},this.setFlavor=function(t){if(!u.hasOwnProperty(t))throw Error(t+" flavor was not found");var n=u[t];for(var i in o=t,n)n.hasOwnProperty(i)&&(e[i]=n[i])},this.getFlavor=function(){return o},this.removeExtension=function(t){a.helper.isArray(t)||(t=[t]);for(var e=0;e<t.length;++e){for(var r=t[e],o=0;o<n.length;++o)n[o]===r&&n[o].splice(o,1);for(;0<i.length;++o)i[0]===r&&i[0].splice(o,1)}},this.getAllExtensions=function(){return{language:n,output:i}},this.getMetadata=function(t){return t?d.raw:d.parsed},this.getMetadataFormat=function(){return d.format},this._setMetadataPair=function(t,e){d.parsed[t]=e},this._setMetadataFormat=function(t){d.format=t},this._setMetadataRaw=function(t){d.raw=t}},a.subParser("anchors",(function(t,e,n){"use strict";var i=function(t,i,r,o,s,c,l){if(a.helper.isUndefined(l)&&(l=""),r=r.toLowerCase(),t.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(!o){if(r||(r=i.toLowerCase().replace(/ ?\n/g," ")),o="#"+r,a.helper.isUndefined(n.gUrls[r]))return t;o=n.gUrls[r],a.helper.isUndefined(n.gTitles[r])||(l=n.gTitles[r])}var u='<a href="'+(o=o.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback))+'"';return""!==l&&null!==l&&(u+=' title="'+(l=(l=l.replace(/"/g,"&quot;")).replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback))+'"'),e.openLinksInNewWindow&&!/^#/.test(o)&&(u+=' rel="noopener noreferrer" target="Â¨E95Eblank"'),u+=">"+i+"</a>"};return t=(t=(t=(t=(t=n.converter._dispatch("anchors.before",t,e,n)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,i)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,i)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,i)).replace(/\[([^\[\]]+)]()()()()()/g,i),e.ghMentions&&(t=t.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(t,n,i,r,o){if("\\"===i)return n+r;if(!a.helper.isString(e.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var s=e.ghMentionsLink.replace(/\{u}/g,o),c="";return e.openLinksInNewWindow&&(c=' rel="noopener noreferrer" target="Â¨E95Eblank"'),n+'<a href="'+s+'"'+c+">"+r+"</a>"}))),t=n.converter._dispatch("anchors.after",t,e,n)}));var p=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,g=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,m=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,v=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,y=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,b=function(t){"use strict";return function(e,n,i,r,o,s,c){var l=i=i.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback),u="",h="",d=n||"",f=c||"";return/^www\./i.test(i)&&(i=i.replace(/^www\./i,"http://www.")),t.excludeTrailingPunctuationFromURLs&&s&&(u=s),t.openLinksInNewWindow&&(h=' rel="noopener noreferrer" target="Â¨E95Eblank"'),d+'<a href="'+i+'"'+h+">"+l+"</a>"+u+f}},w=function(t,e){"use strict";return function(n,i,r){var o="mailto:";return i=i||"",r=a.subParser("unescapeSpecialChars")(r,t,e),t.encodeEmails?(o=a.helper.encodeEmailAddress(o+r),r=a.helper.encodeEmailAddress(r)):o+=r,i+'<a href="'+o+'">'+r+"</a>"}};a.subParser("autoLinks",(function(t,e,n){"use strict";return t=(t=(t=n.converter._dispatch("autoLinks.before",t,e,n)).replace(m,b(e))).replace(y,w(e,n)),t=n.converter._dispatch("autoLinks.after",t,e,n)})),a.subParser("simplifiedAutoLinks",(function(t,e,n){"use strict";return e.simplifiedAutoLink?(t=n.converter._dispatch("simplifiedAutoLinks.before",t,e,n),t=(t=e.excludeTrailingPunctuationFromURLs?t.replace(g,b(e)):t.replace(p,b(e))).replace(v,w(e,n)),t=n.converter._dispatch("simplifiedAutoLinks.after",t,e,n)):t})),a.subParser("blockGamut",(function(t,e,n){"use strict";return t=n.converter._dispatch("blockGamut.before",t,e,n),t=a.subParser("blockQuotes")(t,e,n),t=a.subParser("headers")(t,e,n),t=a.subParser("horizontalRule")(t,e,n),t=a.subParser("lists")(t,e,n),t=a.subParser("codeBlocks")(t,e,n),t=a.subParser("tables")(t,e,n),t=a.subParser("hashHTMLBlocks")(t,e,n),t=a.subParser("paragraphs")(t,e,n),t=n.converter._dispatch("blockGamut.after",t,e,n)})),a.subParser("blockQuotes",(function(t,e,n){"use strict";t=n.converter._dispatch("blockQuotes.before",t,e,n),t+="\n\n";var i=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return e.splitAdjacentBlockquotes&&(i=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),t=t.replace(i,(function(t){return t=(t=(t=t.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/Â¨0/g,"")).replace(/^[ \t]+$/gm,""),t=a.subParser("githubCodeBlocks")(t,e,n),t=(t=(t=a.subParser("blockGamut")(t,e,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(t,e){var n=e;return n=(n=n.replace(/^  /gm,"Â¨0")).replace(/Â¨0/g,"")})),a.subParser("hashBlock")("<blockquote>\n"+t+"\n</blockquote>",e,n)})),t=n.converter._dispatch("blockQuotes.after",t,e,n)})),a.subParser("codeBlocks",(function(t,e,n){"use strict";t=n.converter._dispatch("codeBlocks.before",t,e,n);return t=(t=(t+="Â¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=Â¨0))/g,(function(t,i,r){var o=i,s=r,c="\n";return o=a.subParser("outdent")(o,e,n),o=a.subParser("encodeCode")(o,e,n),o=(o=(o=a.subParser("detab")(o,e,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""),e.omitExtraWLInCodeBlocks&&(c=""),o="<pre><code>"+o+c+"</code></pre>",a.subParser("hashBlock")(o,e,n)+s}))).replace(/Â¨0/,""),t=n.converter._dispatch("codeBlocks.after",t,e,n)})),a.subParser("codeSpans",(function(t,e,n){"use strict";return void 0===(t=n.converter._dispatch("codeSpans.before",t,e,n))&&(t=""),t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(t,i,r,o){var s=o;return s=(s=s.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),s=i+"<code>"+(s=a.subParser("encodeCode")(s,e,n))+"</code>",s=a.subParser("hashHTMLSpans")(s,e,n)})),t=n.converter._dispatch("codeSpans.after",t,e,n)})),a.subParser("completeHTMLDocument",(function(t,e,n){"use strict";if(!e.completeHTMLDocument)return t;t=n.converter._dispatch("completeHTMLDocument.before",t,e,n);var i="html",r="<!DOCTYPE HTML>\n",a="",o='<meta charset="utf-8">\n',s="",c="";for(var l in void 0!==n.metadata.parsed.doctype&&(r="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(i=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==i||(o='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(l))switch(l.toLowerCase()){case"doctype":break;case"title":a="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":o="html"===i||"html5"===i?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":s=' lang="'+n.metadata.parsed[l]+'"',c+='<meta name="'+l+'" content="'+n.metadata.parsed[l]+'">\n';break;default:c+='<meta name="'+l+'" content="'+n.metadata.parsed[l]+'">\n'}return t=r+"<html"+s+">\n<head>\n"+a+o+c+"</head>\n<body>\n"+t.trim()+"\n</body>\n</html>",t=n.converter._dispatch("completeHTMLDocument.after",t,e,n)})),a.subParser("detab",(function(t,e,n){"use strict";return t=(t=(t=(t=(t=(t=n.converter._dispatch("detab.before",t,e,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"Â¨AÂ¨B")).replace(/Â¨B(.+?)Â¨A/g,(function(t,e){for(var n=e,i=4-n.length%4,r=0;r<i;r++)n+=" ";return n}))).replace(/Â¨A/g,"    ")).replace(/Â¨B/g,""),t=n.converter._dispatch("detab.after",t,e,n)})),a.subParser("ellipsis",(function(t,e,n){"use strict";return t=(t=n.converter._dispatch("ellipsis.before",t,e,n)).replace(/\.\.\./g,"â¦"),t=n.converter._dispatch("ellipsis.after",t,e,n)})),a.subParser("emoji",(function(t,e,n){"use strict";if(!e.emoji)return t;return t=(t=n.converter._dispatch("emoji.before",t,e,n)).replace(/:([\S]+?):/g,(function(t,e){return a.helper.emojis.hasOwnProperty(e)?a.helper.emojis[e]:t})),t=n.converter._dispatch("emoji.after",t,e,n)})),a.subParser("encodeAmpsAndAngles",(function(t,e,n){"use strict";return t=(t=(t=(t=(t=n.converter._dispatch("encodeAmpsAndAngles.before",t,e,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),t=n.converter._dispatch("encodeAmpsAndAngles.after",t,e,n)})),a.subParser("encodeBackslashEscapes",(function(t,e,n){"use strict";return t=(t=(t=n.converter._dispatch("encodeBackslashEscapes.before",t,e,n)).replace(/\\(\\)/g,a.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,a.helper.escapeCharactersCallback),t=n.converter._dispatch("encodeBackslashEscapes.after",t,e,n)})),a.subParser("encodeCode",(function(t,e,n){"use strict";return t=(t=n.converter._dispatch("encodeCode.before",t,e,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,a.helper.escapeCharactersCallback),t=n.converter._dispatch("encodeCode.after",t,e,n)})),a.subParser("escapeSpecialCharsWithinTagAttributes",(function(t,e,n){"use strict";return t=(t=(t=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",t,e,n)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(t){return t.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,a.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(t){return t.replace(/([\\`*_~=|])/g,a.helper.escapeCharactersCallback)})),t=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",t,e,n)})),a.subParser("githubCodeBlocks",(function(t,e,n){"use strict";return e.ghCodeBlocks?(t=n.converter._dispatch("githubCodeBlocks.before",t,e,n),t=(t=(t+="Â¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(t,i,r,o){var s=e.omitExtraWLInCodeBlocks?"":"\n";return o=a.subParser("encodeCode")(o,e,n),o="<pre><code"+(r?' class="'+r+" language-"+r+'"':"")+">"+(o=(o=(o=a.subParser("detab")(o,e,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+s+"</code></pre>",o=a.subParser("hashBlock")(o,e,n),"\n\nÂ¨G"+(n.ghCodeBlocks.push({text:t,codeblock:o})-1)+"G\n\n"}))).replace(/Â¨0/,""),n.converter._dispatch("githubCodeBlocks.after",t,e,n)):t})),a.subParser("hashBlock",(function(t,e,n){"use strict";return t=(t=n.converter._dispatch("hashBlock.before",t,e,n)).replace(/(^\n+|\n+$)/g,""),t="\n\nÂ¨K"+(n.gHtmlBlocks.push(t)-1)+"K\n\n",t=n.converter._dispatch("hashBlock.after",t,e,n)})),a.subParser("hashCodeTags",(function(t,e,n){"use strict";t=n.converter._dispatch("hashCodeTags.before",t,e,n);return t=a.helper.replaceRecursiveRegExp(t,(function(t,i,r,o){var s=r+a.subParser("encodeCode")(i,e,n)+o;return"Â¨C"+(n.gHtmlSpans.push(s)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),t=n.converter._dispatch("hashCodeTags.after",t,e,n)})),a.subParser("hashElement",(function(t,e,n){"use strict";return function(t,e){var i=e;return i=(i=(i=i.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),i="\n\nÂ¨K"+(n.gHtmlBlocks.push(i)-1)+"K\n\n"}})),a.subParser("hashHTMLBlocks",(function(t,e,n){"use strict";t=n.converter._dispatch("hashHTMLBlocks.before",t,e,n);var i=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],r=function(t,e,i,r){var a=t;return-1!==i.search(/\bmarkdown\b/)&&(a=i+n.converter.makeHtml(e)+r),"\n\nÂ¨K"+(n.gHtmlBlocks.push(a)-1)+"K\n\n"};e.backslashEscapesHTMLTags&&(t=t.replace(/\\<(\/?[^>]+?)>/g,(function(t,e){return"&lt;"+e+"&gt;"})));for(var o=0;o<i.length;++o)for(var s,c=new RegExp("^ {0,3}(<"+i[o]+"\\b[^>]*>)","im"),l="<"+i[o]+"\\b[^>]*>",u="</"+i[o]+">";-1!==(s=a.helper.regexIndexOf(t,c));){var h=a.helper.splitAtIndex(t,s),d=a.helper.replaceRecursiveRegExp(h[1],r,l,u,"im");if(d===h[1])break;t=h[0].concat(d)}return t=t.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,a.subParser("hashElement")(t,e,n)),t=(t=a.helper.replaceRecursiveRegExp(t,(function(t){return"\n\nÂ¨K"+(n.gHtmlBlocks.push(t)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,a.subParser("hashElement")(t,e,n)),t=n.converter._dispatch("hashHTMLBlocks.after",t,e,n)})),a.subParser("hashHTMLSpans",(function(t,e,n){"use strict";function i(t){return"Â¨C"+(n.gHtmlSpans.push(t)-1)+"C"}return t=(t=(t=(t=(t=n.converter._dispatch("hashHTMLSpans.before",t,e,n)).replace(/<[^>]+?\/>/gi,(function(t){return i(t)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(t){return i(t)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(t){return i(t)}))).replace(/<[^>]+?>/gi,(function(t){return i(t)})),t=n.converter._dispatch("hashHTMLSpans.after",t,e,n)})),a.subParser("unhashHTMLSpans",(function(t,e,n){"use strict";t=n.converter._dispatch("unhashHTMLSpans.before",t,e,n);for(var i=0;i<n.gHtmlSpans.length;++i){for(var r=n.gHtmlSpans[i],a=0;/Â¨C(\d+)C/.test(r);){var o=RegExp.$1;if(r=r.replace("Â¨C"+o+"C",n.gHtmlSpans[o]),10===a){console.error("maximum nesting of 10 spans reached!!!");break}++a}t=t.replace("Â¨C"+i+"C",r)}return t=n.converter._dispatch("unhashHTMLSpans.after",t,e,n)})),a.subParser("hashPreCodeTags",(function(t,e,n){"use strict";t=n.converter._dispatch("hashPreCodeTags.before",t,e,n);return t=a.helper.replaceRecursiveRegExp(t,(function(t,i,r,o){var s=r+a.subParser("encodeCode")(i,e,n)+o;return"\n\nÂ¨G"+(n.ghCodeBlocks.push({text:t,codeblock:s})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),t=n.converter._dispatch("hashPreCodeTags.after",t,e,n)})),a.subParser("headers",(function(t,e,n){"use strict";t=n.converter._dispatch("headers.before",t,e,n);var i=isNaN(parseInt(e.headerLevelStart))?1:parseInt(e.headerLevelStart),r=e.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,o=e.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;t=(t=t.replace(r,(function(t,r){var o=a.subParser("spanGamut")(r,e,n),s=e.noHeaderId?"":' id="'+c(r)+'"',l="<h"+i+s+">"+o+"</h"+i+">";return a.subParser("hashBlock")(l,e,n)}))).replace(o,(function(t,r){var o=a.subParser("spanGamut")(r,e,n),s=e.noHeaderId?"":' id="'+c(r)+'"',l=i+1,u="<h"+l+s+">"+o+"</h"+l+">";return a.subParser("hashBlock")(u,e,n)}));var s=e.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function c(t){var i,r;if(e.customizedHeaderId){var o=t.match(/\{([^{]+?)}\s*$/);o&&o[1]&&(t=o[1])}return i=t,r=a.helper.isString(e.prefixHeaderId)?e.prefixHeaderId:!0===e.prefixHeaderId?"section-":"",e.rawPrefixHeaderId||(i=r+i),i=e.ghCompatibleHeaderId?i.replace(/ /g,"-").replace(/&amp;/g,"").replace(/Â¨T/g,"").replace(/Â¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^Â¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():e.rawHeaderId?i.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/Â¨T/g,"Â¨").replace(/Â¨D/g,"$").replace(/["']/g,"-").toLowerCase():i.replace(/[^\w]/g,"").toLowerCase(),e.rawPrefixHeaderId&&(i=r+i),n.hashLinkCounts[i]?i=i+"-"+n.hashLinkCounts[i]++:n.hashLinkCounts[i]=1,i}return t=t.replace(s,(function(t,r,o){var s=o;e.customizedHeaderId&&(s=o.replace(/\s?\{([^{]+?)}\s*$/,""));var l=a.subParser("spanGamut")(s,e,n),u=e.noHeaderId?"":' id="'+c(o)+'"',h=i-1+r.length,d="<h"+h+u+">"+l+"</h"+h+">";return a.subParser("hashBlock")(d,e,n)})),t=n.converter._dispatch("headers.after",t,e,n)})),a.subParser("horizontalRule",(function(t,e,n){"use strict";t=n.converter._dispatch("horizontalRule.before",t,e,n);var i=a.subParser("hashBlock")("<hr />",e,n);return t=(t=(t=t.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,i)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,i)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,i),t=n.converter._dispatch("horizontalRule.after",t,e,n)})),a.subParser("images",(function(t,e,n){"use strict";function i(t,e,i,r,o,s,c,l){var u=n.gUrls,h=n.gTitles,d=n.gDimensions;if(i=i.toLowerCase(),l||(l=""),t.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)r="";else if(""===r||null===r){if(""!==i&&null!==i||(i=e.toLowerCase().replace(/ ?\n/g," ")),r="#"+i,a.helper.isUndefined(u[i]))return t;r=u[i],a.helper.isUndefined(h[i])||(l=h[i]),a.helper.isUndefined(d[i])||(o=d[i].width,s=d[i].height)}e=e.replace(/"/g,"&quot;").replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback);var f='<img src="'+(r=r.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback))+'" alt="'+e+'"';return l&&a.helper.isString(l)&&(f+=' title="'+(l=l.replace(/"/g,"&quot;").replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback))+'"'),o&&s&&(f+=' width="'+(o="*"===o?"auto":o)+'"',f+=' height="'+(s="*"===s?"auto":s)+'"'),f+=" />"}return t=(t=(t=(t=(t=(t=n.converter._dispatch("images.before",t,e,n)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,i)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(t,e,n,r,a,o,s,c){return i(t,e,n,r=r.replace(/\s/g,""),a,o,s,c)}))).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,i)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,i)).replace(/!\[([^\[\]]+)]()()()()()/g,i),t=n.converter._dispatch("images.after",t,e,n)})),a.subParser("italicsAndBold",(function(t,e,n){"use strict";function i(t,e,n){return e+t+n}return t=n.converter._dispatch("italicsAndBold.before",t,e,n),t=e.literalMidWordUnderscores?(t=(t=t.replace(/\b___(\S[\s\S]*?)___\b/g,(function(t,e){return i(e,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(t,e){return i(e,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(t,e){return i(e,"<em>","</em>")})):(t=(t=t.replace(/___(\S[\s\S]*?)___/g,(function(t,e){return/\S$/.test(e)?i(e,"<strong><em>","</em></strong>"):t}))).replace(/__(\S[\s\S]*?)__/g,(function(t,e){return/\S$/.test(e)?i(e,"<strong>","</strong>"):t}))).replace(/_([^\s_][\s\S]*?)_/g,(function(t,e){return/\S$/.test(e)?i(e,"<em>","</em>"):t})),t=e.literalMidWordAsterisks?(t=(t=t.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(t,e,n){return i(n,e+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(t,e,n){return i(n,e+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(t,e,n){return i(n,e+"<em>","</em>")})):(t=(t=t.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(t,e){return/\S$/.test(e)?i(e,"<strong><em>","</em></strong>"):t}))).replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(t,e){return/\S$/.test(e)?i(e,"<strong>","</strong>"):t}))).replace(/\*([^\s*][\s\S]*?)\*/g,(function(t,e){return/\S$/.test(e)?i(e,"<em>","</em>"):t})),t=n.converter._dispatch("italicsAndBold.after",t,e,n)})),a.subParser("lists",(function(t,e,n){"use strict";function i(t,i){n.gListLevel++,t=t.replace(/\n{2,}$/,"\n");var r=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(Â¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,o=/\n[ \t]*\n(?!Â¨0)/.test(t+="Â¨0");return e.disableForced4SpacesIndentedSublists&&(r=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(Â¨0|\2([*+-]|\d+[.])[ \t]+))/gm),t=(t=t.replace(r,(function(t,i,r,s,c,l,u){u=u&&""!==u.trim();var h=a.subParser("outdent")(c,e,n),d="";return l&&e.tasklists&&(d=' class="task-list-item" style="list-style-type: none;"',h=h.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var t='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(t+=" checked"),t+=">"}))),h=h.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(t){return"Â¨A"+t})),i||h.search(/\n{2,}/)>-1?(h=a.subParser("githubCodeBlocks")(h,e,n),h=a.subParser("blockGamut")(h,e,n)):(h=(h=a.subParser("lists")(h,e,n)).replace(/\n$/,""),h=(h=a.subParser("hashHTMLBlocks")(h,e,n)).replace(/\n\n+/g,"\n\n"),h=o?a.subParser("paragraphs")(h,e,n):a.subParser("spanGamut")(h,e,n)),h="<li"+d+">"+(h=h.replace("Â¨A",""))+"</li>\n"}))).replace(/Â¨0/g,""),n.gListLevel--,i&&(t=t.replace(/\s+$/,"")),t}function r(t,e){if("ol"===e){var n=t.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function o(t,n,a){var o=e.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,s=e.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,c="ul"===n?o:s,l="";if(-1!==t.search(c))!function e(u){var h=u.search(c),d=r(t,n);-1!==h?(l+="\n\n<"+n+d+">\n"+i(u.slice(0,h),!!a)+"</"+n+">\n",c="ul"===(n="ul"===n?"ol":"ul")?o:s,e(u.slice(h))):l+="\n\n<"+n+d+">\n"+i(u,!!a)+"</"+n+">\n"}(t);else{var u=r(t,n);l="\n\n<"+n+u+">\n"+i(t,!!a)+"</"+n+">\n"}return l}return t=n.converter._dispatch("lists.before",t,e,n),t+="Â¨0",t=(t=n.gListLevel?t.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(Â¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(t,e,n){return o(e,n.search(/[*+-]/g)>-1?"ul":"ol",!0)})):t.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(Â¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(t,e,n,i){return o(n,i.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/Â¨0/,""),t=n.converter._dispatch("lists.after",t,e,n)})),a.subParser("metadata",(function(t,e,n){"use strict";if(!e.metadata)return t;function i(t){n.metadata.raw=t,(t=(t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(t,e,i){return n.metadata.parsed[e]=i,""}))}return t=(t=(t=(t=n.converter._dispatch("metadata.before",t,e,n)).replace(/^\s*Â«Â«Â«+(\S*?)\n([\s\S]+?)\nÂ»Â»Â»+\n/,(function(t,e,n){return i(n),"Â¨M"}))).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(t,e,r){return e&&(n.metadata.format=e),i(r),"Â¨M"}))).replace(/Â¨M/g,""),t=n.converter._dispatch("metadata.after",t,e,n)})),a.subParser("outdent",(function(t,e,n){"use strict";return t=(t=(t=n.converter._dispatch("outdent.before",t,e,n)).replace(/^(\t|[ ]{1,4})/gm,"Â¨0")).replace(/Â¨0/g,""),t=n.converter._dispatch("outdent.after",t,e,n)})),a.subParser("paragraphs",(function(t,e,n){"use strict";for(var i=(t=(t=(t=n.converter._dispatch("paragraphs.before",t,e,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),r=[],o=i.length,s=0;s<o;s++){var c=i[s];c.search(/Â¨(K|G)(\d+)\1/g)>=0?r.push(c):c.search(/\S/)>=0&&(c=(c=a.subParser("spanGamut")(c,e,n)).replace(/^([ \t]*)/g,"<p>"),c+="</p>",r.push(c))}for(o=r.length,s=0;s<o;s++){for(var l="",u=r[s],h=!1;/Â¨(K|G)(\d+)\1/.test(u);){var d=RegExp.$1,f=RegExp.$2;l=(l="K"===d?n.gHtmlBlocks[f]:h?a.subParser("encodeCode")(n.ghCodeBlocks[f].text,e,n):n.ghCodeBlocks[f].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?Â¨(K|G)\d+\2(\n\n)?/,l),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(h=!0)}r[s]=u}return t=(t=(t=r.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",t,e,n)})),a.subParser("runExtension",(function(t,e,n,i){"use strict";if(t.filter)e=t.filter(e,i.converter,n);else if(t.regex){var r=t.regex;r instanceof RegExp||(r=new RegExp(r,"g")),e=e.replace(r,t.replace)}return e})),a.subParser("spanGamut",(function(t,e,n){"use strict";return t=n.converter._dispatch("spanGamut.before",t,e,n),t=a.subParser("codeSpans")(t,e,n),t=a.subParser("escapeSpecialCharsWithinTagAttributes")(t,e,n),t=a.subParser("encodeBackslashEscapes")(t,e,n),t=a.subParser("images")(t,e,n),t=a.subParser("anchors")(t,e,n),t=a.subParser("autoLinks")(t,e,n),t=a.subParser("simplifiedAutoLinks")(t,e,n),t=a.subParser("emoji")(t,e,n),t=a.subParser("underline")(t,e,n),t=a.subParser("italicsAndBold")(t,e,n),t=a.subParser("strikethrough")(t,e,n),t=a.subParser("ellipsis")(t,e,n),t=a.subParser("hashHTMLSpans")(t,e,n),t=a.subParser("encodeAmpsAndAngles")(t,e,n),e.simpleLineBreaks?/\n\nÂ¨K/.test(t)||(t=t.replace(/\n+/g,"<br />\n")):t=t.replace(/  +\n/g,"<br />\n"),t=n.converter._dispatch("spanGamut.after",t,e,n)})),a.subParser("strikethrough",(function(t,e,n){"use strict";return e.strikethrough&&(t=(t=n.converter._dispatch("strikethrough.before",t,e,n)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(t,i){return function(t){return e.simplifiedAutoLink&&(t=a.subParser("simplifiedAutoLinks")(t,e,n)),"<del>"+t+"</del>"}(i)})),t=n.converter._dispatch("strikethrough.after",t,e,n)),t})),a.subParser("stripLinkDefinitions",(function(t,e,n){"use strict";var i=function(t,i,r,o,s,c,l){return i=i.toLowerCase(),r.match(/^data:.+?\/.+?;base64,/)?n.gUrls[i]=r.replace(/\s/g,""):n.gUrls[i]=a.subParser("encodeAmpsAndAngles")(r,e,n),c?c+l:(l&&(n.gTitles[i]=l.replace(/"|'/g,"&quot;")),e.parseImgDimensions&&o&&s&&(n.gDimensions[i]={width:o,height:s}),"")};return t=(t=(t=(t+="Â¨0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=Â¨0)|(?=\n\[))/gm,i)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=Â¨0))/gm,i)).replace(/Â¨0/,"")})),a.subParser("tables",(function(t,e,n){"use strict";if(!e.tables)return t;function i(t,i){return"<td"+i+">"+a.subParser("spanGamut")(t,e,n)+"</td>\n"}function r(t){var r,o=t.split("\n");for(r=0;r<o.length;++r)/^ {0,3}\|/.test(o[r])&&(o[r]=o[r].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(o[r])&&(o[r]=o[r].replace(/\|[ \t]*$/,"")),o[r]=a.subParser("codeSpans")(o[r],e,n);var s,c,l,u,h=o[0].split("|").map((function(t){return t.trim()})),d=o[1].split("|").map((function(t){return t.trim()})),f=[],p=[],g=[],m=[];for(o.shift(),o.shift(),r=0;r<o.length;++r)""!==o[r].trim()&&f.push(o[r].split("|").map((function(t){return t.trim()})));if(h.length<d.length)return t;for(r=0;r<d.length;++r)g.push((s=d[r],/^:[ \t]*--*$/.test(s)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(s)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(s)?' style="text-align:center;"':""));for(r=0;r<h.length;++r)a.helper.isUndefined(g[r])&&(g[r]=""),p.push((c=h[r],l=g[r],u=void 0,u="",c=c.trim(),(e.tablesHeaderId||e.tableHeaderId)&&(u=' id="'+c.replace(/ /g,"_").toLowerCase()+'"'),"<th"+u+l+">"+(c=a.subParser("spanGamut")(c,e,n))+"</th>\n"));for(r=0;r<f.length;++r){for(var v=[],y=0;y<p.length;++y)a.helper.isUndefined(f[r][y]),v.push(i(f[r][y],g[y]));m.push(v)}return function(t,e){for(var n="<table>\n<thead>\n<tr>\n",i=t.length,r=0;r<i;++r)n+=t[r];for(n+="</tr>\n</thead>\n<tbody>\n",r=0;r<e.length;++r){n+="<tr>\n";for(var a=0;a<i;++a)n+=e[r][a];n+="</tr>\n"}return n+="</tbody>\n</table>\n"}(p,m)}return t=(t=(t=(t=n.converter._dispatch("tables.before",t,e,n)).replace(/\\(\|)/g,a.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|Â¨0)/gm,r)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|Â¨0)/gm,r),t=n.converter._dispatch("tables.after",t,e,n)})),a.subParser("underline",(function(t,e,n){"use strict";return e.underline?(t=n.converter._dispatch("underline.before",t,e,n),t=(t=e.literalMidWordUnderscores?(t=t.replace(/\b___(\S[\s\S]*?)___\b/g,(function(t,e){return"<u>"+e+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(t,e){return"<u>"+e+"</u>"})):(t=t.replace(/___(\S[\s\S]*?)___/g,(function(t,e){return/\S$/.test(e)?"<u>"+e+"</u>":t}))).replace(/__(\S[\s\S]*?)__/g,(function(t,e){return/\S$/.test(e)?"<u>"+e+"</u>":t}))).replace(/(_)/g,a.helper.escapeCharactersCallback),t=n.converter._dispatch("underline.after",t,e,n)):t})),a.subParser("unescapeSpecialChars",(function(t,e,n){"use strict";return t=(t=n.converter._dispatch("unescapeSpecialChars.before",t,e,n)).replace(/Â¨E(\d+)E/g,(function(t,e){var n=parseInt(e);return String.fromCharCode(n)})),t=n.converter._dispatch("unescapeSpecialChars.after",t,e,n)})),a.subParser("makeMarkdown.blockquote",(function(t,e){"use strict";var n="";if(t.hasChildNodes())for(var i=t.childNodes,r=i.length,o=0;o<r;++o){var s=a.subParser("makeMarkdown.node")(i[o],e);""!==s&&(n+=s)}return n="> "+(n=n.trim()).split("\n").join("\n> ")})),a.subParser("makeMarkdown.codeBlock",(function(t,e){"use strict";var n=t.getAttribute("language"),i=t.getAttribute("precodenum");return"```"+n+"\n"+e.preList[i]+"\n```"})),a.subParser("makeMarkdown.codeSpan",(function(t){"use strict";return"`"+t.innerHTML+"`"})),a.subParser("makeMarkdown.emphasis",(function(t,e){"use strict";var n="";if(t.hasChildNodes()){n+="*";for(var i=t.childNodes,r=i.length,o=0;o<r;++o)n+=a.subParser("makeMarkdown.node")(i[o],e);n+="*"}return n})),a.subParser("makeMarkdown.header",(function(t,e,n){"use strict";var i=new Array(n+1).join("#"),r="";if(t.hasChildNodes()){r=i+" ";for(var o=t.childNodes,s=o.length,c=0;c<s;++c)r+=a.subParser("makeMarkdown.node")(o[c],e)}return r})),a.subParser("makeMarkdown.hr",(function(){"use strict";return"---"})),a.subParser("makeMarkdown.image",(function(t){"use strict";var e="";return t.hasAttribute("src")&&(e+="!["+t.getAttribute("alt")+"](",e+="<"+t.getAttribute("src")+">",t.hasAttribute("width")&&t.hasAttribute("height")&&(e+=" ="+t.getAttribute("width")+"x"+t.getAttribute("height")),t.hasAttribute("title")&&(e+=' "'+t.getAttribute("title")+'"'),e+=")"),e})),a.subParser("makeMarkdown.links",(function(t,e){"use strict";var n="";if(t.hasChildNodes()&&t.hasAttribute("href")){var i=t.childNodes,r=i.length;n="[";for(var o=0;o<r;++o)n+=a.subParser("makeMarkdown.node")(i[o],e);n+="](",n+="<"+t.getAttribute("href")+">",t.hasAttribute("title")&&(n+=' "'+t.getAttribute("title")+'"'),n+=")"}return n})),a.subParser("makeMarkdown.list",(function(t,e,n){"use strict";var i="";if(!t.hasChildNodes())return"";for(var r=t.childNodes,o=r.length,s=t.getAttribute("start")||1,c=0;c<o;++c)if(void 0!==r[c].tagName&&"li"===r[c].tagName.toLowerCase()){i+=("ol"===n?s.toString()+". ":"- ")+a.subParser("makeMarkdown.listItem")(r[c],e),++s}return(i+="\n\x3c!-- --\x3e\n").trim()})),a.subParser("makeMarkdown.listItem",(function(t,e){"use strict";for(var n="",i=t.childNodes,r=i.length,o=0;o<r;++o)n+=a.subParser("makeMarkdown.node")(i[o],e);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n})),a.subParser("makeMarkdown.node",(function(t,e,n){"use strict";n=n||!1;var i="";if(3===t.nodeType)return a.subParser("makeMarkdown.txt")(t,e);if(8===t.nodeType)return"\x3c!--"+t.data+"--\x3e\n\n";if(1!==t.nodeType)return"";switch(t.tagName.toLowerCase()){case"h1":n||(i=a.subParser("makeMarkdown.header")(t,e,1)+"\n\n");break;case"h2":n||(i=a.subParser("makeMarkdown.header")(t,e,2)+"\n\n");break;case"h3":n||(i=a.subParser("makeMarkdown.header")(t,e,3)+"\n\n");break;case"h4":n||(i=a.subParser("makeMarkdown.header")(t,e,4)+"\n\n");break;case"h5":n||(i=a.subParser("makeMarkdown.header")(t,e,5)+"\n\n");break;case"h6":n||(i=a.subParser("makeMarkdown.header")(t,e,6)+"\n\n");break;case"p":n||(i=a.subParser("makeMarkdown.paragraph")(t,e)+"\n\n");break;case"blockquote":n||(i=a.subParser("makeMarkdown.blockquote")(t,e)+"\n\n");break;case"hr":n||(i=a.subParser("makeMarkdown.hr")(t,e)+"\n\n");break;case"ol":n||(i=a.subParser("makeMarkdown.list")(t,e,"ol")+"\n\n");break;case"ul":n||(i=a.subParser("makeMarkdown.list")(t,e,"ul")+"\n\n");break;case"precode":n||(i=a.subParser("makeMarkdown.codeBlock")(t,e)+"\n\n");break;case"pre":n||(i=a.subParser("makeMarkdown.pre")(t,e)+"\n\n");break;case"table":n||(i=a.subParser("makeMarkdown.table")(t,e)+"\n\n");break;case"code":i=a.subParser("makeMarkdown.codeSpan")(t,e);break;case"em":case"i":i=a.subParser("makeMarkdown.emphasis")(t,e);break;case"strong":case"b":i=a.subParser("makeMarkdown.strong")(t,e);break;case"del":i=a.subParser("makeMarkdown.strikethrough")(t,e);break;case"a":i=a.subParser("makeMarkdown.links")(t,e);break;case"img":i=a.subParser("makeMarkdown.image")(t,e);break;default:i=t.outerHTML+"\n\n"}return i})),a.subParser("makeMarkdown.paragraph",(function(t,e){"use strict";var n="";if(t.hasChildNodes())for(var i=t.childNodes,r=i.length,o=0;o<r;++o)n+=a.subParser("makeMarkdown.node")(i[o],e);return n=n.trim()})),a.subParser("makeMarkdown.pre",(function(t,e){"use strict";var n=t.getAttribute("prenum");return"<pre>"+e.preList[n]+"</pre>"})),a.subParser("makeMarkdown.strikethrough",(function(t,e){"use strict";var n="";if(t.hasChildNodes()){n+="~~";for(var i=t.childNodes,r=i.length,o=0;o<r;++o)n+=a.subParser("makeMarkdown.node")(i[o],e);n+="~~"}return n})),a.subParser("makeMarkdown.strong",(function(t,e){"use strict";var n="";if(t.hasChildNodes()){n+="**";for(var i=t.childNodes,r=i.length,o=0;o<r;++o)n+=a.subParser("makeMarkdown.node")(i[o],e);n+="**"}return n})),a.subParser("makeMarkdown.table",(function(t,e){"use strict";var n,i,r="",o=[[],[]],s=t.querySelectorAll("thead>tr>th"),c=t.querySelectorAll("tbody>tr");for(n=0;n<s.length;++n){var l=a.subParser("makeMarkdown.tableCell")(s[n],e),u="---";if(s[n].hasAttribute("style"))switch(s[n].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":u=":---";break;case"text-align:right;":u="---:";break;case"text-align:center;":u=":---:"}o[0][n]=l.trim(),o[1][n]=u}for(n=0;n<c.length;++n){var h=o.push([])-1,d=c[n].getElementsByTagName("td");for(i=0;i<s.length;++i){var f=" ";void 0!==d[i]&&(f=a.subParser("makeMarkdown.tableCell")(d[i],e)),o[h].push(f)}}var p=3;for(n=0;n<o.length;++n)for(i=0;i<o[n].length;++i){var g=o[n][i].length;g>p&&(p=g)}for(n=0;n<o.length;++n){for(i=0;i<o[n].length;++i)1===n?":"===o[n][i].slice(-1)?o[n][i]=a.helper.padEnd(o[n][i].slice(-1),p-1,"-")+":":o[n][i]=a.helper.padEnd(o[n][i],p,"-"):o[n][i]=a.helper.padEnd(o[n][i],p);r+="| "+o[n].join(" | ")+" |\n"}return r.trim()})),a.subParser("makeMarkdown.tableCell",(function(t,e){"use strict";var n="";if(!t.hasChildNodes())return"";for(var i=t.childNodes,r=i.length,o=0;o<r;++o)n+=a.subParser("makeMarkdown.node")(i[o],e,!0);return n.trim()})),a.subParser("makeMarkdown.txt",(function(t){"use strict";var e=t.nodeValue;return e=(e=e.replace(/ +/g," ")).replace(/Â¨NBSP;/g," "),e=(e=(e=(e=(e=(e=(e=(e=(e=a.helper.unescapeHTMLEntities(e)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}));void 0===(r=function(){"use strict";return a}.call(e,n,e,t))||(t.exports=r)}).call(this)}).call(this,n(0))},79:function(t,e,n){(function(i){var r,a,o;window.angular,window.c3;a=[n(0),n(16)],void 0===(o="function"==typeof(r=function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?r.apply(e,a):r)||(t.exports=o)}).call(this,n(0))},80:function(t,e,n){(function(i){var r,a,o;window.angular,window.c3;a=[n(0),n(16)],void 0===(o="function"==typeof(r=function(t){var e,n=0,i=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var i,r,a;for(a=0;null!=(r=n[a]);a++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var r,a,o,s={},c=e.split(".")[0],l=c+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[c]=t[c]||{},r=t[c][e],a=t[c][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(o=new n).options=t.widget.extend({},o.options),t.each(i,(function(e,i){t.isFunction(i)?s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,a=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=a,e}}():s[e]=i})),a.prototype=t.widget.extend(o,{widgetEventPrefix:r&&o.widgetEventPrefix||e},s,{constructor:a,namespace:c,widgetName:e,widgetFullName:l}),r?(t.each(r._childConstructors,(function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)})),delete r._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var n,r,a=i.call(arguments,1),o=0,s=a.length;o<s;o++)for(n in a[o])r=a[o][n],a[o].hasOwnProperty(n)&&void 0!==r&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(a){var o="string"==typeof a,s=i.call(arguments,1),c=this;return o?this.length||"instance"!==a?this.each((function(){var n,i=t.data(this,r);return"instance"===a?(c=i,!1):i?t.isFunction(i[a])&&"_"!==a.charAt(0)?(n=i[a].apply(i,s))!==i&&void 0!==n?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")})):c=void 0:(s.length&&(a=t.widget.extend.apply(null,[a].concat(s))),this.each((function(){var e=t.data(this,r);e?(e.option(a||{}),e._init&&e._init()):t.data(this,r,new n(a,this))}))),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,n){e._removeClass(n,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,a,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},i=e.split("."),e=i.shift(),i.length){for(r=o[e]=t.widget.extend({},this.options[e]),a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=n}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,a){var o,s;for(s=0;s<r.length;s++)o=i.classesElementLookup[r[s]]||t(),o=e.add?t(t.unique(o.get().concat(e.element.get()))):t(o.not(e.element).get()),i.classesElementLookup[r[s]]=o,n.push(r[s]),a&&e.classes[r[s]]&&n.push(e.classes[r[s]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,(function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))}))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,a={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return a.element.toggleClass(this._classes(a),i),this},_on:function(e,n,i){var r,a=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,(function(i,o){function s(){if(e||!0!==a.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||t.guid++);var c=i.match(/^([\w:-]*)\s*(.*)$/),l=c[1]+a.eventNamespace,u=c[2];u?r.on(l,u,s):n.on(l,s)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout((function(){return("string"==typeof t?n[t]:t).apply(n,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,a,o=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(t.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(i,r,a){var o;"string"==typeof r&&(r={effect:r});var s=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),o&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,a):i.queue((function(n){t(this)[e](),a&&a.call(i[0]),n()}))}})),t.widget})?r.apply(e,a):r)||(t.exports=o)}).call(this,n(0))}}]);
//# sourceMappingURL=source-mapping/vendors.44c01429061adb693b3d4acecd74c037.js.map